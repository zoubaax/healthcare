(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=n(u);fetch(u.href,d)}})();var Nu={exports:{}},Vn={};var E0;function eb(){if(E0)return Vn;E0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(o,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:s,type:o,key:f,ref:u!==void 0?u:null,props:d}}return Vn.Fragment=a,Vn.jsx=n,Vn.jsxs=n,Vn}var T0;function tb(){return T0||(T0=1,Nu.exports=eb()),Nu.exports}var i=tb(),Su={exports:{}},ue={};var A0;function ab(){if(A0)return ue;A0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function N(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function C(j,B,V){this.props=j,this.context=B,this.refs=E,this.updater=V||T}C.prototype.isReactComponent={},C.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=C.prototype;function L(j,B,V){this.props=j,this.context=B,this.refs=E,this.updater=V||T}var P=L.prototype=new A;P.constructor=L,R(P,C.prototype),P.isPureReactComponent=!0;var Z=Array.isArray;function W(){}var K={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ge(j,B,V){var J=V.ref;return{$$typeof:s,type:j,key:B,ref:J!==void 0?J:null,props:V}}function Q(j,B){return ge(j.type,B,j.props)}function we(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function Te(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(V){return B[V]})}var gt=/\/+/g;function X(j,B){return typeof j=="object"&&j!==null&&j.key!=null?Te(""+j.key):B.toString(36)}function G(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(W,W):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,B,V,J,ee){var he=typeof j;(he==="undefined"||he==="boolean")&&(j=null);var _e=!1;if(j===null)_e=!0;else switch(he){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(j.$$typeof){case s:case a:_e=!0;break;case v:return _e=j._init,z(_e(j._payload),B,V,J,ee)}}if(_e)return ee=ee(j),_e=J===""?"."+X(j,0):J,Z(ee)?(V="",_e!=null&&(V=_e.replace(gt,"$&/")+"/"),z(ee,B,V,"",function(Is){return Is})):ee!=null&&(we(ee)&&(ee=Q(ee,V+(ee.key==null||j&&j.key===ee.key?"":(""+ee.key).replace(gt,"$&/")+"/")+_e)),B.push(ee)),1;_e=0;var pt=J===""?".":J+":";if(Z(j))for(var Pe=0;Pe<j.length;Pe++)J=j[Pe],he=pt+X(J,Pe),_e+=z(J,B,V,he,ee);else if(Pe=N(j),typeof Pe=="function")for(j=Pe.call(j),Pe=0;!(J=j.next()).done;)J=J.value,he=pt+X(J,Pe++),_e+=z(J,B,V,he,ee);else if(he==="object"){if(typeof j.then=="function")return z(G(j),B,V,J,ee);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return _e}function I(j,B,V){if(j==null)return j;var J=[],ee=0;return z(j,J,"","",function(he){return B.call(V,he,ee++)}),J}function ne(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(V){(j._status===0||j._status===-1)&&(j._status=1,j._result=V)},function(V){(j._status===0||j._status===-1)&&(j._status=2,j._result=V)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var je=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ke={map:I,forEach:function(j,B,V){I(j,function(){B.apply(this,arguments)},V)},count:function(j){var B=0;return I(j,function(){B++}),B},toArray:function(j){return I(j,function(B){return B})||[]},only:function(j){if(!we(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ue.Activity=b,ue.Children=ke,ue.Component=C,ue.Fragment=n,ue.Profiler=u,ue.PureComponent=L,ue.StrictMode=o,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ue.__COMPILER_RUNTIME={__proto__:null,c:function(j){return K.H.useMemoCache(j)}},ue.cache=function(j){return function(){return j.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(j,B,V){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=R({},j.props),ee=j.key;if(B!=null)for(he in B.key!==void 0&&(ee=""+B.key),B)!de.call(B,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&B.ref===void 0||(J[he]=B[he]);var he=arguments.length-2;if(he===1)J.children=V;else if(1<he){for(var _e=Array(he),pt=0;pt<he;pt++)_e[pt]=arguments[pt+2];J.children=_e}return ge(j.type,ee,J)},ue.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},ue.createElement=function(j,B,V){var J,ee={},he=null;if(B!=null)for(J in B.key!==void 0&&(he=""+B.key),B)de.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ee[J]=B[J]);var _e=arguments.length-2;if(_e===1)ee.children=V;else if(1<_e){for(var pt=Array(_e),Pe=0;Pe<_e;Pe++)pt[Pe]=arguments[Pe+2];ee.children=pt}if(j&&j.defaultProps)for(J in _e=j.defaultProps,_e)ee[J]===void 0&&(ee[J]=_e[J]);return ge(j,he,ee)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(j){return{$$typeof:g,render:j}},ue.isValidElement=we,ue.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ne}},ue.memo=function(j,B){return{$$typeof:p,type:j,compare:B===void 0?null:B}},ue.startTransition=function(j){var B=K.T,V={};K.T=V;try{var J=j(),ee=K.S;ee!==null&&ee(V,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(W,je)}catch(he){je(he)}finally{B!==null&&V.types!==null&&(B.types=V.types),K.T=B}},ue.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ue.use=function(j){return K.H.use(j)},ue.useActionState=function(j,B,V){return K.H.useActionState(j,B,V)},ue.useCallback=function(j,B){return K.H.useCallback(j,B)},ue.useContext=function(j){return K.H.useContext(j)},ue.useDebugValue=function(){},ue.useDeferredValue=function(j,B){return K.H.useDeferredValue(j,B)},ue.useEffect=function(j,B){return K.H.useEffect(j,B)},ue.useEffectEvent=function(j){return K.H.useEffectEvent(j)},ue.useId=function(){return K.H.useId()},ue.useImperativeHandle=function(j,B,V){return K.H.useImperativeHandle(j,B,V)},ue.useInsertionEffect=function(j,B){return K.H.useInsertionEffect(j,B)},ue.useLayoutEffect=function(j,B){return K.H.useLayoutEffect(j,B)},ue.useMemo=function(j,B){return K.H.useMemo(j,B)},ue.useOptimistic=function(j,B){return K.H.useOptimistic(j,B)},ue.useReducer=function(j,B,V){return K.H.useReducer(j,B,V)},ue.useRef=function(j){return K.H.useRef(j)},ue.useState=function(j){return K.H.useState(j)},ue.useSyncExternalStore=function(j,B,V){return K.H.useSyncExternalStore(j,B,V)},ue.useTransition=function(){return K.H.useTransition()},ue.version="19.2.3",ue}var O0;function ld(){return O0||(O0=1,Su.exports=ab()),Su.exports}var S=ld(),ku={exports:{}},Pn={},Eu={exports:{}},Tu={};var C0;function rb(){return C0||(C0=1,(function(s){function a(z,I){var ne=z.length;z.push(I);e:for(;0<ne;){var je=ne-1>>>1,ke=z[je];if(0<u(ke,I))z[je]=I,z[ne]=ke,ne=je;else break e}}function n(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var I=z[0],ne=z.pop();if(ne!==I){z[0]=ne;e:for(var je=0,ke=z.length,j=ke>>>1;je<j;){var B=2*(je+1)-1,V=z[B],J=B+1,ee=z[J];if(0>u(V,ne))J<ke&&0>u(ee,V)?(z[je]=ee,z[J]=ne,je=J):(z[je]=V,z[B]=ne,je=B);else if(J<ke&&0>u(ee,ne))z[je]=ee,z[J]=ne,je=J;else break e}}return I}function u(z,I){var ne=z.sortIndex-I.sortIndex;return ne!==0?ne:z.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var m=[],p=[],v=1,b=null,w=3,N=!1,T=!1,R=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var I=n(p);I!==null;){if(I.callback===null)o(p);else if(I.startTime<=z)o(p),I.sortIndex=I.expirationTime,a(m,I);else break;I=n(p)}}function Z(z){if(R=!1,P(z),!T)if(n(m)!==null)T=!0,W||(W=!0,Te());else{var I=n(p);I!==null&&G(Z,I.startTime-z)}}var W=!1,K=-1,de=5,ge=-1;function Q(){return E?!0:!(s.unstable_now()-ge<de)}function we(){if(E=!1,W){var z=s.unstable_now();ge=z;var I=!0;try{e:{T=!1,R&&(R=!1,A(K),K=-1),N=!0;var ne=w;try{t:{for(P(z),b=n(m);b!==null&&!(b.expirationTime>z&&Q());){var je=b.callback;if(typeof je=="function"){b.callback=null,w=b.priorityLevel;var ke=je(b.expirationTime<=z);if(z=s.unstable_now(),typeof ke=="function"){b.callback=ke,P(z),I=!0;break t}b===n(m)&&o(m),P(z)}else o(m);b=n(m)}if(b!==null)I=!0;else{var j=n(p);j!==null&&G(Z,j.startTime-z),I=!1}}break e}finally{b=null,w=ne,N=!1}I=void 0}}finally{I?Te():W=!1}}}var Te;if(typeof L=="function")Te=function(){L(we)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,X=gt.port2;gt.port1.onmessage=we,Te=function(){X.postMessage(null)}}else Te=function(){C(we,0)};function G(z,I){K=C(function(){z(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(z){switch(w){case 1:case 2:case 3:var I=3;break;default:I=w}var ne=w;w=I;try{return z()}finally{w=ne}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=w;w=z;try{return I()}finally{w=ne}},s.unstable_scheduleCallback=function(z,I,ne){var je=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?je+ne:je):ne=je,z){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ne+ke,z={id:v++,callback:I,priorityLevel:z,startTime:ne,expirationTime:ke,sortIndex:-1},ne>je?(z.sortIndex=ne,a(p,z),n(m)===null&&z===n(p)&&(R?(A(K),K=-1):R=!0,G(Z,ne-je))):(z.sortIndex=ke,a(m,z),T||N||(T=!0,W||(W=!0,Te()))),z},s.unstable_shouldYield=Q,s.unstable_wrapCallback=function(z){var I=w;return function(){var ne=w;w=I;try{return z.apply(this,arguments)}finally{w=ne}}}})(Tu)),Tu}var R0;function sb(){return R0||(R0=1,Eu.exports=rb()),Eu.exports}var Au={exports:{}},yt={};var D0;function nb(){if(D0)return yt;D0=1;var s=ld();function a(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,yt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(m,p,null,v)},yt.flushSync=function(m){var p=f.T,v=o.p;try{if(f.T=null,o.p=2,m)return m()}finally{f.T=p,o.p=v,o.d.f()}},yt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(m,p))},yt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},yt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:N}):v==="script"&&o.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);o.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(m)},yt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin);o.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);o.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(m)},yt.requestFormReset=function(m){o.d.r(m)},yt.unstable_batchedUpdates=function(m,p){return m(p)},yt.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var M0;function ib(){if(M0)return Au.exports;M0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Au.exports=nb(),Au.exports}var U0;function lb(){if(U0)return Pn;U0=1;var s=sb(),a=ld(),n=ib();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return m(c),e;if(h===l)return m(c),t;h=h.sibling}throw Error(o(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,x=c.child;x;){if(x===r){y=!0,r=c,l=h;break}if(x===l){y=!0,l=c,r=h;break}x=x.sibling}if(!y){for(x=h.child;x;){if(x===r){y=!0,r=h,l=c;break}if(x===l){y=!0,l=h,r=c;break}x=x.sibling}if(!y)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),L=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case Z:return"Suspense";case W:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case L:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}var G=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},je=[],ke=-1;function j(e){return{current:e}}function B(e){0>ke||(e.current=je[ke],je[ke]=null,ke--)}function V(e,t){ke++,je[ke]=e.current,e.current=t}var J=j(null),ee=j(null),he=j(null),_e=j(null);function pt(e,t){switch(V(he,t),V(ee,e),V(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Im(t),e=Zm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(J),V(J,e)}function Pe(){B(J),B(ee),B(he)}function Is(e){e.memoizedState!==null&&V(_e,e);var t=J.current,r=Zm(t,e.type);t!==r&&(V(ee,e),V(J,r))}function hi(e){ee.current===e&&(B(J),B(ee)),_e.current===e&&(B(_e),Hn._currentValue=ne)}var no,Sd;function pr(e){if(no===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);no=t&&t[1]||"",Sd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+no+e+Sd}var io=!1;function lo(e,t){if(!e||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var U=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){U=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){U=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],x=h[1];if(y&&x){var _=y.split(`
`),M=x.split(`
`);for(c=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===_.length||c===M.length)for(l=_.length-1,c=M.length-1;1<=l&&0<=c&&_[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(_[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||_[l]!==M[c]){var H=`
`+_[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=c);break}}}finally{io=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?pr(r):""}function Cy(e,t){switch(e.tag){case 26:case 27:case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return e.child!==t&&t!==null?pr("Suspense Fallback"):pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return lo(e.type,!1);case 11:return lo(e.type.render,!1);case 1:return lo(e.type,!0);case 31:return pr("Activity");default:return""}}function kd(e){try{var t="",r=null;do t+=Cy(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var oo=Object.prototype.hasOwnProperty,co=s.unstable_scheduleCallback,uo=s.unstable_cancelCallback,Ry=s.unstable_shouldYield,Dy=s.unstable_requestPaint,Tt=s.unstable_now,My=s.unstable_getCurrentPriorityLevel,Ed=s.unstable_ImmediatePriority,Td=s.unstable_UserBlockingPriority,fi=s.unstable_NormalPriority,Uy=s.unstable_LowPriority,Ad=s.unstable_IdlePriority,zy=s.log,Ly=s.unstable_setDisableYieldValue,Zs=null,At=null;function Ha(e){if(typeof zy=="function"&&Ly(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Zs,e)}catch{}}var Ot=Math.clz32?Math.clz32:Hy,By=Math.log,qy=Math.LN2;function Hy(e){return e>>>=0,e===0?32:31-(By(e)/qy|0)|0}var mi=256,gi=262144,yi=4194304;function xr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~h,l!==0?c=xr(l):(y&=x,y!==0?c=xr(y):r||(r=x&~e,r!==0&&(c=xr(r))))):(x=l&~h,x!==0?c=xr(x):y!==0?c=xr(y):r||(r=l&~e,r!==0&&(c=xr(r)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,r=t&-t,h>=r||h===32&&(r&4194048)!==0)?t:c}function Ws(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $y(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Od(){var e=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),e}function ho(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yy(e,t,r,l,c,h){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,M=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ot(r),Y=1<<H;x[H]=0,_[H]=-1;var U=M[H];if(U!==null)for(M[H]=null,H=0;H<U.length;H++){var q=U[H];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Cd(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(y&~t))}function Cd(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Rd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-Ot(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function Dd(e,t){var r=t&-t;return r=(r&42)!==0?1:fo(r),(r&(e.suspendedLanes|t))!==0?0:r}function fo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:v0(e.type))}function Ud(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var $a=Math.random().toString(36).slice(2),lt="__reactFiber$"+$a,vt="__reactProps$"+$a,Kr="__reactContainer$"+$a,go="__reactEvents$"+$a,Gy="__reactListeners$"+$a,Vy="__reactHandles$"+$a,zd="__reactResources$"+$a,en="__reactMarker$"+$a;function yo(e){delete e[lt],delete e[vt],delete e[go],delete e[Gy],delete e[Vy]}function Qr(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kr]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=s0(e);e!==null;){if(r=e[lt])return r;e=s0(e)}return t}e=r,r=e.parentNode}return null}function Xr(e){if(e=e[lt]||e[Kr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function tn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Jr(e){var t=e[zd];return t||(t=e[zd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[en]=!0}var Ld=new Set,Bd={};function br(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(Bd[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var Py=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Hd={};function Ky(e){return oo.call(Hd,e)?!0:oo.call(qd,e)?!1:Py.test(e)?Hd[e]=!0:(qd[e]=!0,!1)}function xi(e,t,r){if(Ky(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function bi(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function ya(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qy(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,h.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function po(e){if(!e._valueTracker){var t=$d(e)?"checked":"value";e._valueTracker=Qy(e,t,""+e[t])}}function Yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=$d(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xy=/[\n"\\]/g;function Pt(e){return e.replace(Xy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xo(e,t,r,l,c,h,y,x){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?bo(e,y,Vt(t)):r!=null?bo(e,y,Vt(r)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Vt(x):e.removeAttribute("name")}function Gd(e,t,r,l,c,h,y,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){po(e);return}r=r!=null?""+Vt(r):"",t=t!=null?""+Vt(t):r,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),po(e)}function bo(e,t,r){t==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Zr(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Vt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Vd(e,t,r){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Vt(r):""}function Pd(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(o(92));if(G(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Vt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),po(e)}function Wr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Jy.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Qd(e,t,r){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&Kd(e,c,l)}else for(var h in t)t.hasOwnProperty(h)&&Kd(e,h,t[h])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(e){return Zy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var wo=null;function jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fr=null,es=null;function Xd(e){var t=Xr(e);if(t&&(e=t.stateNode)){var r=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[vt]||null;if(!c)throw Error(o(90));xo(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Yd(l)}break e;case"textarea":Vd(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Zr(e,!!r.multiple,t,!1)}}}var _o=!1;function Jd(e,t,r){if(_o)return e(t,r);_o=!0;try{var l=e(t);return l}finally{if(_o=!1,(Fr!==null||es!==null)&&(ol(),Fr&&(t=Fr,e=es,es=Fr=null,Xd(t),e)))for(t=0;t<e.length;t++)Xd(e[t])}}function an(e,t){var r=e.stateNode;if(r===null)return null;var l=r[vt]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(xa)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){No=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{No=!1}var Ya=null,So=null,ji=null;function Id(){if(ji)return ji;var e,t=So,r=t.length,l,c="value"in Ya?Ya.value:Ya.textContent,h=c.length;for(e=0;e<r&&t[e]===c[e];e++);var y=r-e;for(l=1;l<=y&&t[r-l]===c[h-l];l++);return ji=c.slice(e,1<l?1-l:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Zd(){return!1}function wt(e){function t(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ni:Zd,this.isPropagationStopped=Zd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=wt(vr),sn=b({},vr,{view:0,detail:0}),Wy=wt(sn),ko,Eo,nn,ki=b({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&e.type==="mousemove"?(ko=e.screenX-nn.screenX,Eo=e.screenY-nn.screenY):Eo=ko=0,nn=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),Wd=wt(ki),Fy=b({},ki,{dataTransfer:0}),ep=wt(Fy),tp=b({},sn,{relatedTarget:0}),To=wt(tp),ap=b({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=wt(ap),sp=b({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=wt(sp),ip=b({},vr,{data:0}),Fd=wt(ip),lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function Ao(){return up}var dp=b({},sn,{key:function(e){if(e.key){var t=lp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=wt(dp),fp=b({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=wt(fp),mp=b({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),gp=wt(mp),yp=b({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=wt(yp),xp=b({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bp=wt(xp),vp=b({},vr,{newState:0,oldState:0}),wp=wt(vp),jp=[9,13,27,32],Oo=xa&&"CompositionEvent"in window,ln=null;xa&&"documentMode"in document&&(ln=document.documentMode);var _p=xa&&"TextEvent"in window&&!ln,th=xa&&(!Oo||ln&&8<ln&&11>=ln),ah=" ",rh=!1;function sh(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function Np(e,t){switch(e){case"compositionend":return nh(t);case"keypress":return t.which!==32?null:(rh=!0,ah);case"textInput":return e=t.data,e===ah&&rh?null:e;default:return null}}function Sp(e,t){if(ts)return e==="compositionend"||!Oo&&sh(e,t)?(e=Id(),ji=So=Ya=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return th&&t.locale!=="ko"?null:t.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kp[e.type]:t==="textarea"}function lh(e,t,r,l){Fr?es?es.push(l):es=[l]:Fr=l,t=gl(t,"onChange"),0<t.length&&(r=new Si("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var on=null,cn=null;function Ep(e){Vm(e,0)}function Ei(e){var t=tn(e);if(Yd(t))return e}function oh(e,t){if(e==="change")return t}var ch=!1;if(xa){var Co;if(xa){var Ro="oninput"in document;if(!Ro){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),Ro=typeof uh.oninput=="function"}Co=Ro}else Co=!1;ch=Co&&(!document.documentMode||9<document.documentMode)}function dh(){on&&(on.detachEvent("onpropertychange",hh),cn=on=null)}function hh(e){if(e.propertyName==="value"&&Ei(cn)){var t=[];lh(t,cn,e,jo(e)),Jd(Ep,t)}}function Tp(e,t,r){e==="focusin"?(dh(),on=t,cn=r,on.attachEvent("onpropertychange",hh)):e==="focusout"&&dh()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(cn)}function Op(e,t){if(e==="click")return Ei(t)}function Cp(e,t){if(e==="input"||e==="change")return Ei(t)}function Rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Rp;function un(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!oo.call(t,c)||!Ct(e[c],t[c]))return!1}return!0}function fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var r=fh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fh(r)}}function gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vi(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vi(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dp=xa&&"documentMode"in document&&11>=document.documentMode,as=null,Mo=null,dn=null,Uo=!1;function ph(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uo||as==null||as!==vi(l)||(l=as,"selectionStart"in l&&Do(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dn&&un(dn,l)||(dn=l,l=gl(Mo,"onSelect"),0<l.length&&(t=new Si("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=as)))}function wr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rs={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},zo={},xh={};xa&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function jr(e){if(zo[e])return zo[e];if(!rs[e])return e;var t=rs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xh)return zo[e]=t[r];return e}var bh=jr("animationend"),vh=jr("animationiteration"),wh=jr("animationstart"),Mp=jr("transitionrun"),Up=jr("transitionstart"),zp=jr("transitioncancel"),jh=jr("transitionend"),_h=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function aa(e,t){_h.set(e,t),br(t,[e])}var Ti=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],ss=0,Bo=0;function Ai(){for(var e=ss,t=Bo=ss=0;t<e;){var r=Kt[t];Kt[t++]=null;var l=Kt[t];Kt[t++]=null;var c=Kt[t];Kt[t++]=null;var h=Kt[t];if(Kt[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Nh(r,c,h)}}function Oi(e,t,r,l){Kt[ss++]=e,Kt[ss++]=t,Kt[ss++]=r,Kt[ss++]=l,Bo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qo(e,t,r,l){return Oi(e,t,r,l),Ci(e)}function _r(e,t){return Oi(e,null,null,t),Ci(e)}function Nh(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-Ot(r),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),h):null}function Ci(e){if(50<Dn)throw Dn=0,Xc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ns={};function Lp(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,r,l){return new Lp(e,t,r,l)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var r=e.alternate;return r===null?(r=Rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Sh(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ri(e,t,r,l,c,h){var y=0;if(l=e,typeof e=="function")Ho(e)&&(y=1);else if(typeof e=="string")y=Yx(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Rt(31,r,t,c),e.elementType=ge,e.lanes=h,e;case R:return Nr(r.children,c,h,t);case E:y=8,c|=24;break;case C:return e=Rt(12,r,t,c|2),e.elementType=C,e.lanes=h,e;case Z:return e=Rt(13,r,t,c),e.elementType=Z,e.lanes=h,e;case W:return e=Rt(19,r,t,c),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:y=10;break e;case A:y=9;break e;case P:y=11;break e;case K:y=14;break e;case de:y=16,l=null;break e}y=29,r=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Rt(y,r,t,c),t.elementType=e,t.type=l,t.lanes=h,t}function Nr(e,t,r,l){return e=Rt(7,e,l,t),e.lanes=r,e}function $o(e,t,r){return e=Rt(6,e,null,t),e.lanes=r,e}function kh(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function Yo(e,t,r){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Eh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var r=Eh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:kd(t)},Eh.set(e,t),t)}return{value:e,source:t,stack:kd(t)}}var is=[],ls=0,Di=null,hn=0,Xt=[],Jt=0,Ga=null,ua=1,da="";function va(e,t){is[ls++]=hn,is[ls++]=Di,Di=e,hn=t}function Th(e,t,r){Xt[Jt++]=ua,Xt[Jt++]=da,Xt[Jt++]=Ga,Ga=e;var l=ua;e=da;var c=32-Ot(l)-1;l&=~(1<<c),r+=1;var h=32-Ot(t)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,ua=1<<32-Ot(t)+c|r<<c|l,da=h+e}else ua=1<<h|r<<c|l,da=e}function Go(e){e.return!==null&&(va(e,1),Th(e,1,0))}function Vo(e){for(;e===Di;)Di=is[--ls],is[ls]=null,hn=is[--ls],is[ls]=null;for(;e===Ga;)Ga=Xt[--Jt],Xt[Jt]=null,da=Xt[--Jt],Xt[Jt]=null,ua=Xt[--Jt],Xt[Jt]=null}function Ah(e,t){Xt[Jt++]=ua,Xt[Jt++]=da,Xt[Jt++]=Ga,ua=t.id,da=t.overflow,Ga=e}var ot=null,Le=null,ve=!1,Va=null,It=!1,Po=Error(o(519));function Pa(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fn(Qt(t,e)),Po}function Oh(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[lt]=e,t[vt]=l,r){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(r=0;r<Un.length;r++)pe(Un[r],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Gd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Pd(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Xm(t.textContent,r)?(l.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),l.onScroll!=null&&pe("scroll",t),l.onScrollEnd!=null&&pe("scrollend",t),l.onClick!=null&&(t.onclick=pa),t=!0):t=!1,t||Pa(e,!0)}function Ch(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:ot=ot.return}}function os(e){if(e!==ot)return!1;if(!ve)return Ch(e),ve=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cu(e.type,e.memoizedProps)),r=!r),r&&Le&&Pa(e),Ch(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Le=r0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Le=r0(e)}else t===27?(t=Le,nr(e.type)?(e=mu,mu=null,Le=e):Le=t):Le=ot?Wt(e.stateNode.nextSibling):null;return!0}function Sr(){Le=ot=null,ve=!1}function Ko(){var e=Va;return e!==null&&(St===null?St=e:St.push.apply(St,e),Va=null),e}function fn(e){Va===null?Va=[e]:Va.push(e)}var Qo=j(null),kr=null,wa=null;function Ka(e,t,r){V(Qo,t._currentValue),t._currentValue=r}function ja(e){e._currentValue=Qo.current,B(Qo)}function Xo(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Jo(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=c;for(var _=0;_<t.length;_++)if(x.context===t[_]){h.lanes|=r,x=h.alternate,x!==null&&(x.lanes|=r),Xo(h.return,r,e),l||(y=null);break e}h=x.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),Xo(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cs(e,t,r,l){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var x=c.type;Ct(c.pendingProps.value,y.value)||(e!==null?e.push(x):e=[x])}}else if(c===_e.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Hn):e=[Hn])}c=c.return}e!==null&&Jo(t,e,r,l),t.flags|=262144}function Mi(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){kr=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Rh(kr,e)}function Ui(e,t){return kr===null&&Er(e),Rh(e,t)}function Rh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},wa===null){if(e===null)throw Error(o(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return r}var Bp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},qp=s.unstable_scheduleCallback,Hp=s.unstable_NormalPriority,Ie={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new Bp,data:new Map,refCount:0}}function mn(e){e.refCount--,e.refCount===0&&qp(Hp,function(){e.controller.abort()})}var gn=null,Zo=0,us=0,ds=null;function $p(e,t){if(gn===null){var r=gn=[];Zo=0,us=eu(),ds={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Zo++,t.then(Dh,Dh),t}function Dh(){if(--Zo===0&&gn!==null){ds!==null&&(ds.status="fulfilled");var e=gn;gn=null,us=0,ds=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yp(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Mh=z.S;z.S=function(e,t){xm=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$p(e,t),Mh!==null&&Mh(e,t)};var Tr=j(null);function Wo(){var e=Tr.current;return e!==null?e:Ue.pooledCache}function zi(e,t){t===null?V(Tr,Tr.current):V(Tr,t.pool)}function Uh(){var e=Wo();return e===null?null:{parent:Ie._currentValue,pool:e}}var hs=Error(o(460)),Fo=Error(o(474)),Li=Error(o(542)),Bi={then:function(){}};function zh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(pa,pa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qh(e),e;default:if(typeof t.status=="string")t.then(pa,pa);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qh(e),e}throw Or=t,hs}}function Ar(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Or=r,hs):r}}var Or=null;function Bh(){if(Or===null)throw Error(o(459));var e=Or;return Or=null,e}function qh(e){if(e===hs||e===Li)throw Error(o(483))}var fs=null,yn=0;function qi(e){var t=yn;return yn+=1,fs===null&&(fs=[]),Lh(fs,e,t)}function pn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hi(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hh(e){function t(O,k){if(e){var D=O.deletions;D===null?(O.deletions=[k],O.flags|=16):D.push(k)}}function r(O,k){if(!e)return null;for(;k!==null;)t(O,k),k=k.sibling;return null}function l(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function c(O,k){return O=ba(O,k),O.index=0,O.sibling=null,O}function h(O,k,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<k?(O.flags|=67108866,k):D):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function y(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,k,D,$){return k===null||k.tag!==6?(k=$o(D,O.mode,$),k.return=O,k):(k=c(k,D),k.return=O,k)}function _(O,k,D,$){var se=D.type;return se===R?H(O,k,D.props.children,$,D.key):k!==null&&(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===de&&Ar(se)===k.type)?(k=c(k,D.props),pn(k,D),k.return=O,k):(k=Ri(D.type,D.key,D.props,null,O.mode,$),pn(k,D),k.return=O,k)}function M(O,k,D,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=Yo(D,O.mode,$),k.return=O,k):(k=c(k,D.children||[]),k.return=O,k)}function H(O,k,D,$,se){return k===null||k.tag!==7?(k=Nr(D,O.mode,$,se),k.return=O,k):(k=c(k,D),k.return=O,k)}function Y(O,k,D){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=$o(""+k,O.mode,D),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return D=Ri(k.type,k.key,k.props,null,O.mode,D),pn(D,k),D.return=O,D;case T:return k=Yo(k,O.mode,D),k.return=O,k;case de:return k=Ar(k),Y(O,k,D)}if(G(k)||Te(k))return k=Nr(k,O.mode,D,null),k.return=O,k;if(typeof k.then=="function")return Y(O,qi(k),D);if(k.$$typeof===L)return Y(O,Ui(O,k),D);Hi(O,k)}return null}function U(O,k,D,$){var se=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:x(O,k,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return D.key===se?_(O,k,D,$):null;case T:return D.key===se?M(O,k,D,$):null;case de:return D=Ar(D),U(O,k,D,$)}if(G(D)||Te(D))return se!==null?null:H(O,k,D,$,null);if(typeof D.then=="function")return U(O,k,qi(D),$);if(D.$$typeof===L)return U(O,k,Ui(O,D),$);Hi(O,D)}return null}function q(O,k,D,$,se){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return O=O.get(D)||null,x(k,O,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case N:return O=O.get($.key===null?D:$.key)||null,_(k,O,$,se);case T:return O=O.get($.key===null?D:$.key)||null,M(k,O,$,se);case de:return $=Ar($),q(O,k,D,$,se)}if(G($)||Te($))return O=O.get(D)||null,H(k,O,$,se,null);if(typeof $.then=="function")return q(O,k,D,qi($),se);if($.$$typeof===L)return q(O,k,D,Ui(k,$),se);Hi(k,$)}return null}function F(O,k,D,$){for(var se=null,Ne=null,te=k,me=k=0,be=null;te!==null&&me<D.length;me++){te.index>me?(be=te,te=null):be=te.sibling;var Se=U(O,te,D[me],$);if(Se===null){te===null&&(te=be);break}e&&te&&Se.alternate===null&&t(O,te),k=h(Se,k,me),Ne===null?se=Se:Ne.sibling=Se,Ne=Se,te=be}if(me===D.length)return r(O,te),ve&&va(O,me),se;if(te===null){for(;me<D.length;me++)te=Y(O,D[me],$),te!==null&&(k=h(te,k,me),Ne===null?se=te:Ne.sibling=te,Ne=te);return ve&&va(O,me),se}for(te=l(te);me<D.length;me++)be=q(te,O,me,D[me],$),be!==null&&(e&&be.alternate!==null&&te.delete(be.key===null?me:be.key),k=h(be,k,me),Ne===null?se=be:Ne.sibling=be,Ne=be);return e&&te.forEach(function(ur){return t(O,ur)}),ve&&va(O,me),se}function ie(O,k,D,$){if(D==null)throw Error(o(151));for(var se=null,Ne=null,te=k,me=k=0,be=null,Se=D.next();te!==null&&!Se.done;me++,Se=D.next()){te.index>me?(be=te,te=null):be=te.sibling;var ur=U(O,te,Se.value,$);if(ur===null){te===null&&(te=be);break}e&&te&&ur.alternate===null&&t(O,te),k=h(ur,k,me),Ne===null?se=ur:Ne.sibling=ur,Ne=ur,te=be}if(Se.done)return r(O,te),ve&&va(O,me),se;if(te===null){for(;!Se.done;me++,Se=D.next())Se=Y(O,Se.value,$),Se!==null&&(k=h(Se,k,me),Ne===null?se=Se:Ne.sibling=Se,Ne=Se);return ve&&va(O,me),se}for(te=l(te);!Se.done;me++,Se=D.next())Se=q(te,O,me,Se.value,$),Se!==null&&(e&&Se.alternate!==null&&te.delete(Se.key===null?me:Se.key),k=h(Se,k,me),Ne===null?se=Se:Ne.sibling=Se,Ne=Se);return e&&te.forEach(function(Fx){return t(O,Fx)}),ve&&va(O,me),se}function Me(O,k,D,$){if(typeof D=="object"&&D!==null&&D.type===R&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case N:e:{for(var se=D.key;k!==null;){if(k.key===se){if(se=D.type,se===R){if(k.tag===7){r(O,k.sibling),$=c(k,D.props.children),$.return=O,O=$;break e}}else if(k.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===de&&Ar(se)===k.type){r(O,k.sibling),$=c(k,D.props),pn($,D),$.return=O,O=$;break e}r(O,k);break}else t(O,k);k=k.sibling}D.type===R?($=Nr(D.props.children,O.mode,$,D.key),$.return=O,O=$):($=Ri(D.type,D.key,D.props,null,O.mode,$),pn($,D),$.return=O,O=$)}return y(O);case T:e:{for(se=D.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){r(O,k.sibling),$=c(k,D.children||[]),$.return=O,O=$;break e}else{r(O,k);break}else t(O,k);k=k.sibling}$=Yo(D,O.mode,$),$.return=O,O=$}return y(O);case de:return D=Ar(D),Me(O,k,D,$)}if(G(D))return F(O,k,D,$);if(Te(D)){if(se=Te(D),typeof se!="function")throw Error(o(150));return D=se.call(D),ie(O,k,D,$)}if(typeof D.then=="function")return Me(O,k,qi(D),$);if(D.$$typeof===L)return Me(O,k,Ui(O,D),$);Hi(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,k!==null&&k.tag===6?(r(O,k.sibling),$=c(k,D),$.return=O,O=$):(r(O,k),$=$o(D,O.mode,$),$.return=O,O=$),y(O)):r(O,k)}return function(O,k,D,$){try{yn=0;var se=Me(O,k,D,$);return fs=null,se}catch(te){if(te===hs||te===Li)throw te;var Ne=Rt(29,te,null,O.mode);return Ne.lanes=$,Ne.return=O,Ne}}}var Cr=Hh(!0),$h=Hh(!1),Qa=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Ci(e),Nh(e,null,r),t}return Oi(e,l,t,r),Ci(e)}function xn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Rd(e,r)}}function ac(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=t:h=h.next=t}else c=h=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var rc=!1;function bn(){if(rc){var e=ds;if(e!==null)throw e}}function vn(e,t,r,l){rc=!1;var c=e.updateQueue;Qa=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var _=x,M=_.next;_.next=null,y===null?h=M:y.next=M,y=_;var H=e.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==y&&(x===null?H.firstBaseUpdate=M:x.next=M,H.lastBaseUpdate=_))}if(h!==null){var Y=c.baseState;y=0,H=M=_=null,x=h;do{var U=x.lane&-536870913,q=U!==x.lane;if(q?(xe&U)===U:(l&U)===U){U!==0&&U===us&&(rc=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var F=e,ie=x;U=t;var Me=r;switch(ie.tag){case 1:if(F=ie.payload,typeof F=="function"){Y=F.call(Me,Y,U);break e}Y=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ie.payload,U=typeof F=="function"?F.call(Me,Y,U):F,U==null)break e;Y=b({},Y,U);break e;case 2:Qa=!0}}U=x.callback,U!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[U]:q.push(U))}else q={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(M=H=q,_=Y):H=H.next=q,y|=U;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;q=x,x=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(_=Y),c.baseState=_,c.firstBaseUpdate=M,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),er|=y,e.lanes=y,e.memoizedState=Y}}function Yh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Gh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Yh(r[e],t)}var ms=j(null),$i=j(0);function Vh(e,t){e=Ca,V($i,e),V(ms,t),Ca=e|t.baseLanes}function sc(){V($i,Ca),V(ms,ms.current)}function nc(){Ca=$i.current,B(ms),B($i)}var Dt=j(null),Zt=null;function Ia(e){var t=e.alternate;V(Ke,Ke.current&1),V(Dt,e),Zt===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(Zt=e)}function ic(e){V(Ke,Ke.current),V(Dt,e),Zt===null&&(Zt=e)}function Ph(e){e.tag===22?(V(Ke,Ke.current),V(Dt,e),Zt===null&&(Zt=e)):Za()}function Za(){V(Ke,Ke.current),V(Dt,Dt.current)}function Mt(e){B(Dt),Zt===e&&(Zt=null),B(Ke)}var Ke=j(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hu(r)||fu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _a=0,fe=null,Re=null,Ze=null,Gi=!1,gs=!1,Rr=!1,Vi=0,wn=0,ys=null,Gp=0;function Ye(){throw Error(o(321))}function lc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ct(e[r],t[r]))return!1;return!0}function oc(e,t,r,l,c,h){return _a=h,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Af:_c,Rr=!1,h=r(l,c),Rr=!1,gs&&(h=Qh(t,r,l,c)),Kh(e),h}function Kh(e){z.H=Nn;var t=Re!==null&&Re.next!==null;if(_a=0,Ze=Re=fe=null,Gi=!1,wn=0,ys=null,t)throw Error(o(300));e===null||We||(e=e.dependencies,e!==null&&Mi(e)&&(We=!0))}function Qh(e,t,r,l){fe=e;var c=0;do{if(gs&&(ys=null),wn=0,gs=!1,25<=c)throw Error(o(301));if(c+=1,Ze=Re=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=Of,h=t(r,l)}while(gs);return h}function Vp(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?jn(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(fe.flags|=1024),t}function cc(){var e=Vi!==0;return Vi=0,e}function uc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function dc(e){if(Gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gi=!1}_a=0,Ze=Re=fe=null,gs=!1,wn=Vi=0,ys=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?fe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(Re===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ze===null?fe.memoizedState:Ze.next;if(t!==null)Ze=t,Re=e;else{if(e===null)throw fe.alternate===null?Error(o(467)):Error(o(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ze===null?fe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Pi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jn(e){var t=wn;return wn+=1,ys===null&&(ys=[]),e=Lh(ys,e,t),t=fe,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Af:_c),e}function Ki(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jn(e);if(e.$$typeof===L)return ct(e)}throw Error(o(438,String(e)))}function hc(e){var t=null,r=fe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Pi(),fe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=Q;return t.index++,r}function Na(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=Qe();return fc(t,Re,e)}function fc(e,t,r){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}t.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var x=y=null,_=null,M=t,H=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(xe&Y)===Y:(_a&Y)===Y){var U=M.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===us&&(H=!0);else if((_a&U)===U){M=M.next,U===us&&(H=!0);continue}else Y={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},_===null?(x=_=Y,y=h):_=_.next=Y,fe.lanes|=U,er|=U;Y=M.action,Rr&&r(h,Y),h=M.hasEagerState?M.eagerState:r(h,Y)}else U={lane:Y,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},_===null?(x=_=U,y=h):_=_.next=U,fe.lanes|=Y,er|=Y;M=M.next}while(M!==null&&M!==t);if(_===null?y=h:_.next=x,!Ct(h,e.memoizedState)&&(We=!0,H&&(r=ds,r!==null)))throw r;e.memoizedState=h,e.baseState=y,e.baseQueue=_,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mc(e){var t=Qe(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,h=t.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=e(h,y.action),y=y.next;while(y!==c);Ct(h,t.memoizedState)||(We=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,l]}function Xh(e,t,r){var l=fe,c=Qe(),h=ve;if(h){if(r===void 0)throw Error(o(407));r=r()}else r=t();var y=!Ct((Re||c).memoizedState,r);if(y&&(c.memoizedState=r,We=!0),c=c.queue,pc(Zh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,ps(9,{destroy:void 0},Ih.bind(null,l,c,r,t),null),Ue===null)throw Error(o(349));h||(_a&127)!==0||Jh(l,t,r)}return r}function Jh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t=Pi(),fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,l){t.value=r,t.getSnapshot=l,Wh(t)&&Fh(e)}function Zh(e,t,r){return r(function(){Wh(t)&&Fh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ct(e,r)}catch{return!0}}function Fh(e){var t=_r(e,2);t!==null&&kt(t,e,2)}function gc(e){var t=xt();if(typeof e=="function"){var r=e;if(e=r(),Rr){Ha(!0);try{r()}finally{Ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t}function ef(e,t,r,l){return e.baseState=r,fc(e,Re,typeof l=="function"?l:Na)}function Pp(e,t,r,l,c){if(Ii(e))throw Error(o(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};z.T!==null?r(!0):h.isTransition=!1,l(h),r=t.pending,r===null?(h.next=t.pending=h,tf(t,h)):(h.next=r.next,t.pending=r.next=h)}}function tf(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var h=z.T,y={};z.T=y;try{var x=r(c,l),_=z.S;_!==null&&_(y,x),af(e,t,x)}catch(M){yc(e,t,M)}finally{h!==null&&y.types!==null&&(h.types=y.types),z.T=h}}else try{h=r(c,l),af(e,t,h)}catch(M){yc(e,t,M)}}function af(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){rf(e,t,l)},function(l){return yc(e,t,l)}):rf(e,t,r)}function rf(e,t,r){t.status="fulfilled",t.value=r,sf(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,tf(e,r)))}function yc(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,sf(t),t=t.next;while(t!==l)}e.action=null}function sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nf(e,t){return t}function lf(e,t){if(ve){var r=Ue.formState;if(r!==null){e:{var l=fe;if(ve){if(Le){t:{for(var c=Le,h=It;c.nodeType!==8;){if(!h){c=null;break t}if(c=Wt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Le=Wt(c.nextSibling),l=c.data==="F!";break e}}Pa(l)}l=!1}l&&(t=r[0])}}return r=xt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:t},r.queue=l,r=kf.bind(null,fe,l),l.dispatch=r,l=gc(!1),h=jc.bind(null,fe,!1,l.queue),l=xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=Pp.bind(null,fe,c,h,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function of(e){var t=Qe();return cf(t,Re,e)}function cf(e,t,r){if(t=fc(e,t,nf)[0],e=Qi(Na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=jn(t)}catch(y){throw y===hs?Li:y}else l=t;t=Qe();var c=t.queue,h=c.dispatch;return r!==t.memoizedState&&(fe.flags|=2048,ps(9,{destroy:void 0},Kp.bind(null,c,r),null)),[l,h,e]}function Kp(e,t){e.action=t}function uf(e){var t=Qe(),r=Re;if(r!==null)return cf(t,r,e);Qe(),t=t.memoizedState,r=Qe();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function ps(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Pi(),fe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function df(){return Qe().memoizedState}function Xi(e,t,r,l){var c=xt();fe.flags|=e,c.memoizedState=ps(1|t,{destroy:void 0},r,l===void 0?null:l)}function Ji(e,t,r,l){var c=Qe();l=l===void 0?null:l;var h=c.memoizedState.inst;Re!==null&&l!==null&&lc(l,Re.memoizedState.deps)?c.memoizedState=ps(t,h,r,l):(fe.flags|=e,c.memoizedState=ps(1|t,h,r,l))}function hf(e,t){Xi(8390656,8,e,t)}function pc(e,t){Ji(2048,8,e,t)}function Qp(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Pi(),fe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function ff(e){var t=Qe().memoizedState;return Qp({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return Ji(4,2,e,t)}function gf(e,t){return Ji(4,4,e,t)}function yf(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pf(e,t,r){r=r!=null?r.concat([e]):null,Ji(4,4,yf.bind(null,t,e),r)}function xc(){}function xf(e,t){var r=Qe();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&lc(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function bf(e,t){var r=Qe();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&lc(t,l[1]))return l[0];if(l=e(),Rr){Ha(!0);try{e()}finally{Ha(!1)}}return r.memoizedState=[l,t],l}function bc(e,t,r){return r===void 0||(_a&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=vm(),fe.lanes|=e,er|=e,r)}function vf(e,t,r,l){return Ct(r,t)?r:ms.current!==null?(e=bc(e,r,l),Ct(e,t)||(We=!0),e):(_a&42)===0||(_a&1073741824)!==0&&(xe&261930)===0?(We=!0,e.memoizedState=r):(e=vm(),fe.lanes|=e,er|=e,t)}function wf(e,t,r,l,c){var h=I.p;I.p=h!==0&&8>h?h:8;var y=z.T,x={};z.T=x,jc(e,!1,t,r);try{var _=c(),M=z.S;if(M!==null&&M(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var H=Yp(_,l);_n(e,t,H,Lt(e))}else _n(e,t,l,Lt(e))}catch(Y){_n(e,t,{then:function(){},status:"rejected",reason:Y},Lt())}finally{I.p=h,y!==null&&x.types!==null&&(y.types=x.types),z.T=y}}function Xp(){}function vc(e,t,r,l){if(e.tag!==5)throw Error(o(476));var c=jf(e).queue;wf(e,c,t,ne,r===null?Xp:function(){return _f(e),r(l)})}function jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:ne},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _f(e){var t=jf(e);t.next===null&&(t=e.alternate.memoizedState),_n(e,t.next.queue,{},Lt())}function wc(){return ct(Hn)}function Nf(){return Qe().memoizedState}function Sf(){return Qe().memoizedState}function Jp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Lt();e=Xa(r);var l=Ja(t,e,r);l!==null&&(kt(l,t,r),xn(l,t,r)),t={cache:Io()},e.payload=t;return}t=t.return}}function Ip(e,t,r){var l=Lt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ii(e)?Ef(t,r):(r=qo(e,t,r,l),r!==null&&(kt(r,e,l),Tf(r,t,l)))}function kf(e,t,r){var l=Lt();_n(e,t,r,l)}function _n(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ii(e))Ef(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var y=t.lastRenderedState,x=h(y,r);if(c.hasEagerState=!0,c.eagerState=x,Ct(x,y))return Oi(e,t,c,0),Ue===null&&Ai(),!1}catch{}if(r=qo(e,t,c,l),r!==null)return kt(r,e,l),Tf(r,t,l),!0}return!1}function jc(e,t,r,l){if(l={lane:2,revertLane:eu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ii(e)){if(t)throw Error(o(479))}else t=qo(e,r,l,2),t!==null&&kt(t,e,2)}function Ii(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ef(e,t){gs=Gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tf(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Rd(e,r)}}var Nn={readContext:ct,use:Ki,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Nn.useEffectEvent=Ye;var Af={readContext:ct,use:Ki,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:hf,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Xi(4194308,4,yf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){Xi(4,2,e,t)},useMemo:function(e,t){var r=xt();t=t===void 0?null:t;var l=e();if(Rr){Ha(!0);try{e()}finally{Ha(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=xt();if(r!==void 0){var c=r(t);if(Rr){Ha(!0);try{r(t)}finally{Ha(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Ip.bind(null,fe,e),[l.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=gc(e);var t=e.queue,r=kf.bind(null,fe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:xc,useDeferredValue:function(e,t){var r=xt();return bc(r,e,t)},useTransition:function(){var e=gc(!1);return e=wf.bind(null,fe,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=fe,c=xt();if(ve){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Ue===null)throw Error(o(349));(xe&127)!==0||Jh(l,t,r)}c.memoizedState=r;var h={value:r,getSnapshot:t};return c.queue=h,hf(Zh.bind(null,l,h,e),[e]),l.flags|=2048,ps(9,{destroy:void 0},Ih.bind(null,l,h,r,t),null),r},useId:function(){var e=xt(),t=Ue.identifierPrefix;if(ve){var r=da,l=ua;r=(l&~(1<<32-Ot(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Gp++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wc,useFormState:lf,useActionState:lf,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=jc.bind(null,fe,!0,r),r.dispatch=t,[e,t]},useMemoCache:hc,useCacheRefresh:function(){return xt().memoizedState=Jp.bind(null,fe)},useEffectEvent:function(e){var t=xt(),r={impl:e};return t.memoizedState=r,function(){if((Ee&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},_c={readContext:ct,use:Ki,useCallback:xf,useContext:ct,useEffect:pc,useImperativeHandle:pf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:bf,useReducer:Qi,useRef:df,useState:function(){return Qi(Na)},useDebugValue:xc,useDeferredValue:function(e,t){var r=Qe();return vf(r,Re.memoizedState,e,t)},useTransition:function(){var e=Qi(Na)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:jn(e),t]},useSyncExternalStore:Xh,useId:Nf,useHostTransitionStatus:wc,useFormState:of,useActionState:of,useOptimistic:function(e,t){var r=Qe();return ef(r,Re,e,t)},useMemoCache:hc,useCacheRefresh:Sf};_c.useEffectEvent=ff;var Of={readContext:ct,use:Ki,useCallback:xf,useContext:ct,useEffect:pc,useImperativeHandle:pf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:bf,useReducer:mc,useRef:df,useState:function(){return mc(Na)},useDebugValue:xc,useDeferredValue:function(e,t){var r=Qe();return Re===null?bc(r,e,t):vf(r,Re.memoizedState,e,t)},useTransition:function(){var e=mc(Na)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:jn(e),t]},useSyncExternalStore:Xh,useId:Nf,useHostTransitionStatus:wc,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var r=Qe();return Re!==null?ef(r,Re,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hc,useCacheRefresh:Sf};Of.useEffectEvent=ff;function Nc(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:b({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sc={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Lt(),c=Xa(l);c.payload=t,r!=null&&(c.callback=r),t=Ja(e,c,l),t!==null&&(kt(t,e,l),xn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Lt(),c=Xa(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Ja(e,c,l),t!==null&&(kt(t,e,l),xn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),l=Xa(r);l.tag=2,t!=null&&(l.callback=t),t=Ja(e,l,r),t!==null&&(kt(t,e,r),xn(t,e,r))}};function Cf(e,t,r,l,c,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,y):t.prototype&&t.prototype.isPureReactComponent?!un(r,l)||!un(c,h):!0}function Rf(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function Dr(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Df(e){Ti(e)}function Mf(e){console.error(e)}function Uf(e){Ti(e)}function Zi(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function zf(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function kc(e,t,r){return r=Xa(r),r.tag=3,r.payload={element:null},r.callback=function(){Zi(e,t)},r}function Lf(e){return e=Xa(e),e.tag=3,e}function Bf(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){zf(t,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){zf(t,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Zp(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&cs(t,r,c,!0),r=Dt.current,r!==null){switch(r.tag){case 31:case 13:return Zt===null?cl():r.alternate===null&&Ge===0&&(Ge=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Bi?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),Zc(e,l,c)),!1;case 22:return r.flags|=65536,l===Bi?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),Zc(e,l,c)),!1}throw Error(o(435,r.tag))}return Zc(e,l,c),cl(),!1}if(ve)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Po&&(e=Error(o(422),{cause:l}),fn(Qt(e,r)))):(l!==Po&&(t=Error(o(423),{cause:l}),fn(Qt(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Qt(l,r),c=kc(e.stateNode,l,c),ac(e,c),Ge!==4&&(Ge=2)),!1;var h=Error(o(520),{cause:l});if(h=Qt(h,r),Rn===null?Rn=[h]:Rn.push(h),Ge!==4&&(Ge=2),t===null)return!0;l=Qt(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=kc(r.stateNode,l,e),ac(r,e),!1;case 1:if(t=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(tr===null||!tr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Lf(c),Bf(c,e,r,l),ac(r,c),!1}r=r.return}while(r!==null);return!1}var Ec=Error(o(461)),We=!1;function ut(e,t,r,l){t.child=e===null?$h(t,null,r,l):Cr(t,e.child,r,l)}function qf(e,t,r,l,c){r=r.render;var h=t.ref;if("ref"in l){var y={};for(var x in l)x!=="ref"&&(y[x]=l[x])}else y=l;return Er(t),l=oc(e,t,r,y,h,c),x=cc(),e!==null&&!We?(uc(e,t,c),Sa(e,t,c)):(ve&&x&&Go(t),t.flags|=1,ut(e,t,l,c),t.child)}function Hf(e,t,r,l,c){if(e===null){var h=r.type;return typeof h=="function"&&!Ho(h)&&h.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=h,$f(e,t,h,l,c)):(e=Ri(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Uc(e,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:un,r(y,l)&&e.ref===t.ref)return Sa(e,t,c)}return t.flags|=1,e=ba(h,l),e.ref=t.ref,e.return=t,t.child=e}function $f(e,t,r,l,c){if(e!==null){var h=e.memoizedProps;if(un(h,l)&&e.ref===t.ref)if(We=!1,t.pendingProps=l=h,Uc(e,c))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,Sa(e,t,c)}return Tc(e,t,r,l,c)}function Yf(e,t,r,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,t.child=null;return Gf(e,t,h,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zi(t,h!==null?h.cachePool:null),h!==null?Vh(t,h):sc(),Ph(t);else return l=t.lanes=536870912,Gf(e,t,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(zi(t,h.cachePool),Vh(t,h),Za(),t.memoizedState=null):(e!==null&&zi(t,null),sc(),Za());return ut(e,t,c,r),t.child}function Sn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gf(e,t,r,l,c){var h=Wo();return h=h===null?null:{parent:Ie._currentValue,pool:h},t.memoizedState={baseLanes:r,cachePool:h},e!==null&&zi(t,null),sc(),Ph(t),e!==null&&cs(e,t,l,!0),t.childLanes=c,null}function Wi(e,t){return t=el({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vf(e,t,r){return Cr(t,e.child,null,r),e=Wi(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function Wp(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(l.mode==="hidden")return e=Wi(t,l),t.lanes=536870912,Sn(null,e);if(ic(t),(e=Le)?(e=a0(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ua,overflow:da}:null,retryLane:536870912,hydrationErrors:null},r=kh(e),r.return=t,t.child=r,ot=t,Le=null)):e=null,e===null)throw Pa(t);return t.lanes=536870912,null}return Wi(t,l)}var h=e.memoizedState;if(h!==null){var y=h.dehydrated;if(ic(t),c)if(t.flags&256)t.flags&=-257,t=Vf(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(We||cs(e,t,r,!1),c=(r&e.childLanes)!==0,We||c){if(l=Ue,l!==null&&(y=Dd(l,r),y!==0&&y!==h.retryLane))throw h.retryLane=y,_r(e,y),kt(l,e,y),Ec;cl(),t=Vf(e,t,r)}else e=h.treeContext,Le=Wt(y.nextSibling),ot=t,ve=!0,Va=null,It=!1,e!==null&&Ah(t,e),t=Wi(t,l),t.flags|=4096;return t}return e=ba(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fi(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Tc(e,t,r,l,c){return Er(t),r=oc(e,t,r,l,void 0,c),l=cc(),e!==null&&!We?(uc(e,t,c),Sa(e,t,c)):(ve&&l&&Go(t),t.flags|=1,ut(e,t,r,c),t.child)}function Pf(e,t,r,l,c,h){return Er(t),t.updateQueue=null,r=Qh(t,l,r,c),Kh(e),l=cc(),e!==null&&!We?(uc(e,t,h),Sa(e,t,h)):(ve&&l&&Go(t),t.flags|=1,ut(e,t,r,h),t.child)}function Kf(e,t,r,l,c){if(Er(t),t.stateNode===null){var h=ns,y=r.contextType;typeof y=="object"&&y!==null&&(h=ct(y)),h=new r(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},ec(t),y=r.contextType,h.context=typeof y=="object"&&y!==null?ct(y):ns,h.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Nc(t,r,y,l),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Sc.enqueueReplaceState(h,h.state,null),vn(t,l,h,c),bn(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,_=Dr(r,x);h.props=_;var M=h.context,H=r.contextType;y=ns,typeof H=="object"&&H!==null&&(y=ct(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||M!==y)&&Rf(t,h,l,y),Qa=!1;var U=t.memoizedState;h.state=U,vn(t,l,h,c),bn(),M=t.memoizedState,x||U!==M||Qa?(typeof Y=="function"&&(Nc(t,r,Y,l),M=t.memoizedState),(_=Qa||Cf(t,r,_,l,U,M,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),h.props=l,h.state=M,h.context=y,l=_):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,tc(e,t),y=t.memoizedProps,H=Dr(r,y),h.props=H,Y=t.pendingProps,U=h.context,M=r.contextType,_=ns,typeof M=="object"&&M!==null&&(_=ct(M)),x=r.getDerivedStateFromProps,(M=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Y||U!==_)&&Rf(t,h,l,_),Qa=!1,U=t.memoizedState,h.state=U,vn(t,l,h,c),bn();var q=t.memoizedState;y!==Y||U!==q||Qa||e!==null&&e.dependencies!==null&&Mi(e.dependencies)?(typeof x=="function"&&(Nc(t,r,x,l),q=t.memoizedState),(H=Qa||Cf(t,r,H,l,U,q,_)||e!==null&&e.dependencies!==null&&Mi(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,_)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),h.props=l,h.state=q,h.context=_,l=H):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,Fi(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Cr(t,e.child,null,c),t.child=Cr(t,null,r,c)):ut(e,t,r,c),t.memoizedState=h.state,e=t.child):e=Sa(e,t,c),e}function Qf(e,t,r,l){return Sr(),t.flags|=256,ut(e,t,r,l),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(e){return{baseLanes:e,cachePool:Uh()}}function Cc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=zt),e}function Xf(e,t,r){var l=t.pendingProps,c=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(c?Ia(t):Za(),(e=Le)?(e=a0(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ua,overflow:da}:null,retryLane:536870912,hydrationErrors:null},r=kh(e),r.return=t,t.child=r,ot=t,Le=null)):e=null,e===null)throw Pa(t);return fu(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,c?(Za(),c=t.mode,x=el({mode:"hidden",children:x},c),l=Nr(l,c,r,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=Oc(r),l.childLanes=Cc(e,y,r),t.memoizedState=Ac,Sn(null,l)):(Ia(t),Rc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(h)t.flags&256?(Ia(t),t.flags&=-257,t=Dc(e,t,r)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),x=l.fallback,c=t.mode,l=el({mode:"visible",children:l.children},c),x=Nr(x,c,r,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Cr(t,e.child,null,r),l=t.child,l.memoizedState=Oc(r),l.childLanes=Cc(e,y,r),t.memoizedState=Ac,t=Sn(null,l));else if(Ia(t),fu(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(o(419)),l.stack="",l.digest=y,fn({value:l,source:null,stack:null}),t=Dc(e,t,r)}else if(We||cs(e,t,r,!1),y=(r&e.childLanes)!==0,We||y){if(y=Ue,y!==null&&(l=Dd(y,r),l!==0&&l!==_.retryLane))throw _.retryLane=l,_r(e,l),kt(y,e,l),Ec;hu(x)||cl(),t=Dc(e,t,r)}else hu(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Le=Wt(x.nextSibling),ot=t,ve=!0,Va=null,It=!1,e!==null&&Ah(t,e),t=Rc(t,l.children),t.flags|=4096);return t}return c?(Za(),x=l.fallback,c=t.mode,_=e.child,M=_.sibling,l=ba(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,M!==null?x=ba(M,x):(x=Nr(x,c,r,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,Sn(null,l),l=t.child,x=e.child.memoizedState,x===null?x=Oc(r):(c=x.cachePool,c!==null?(_=Ie._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=Uh(),x={baseLanes:x.baseLanes|r,cachePool:c}),l.memoizedState=x,l.childLanes=Cc(e,y,r),t.memoizedState=Ac,Sn(e.child,l)):(Ia(t),r=e.child,e=r.sibling,r=ba(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=r,t.memoizedState=null,r)}function Rc(e,t){return t=el({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function el(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function Dc(e,t,r){return Cr(t,e.child,null,r),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jf(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Xo(e.return,t,r)}function Mc(e,t,r,l,c,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:h}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=c,y.treeForkCount=h)}function If(e,t,r){var l=t.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var y=Ke.current,x=(y&2)!==0;if(x?(y=y&1|2,t.flags|=128):y&=1,V(Ke,y),ut(e,t,l,r),l=ve?hn:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,r,t);else if(e.tag===19)Jf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Mc(t,!1,c,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Yi(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Mc(t,!0,r,null,h,l);break;case"together":Mc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Sa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(cs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=ba(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ba(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Mi(e)))}function Fp(e,t,r){switch(t.tag){case 3:pt(t,t.stateNode.containerInfo),Ka(t,Ie,e.memoizedState.cache),Sr();break;case 27:case 5:Is(t);break;case 4:pt(t,t.stateNode.containerInfo);break;case 10:Ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ic(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ia(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Xf(e,t,r):(Ia(t),e=Sa(e,t,r),e!==null?e.sibling:null);Ia(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(cs(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return If(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),V(Ke,Ke.current),l)break;return null;case 22:return t.lanes=0,Yf(e,t,r,t.pendingProps);case 24:Ka(t,Ie,e.memoizedState.cache)}return Sa(e,t,r)}function Zf(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Uc(e,r)&&(t.flags&128)===0)return We=!1,Fp(e,t,r);We=(e.flags&131072)!==0}else We=!1,ve&&(t.flags&1048576)!==0&&Th(t,hn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ar(t.elementType),t.type=e,typeof e=="function")Ho(e)?(l=Dr(e,l),t.tag=1,t=Kf(null,t,e,l,r)):(t.tag=0,t=Tc(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===P){t.tag=11,t=qf(null,t,e,l,r);break e}else if(c===K){t.tag=14,t=Hf(null,t,e,l,r);break e}}throw t=X(e)||e,Error(o(306,t,""))}}return t;case 0:return Tc(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=Dr(l,t.pendingProps),Kf(e,t,l,c,r);case 3:e:{if(pt(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var h=t.memoizedState;c=h.element,tc(e,t),vn(t,l,null,r);var y=t.memoizedState;if(l=y.cache,Ka(t,Ie,l),l!==h.cache&&Jo(t,[Ie],r,!0),bn(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Qf(e,t,l,r);break e}else if(l!==c){c=Qt(Error(o(424)),t),fn(c),t=Qf(e,t,l,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=Wt(e.firstChild),ot=t,ve=!0,Va=null,It=!0,r=$h(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sr(),l===c){t=Sa(e,t,r);break e}ut(e,t,l,r)}t=t.child}return t;case 26:return Fi(e,t),e===null?(r=o0(t.type,null,t.pendingProps,null))?t.memoizedState=r:ve||(r=t.type,e=t.pendingProps,l=yl(he.current).createElement(r),l[lt]=t,l[vt]=e,dt(l,r,e),rt(l),t.stateNode=l):t.memoizedState=o0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Is(t),e===null&&ve&&(l=t.stateNode=n0(t.type,t.pendingProps,he.current),ot=t,It=!0,c=Le,nr(t.type)?(mu=c,Le=Wt(l.firstChild)):Le=c),ut(e,t,t.pendingProps.children,r),Fi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((c=l=Le)&&(l=Ax(l,t.type,t.pendingProps,It),l!==null?(t.stateNode=l,ot=t,Le=Wt(l.firstChild),It=!1,c=!0):c=!1),c||Pa(t)),Is(t),c=t.type,h=t.pendingProps,y=e!==null?e.memoizedProps:null,l=h.children,cu(c,h)?l=null:y!==null&&cu(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=oc(e,t,Vp,null,null,r),Hn._currentValue=c),Fi(e,t),ut(e,t,l,r),t.child;case 6:return e===null&&ve&&((e=r=Le)&&(r=Ox(r,t.pendingProps,It),r!==null?(t.stateNode=r,ot=t,Le=null,e=!0):e=!1),e||Pa(t)),null;case 13:return Xf(e,t,r);case 4:return pt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Cr(t,null,l,r):ut(e,t,l,r),t.child;case 11:return qf(e,t,t.type,t.pendingProps,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,Ka(t,t.type,l.value),ut(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Er(t),c=ct(c),l=l(c),t.flags|=1,ut(e,t,l,r),t.child;case 14:return Hf(e,t,t.type,t.pendingProps,r);case 15:return $f(e,t,t.type,t.pendingProps,r);case 19:return If(e,t,r);case 31:return Wp(e,t,r);case 22:return Yf(e,t,r,t.pendingProps);case 24:return Er(t),l=ct(Ie),e===null?(c=Wo(),c===null&&(c=Ue,h=Io(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),t.memoizedState={parent:l,cache:c},ec(t),Ka(t,Ie,c)):((e.lanes&r)!==0&&(tc(e,t),vn(t,null,null,r),bn()),c=e.memoizedState,h=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ka(t,Ie,l)):(l=h.cache,Ka(t,Ie,l),l!==c.cache&&Jo(t,[Ie],r,!0))),ut(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ka(e){e.flags|=4}function zc(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Nm())e.flags|=8192;else throw Or=Bi,Fo}else e.flags&=-16777217}function Wf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f0(t))if(Nm())e.flags|=8192;else throw Or=Bi,Fo}function tl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Od():536870912,e.lanes|=t,ws|=t)}function kn(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function ex(e,t,r){var l=t.pendingProps;switch(Vo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ja(Ie),Pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(os(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),Be(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(ka(t),h!==null?(Be(t),Wf(t,h)):(Be(t),zc(t,c,null,l,r))):h?h!==e.memoizedState?(ka(t),Be(t),Wf(t,h)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ka(t),Be(t),zc(t,c,e,l,r)),null;case 27:if(hi(t),r=he.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ka(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}e=J.current,os(t)?Oh(t):(e=n0(c,l,r),t.stateNode=e,ka(t))}return Be(t),null;case 5:if(hi(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ka(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Be(t),null}if(h=J.current,os(t))Oh(t);else{var y=yl(he.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}h[lt]=t,h[vt]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=h;e:switch(dt(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ka(t)}}return Be(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ka(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=he.current,os(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=ot,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[lt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xm(e.nodeValue,r)),e||Pa(t,!0)}else e=yl(e).createTextNode(l),e[lt]=t,t.stateNode=e}return Be(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=os(t),r!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[lt]=t}else Sr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else r=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Be(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=os(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[lt]=t}else Sr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),c=!1}else c=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),tl(t,t.updateQueue),Be(t),null);case 4:return Pe(),e===null&&su(t.stateNode.containerInfo),Be(t),null;case 10:return ja(t.type),Be(t),null;case 19:if(B(Ke),l=t.memoizedState,l===null)return Be(t),null;if(c=(t.flags&128)!==0,h=l.rendering,h===null)if(c)kn(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Yi(e),h!==null){for(t.flags|=128,kn(l,!1),e=h.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Sh(r,e),r=r.sibling;return V(Ke,Ke.current&1|2),ve&&va(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Tt()>il&&(t.flags|=128,c=!0,kn(l,!1),t.lanes=4194304)}else{if(!c)if(e=Yi(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),kn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!ve)return Be(t),null}else 2*Tt()-l.renderingStartTime>il&&r!==536870912&&(t.flags|=128,c=!0,kn(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Tt(),e.sibling=null,r=Ke.current,V(Ke,c?r&1|2:r&1),ve&&va(t,l.treeForkCount),e):(Be(t),null);case 22:case 23:return Mt(t),nc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),r=t.updateQueue,r!==null&&tl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&B(Tr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ja(Ie),Be(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function tx(e,t){switch(Vo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ja(Ie),Pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hi(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(o(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ke),null;case 4:return Pe(),null;case 10:return ja(t.type),null;case 22:case 23:return Mt(t),nc(),e!==null&&B(Tr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ja(Ie),null;case 25:return null;default:return null}}function Ff(e,t){switch(Vo(t),t.tag){case 3:ja(Ie),Pe();break;case 26:case 27:case 5:hi(t);break;case 4:Pe();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:B(Ke);break;case 10:ja(t.type);break;case 22:case 23:Mt(t),nc(),e!==null&&B(Tr);break;case 24:ja(Ie)}}function En(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(x){Oe(t,t.return,x)}}function Wa(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var y=l.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,c=t;var _=r,M=x;try{M()}catch(H){Oe(c,_,H)}}}l=l.next}while(l!==h)}}catch(H){Oe(t,t.return,H)}}function em(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Gh(t,r)}catch(l){Oe(e,e.return,l)}}}function tm(e,t,r){r.props=Dr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Oe(e,t,l)}}function Tn(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Oe(e,t,c)}}function ha(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Oe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Oe(e,t,c)}else r.current=null}function am(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Oe(e,e.return,c)}}function Lc(e,t,r){try{var l=e.stateNode;_x(l,e.type,r,t),l[vt]=t}catch(c){Oe(e,e.return,c)}}function rm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nr(e.type)||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pa));else if(l!==4&&(l===27&&nr(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(qc(e,t,r),e=e.sibling;e!==null;)qc(e,t,r),e=e.sibling}function al(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(al(e,t,r),e=e.sibling;e!==null;)al(e,t,r),e=e.sibling}function sm(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);dt(t,l,r),t[lt]=e,t[vt]=r}catch(h){Oe(e,e.return,h)}}var Ea=!1,Fe=!1,Hc=!1,nm=typeof WeakSet=="function"?WeakSet:Set,st=null;function ax(e,t){if(e=e.containerInfo,lu=_l,e=yh(e),Do(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var y=0,x=-1,_=-1,M=0,H=0,Y=e,U=null;t:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(x=y+c),Y!==h||l!==0&&Y.nodeType!==3||(_=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)U=Y,Y=q;for(;;){if(Y===e)break t;if(U===r&&++M===c&&(x=y),U===h&&++H===l&&(_=y),(q=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=q}r=x===-1||_===-1?null:{start:x,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(ou={focusedElem:e,selectionRange:r},_l=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=t,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var F=Dr(r.type,c);e=l.getSnapshotBeforeUpdate(F,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Oe(r,r.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)du(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function im(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Aa(e,r),l&4&&En(5,r);break;case 1:if(Aa(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(y){Oe(r,r.return,y)}else{var c=Dr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Oe(r,r.return,y)}}l&64&&em(r),l&512&&Tn(r,r.return);break;case 3:if(Aa(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Gh(e,t)}catch(y){Oe(r,r.return,y)}}break;case 27:t===null&&l&4&&sm(r);case 26:case 5:Aa(e,r),t===null&&l&4&&am(r),l&512&&Tn(r,r.return);break;case 12:Aa(e,r);break;case 31:Aa(e,r),l&4&&cm(e,r);break;case 13:Aa(e,r),l&4&&um(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=dx.bind(null,r),Cx(e,r))));break;case 22:if(l=r.memoizedState!==null||Ea,!l){t=t!==null&&t.memoizedState!==null||Fe,c=Ea;var h=Fe;Ea=l,(Fe=t)&&!h?Oa(e,r,(r.subtreeFlags&8772)!==0):Aa(e,r),Ea=c,Fe=h}break;case 30:break;default:Aa(e,r)}}function lm(e){var t=e.alternate;t!==null&&(e.alternate=null,lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,jt=!1;function Ta(e,t,r){for(r=r.child;r!==null;)om(e,t,r),r=r.sibling}function om(e,t,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Zs,r)}catch{}switch(r.tag){case 26:Fe||ha(r,t),Ta(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Fe||ha(r,t);var l=qe,c=jt;nr(r.type)&&(qe=r.stateNode,jt=!1),Ta(e,t,r),Ln(r.stateNode),qe=l,jt=c;break;case 5:Fe||ha(r,t);case 6:if(l=qe,c=jt,qe=null,Ta(e,t,r),qe=l,jt=c,qe!==null)if(jt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(r.stateNode)}catch(h){Oe(r,t,h)}else try{qe.removeChild(r.stateNode)}catch(h){Oe(r,t,h)}break;case 18:qe!==null&&(jt?(e=qe,e0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),As(e)):e0(qe,r.stateNode));break;case 4:l=qe,c=jt,qe=r.stateNode.containerInfo,jt=!0,Ta(e,t,r),qe=l,jt=c;break;case 0:case 11:case 14:case 15:Wa(2,r,t),Fe||Wa(4,r,t),Ta(e,t,r);break;case 1:Fe||(ha(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&tm(r,t,l)),Ta(e,t,r);break;case 21:Ta(e,t,r);break;case 22:Fe=(l=Fe)||r.memoizedState!==null,Ta(e,t,r),Fe=l;break;default:Ta(e,t,r)}}function cm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{As(e)}catch(r){Oe(t,t.return,r)}}}function um(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{As(e)}catch(r){Oe(t,t.return,r)}}function rx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nm),t;default:throw Error(o(435,e.tag))}}function rl(e,t){var r=rx(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=hx.bind(null,e,l);l.then(c,c)}})}function _t(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=e,y=t,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(nr(x.type)){qe=x.stateNode,jt=!1;break e}break;case 5:qe=x.stateNode,jt=!1;break e;case 3:case 4:qe=x.stateNode.containerInfo,jt=!0;break e}x=x.return}if(qe===null)throw Error(o(160));om(h,y,c),qe=null,jt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}var ra=null;function dm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),Nt(e),l&4&&(Wa(3,e,e.return),En(3,e),Wa(5,e,e.return));break;case 1:_t(t,e),Nt(e),l&512&&(Fe||r===null||ha(r,r.return)),l&64&&Ea&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=ra;if(_t(t,e),Nt(e),l&512&&(Fe||r===null||ha(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[en]||h[lt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),dt(h,l,r),h[lt]=e,rt(h),l=h;break e;case"link":var y=d0("link","href",c).get(l+(r.href||""));if(y){for(var x=0;x<y.length;x++)if(h=y[x],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(x,1);break t}}h=c.createElement(l),dt(h,l,r),c.head.appendChild(h);break;case"meta":if(y=d0("meta","content",c).get(l+(r.content||""))){for(x=0;x<y.length;x++)if(h=y[x],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(x,1);break t}}h=c.createElement(l),dt(h,l,r),c.head.appendChild(h);break;default:throw Error(o(468,l))}h[lt]=e,rt(h),l=h}e.stateNode=l}else h0(c,e.type,e.stateNode);else e.stateNode=u0(c,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?h0(c,e.type,e.stateNode):u0(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,r.memoizedProps)}break;case 27:_t(t,e),Nt(e),l&512&&(Fe||r===null||ha(r,r.return)),r!==null&&l&4&&Lc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(_t(t,e),Nt(e),l&512&&(Fe||r===null||ha(r,r.return)),e.flags&32){c=e.stateNode;try{Wr(c,"")}catch(F){Oe(e,e.return,F)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Lc(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Hc=!0);break;case 6:if(_t(t,e),Nt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(F){Oe(e,e.return,F)}}break;case 3:if(bl=null,c=ra,ra=pl(t.containerInfo),_t(t,e),ra=c,Nt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(F){Oe(e,e.return,F)}Hc&&(Hc=!1,hm(e));break;case 4:l=ra,ra=pl(e.stateNode.containerInfo),_t(t,e),Nt(e),ra=l;break;case 12:_t(t,e),Nt(e);break;case 31:_t(t,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rl(e,l)));break;case 13:_t(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nl=Tt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rl(e,l)));break;case 22:c=e.memoizedState!==null;var _=r!==null&&r.memoizedState!==null,M=Ea,H=Fe;if(Ea=M||c,Fe=H||_,_t(t,e),Fe=H,Ea=M,Nt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||_||Ea||Fe||Mr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){_=r=t;try{if(h=_.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=_.stateNode;var Y=_.memoizedProps.style,U=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(F){Oe(_,_.return,F)}}}else if(t.tag===6){if(r===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(F){Oe(_,_.return,F)}}}else if(t.tag===18){if(r===null){_=t;try{var q=_.stateNode;c?t0(q,!0):t0(_.stateNode,!1)}catch(F){Oe(_,_.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rl(e,r))));break;case 19:_t(t,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rl(e,l)));break;case 30:break;case 21:break;default:_t(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(rm(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var c=r.stateNode,h=Bc(e);al(e,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(Wr(y,""),r.flags&=-33);var x=Bc(e);al(e,x,y);break;case 3:case 4:var _=r.stateNode.containerInfo,M=Bc(e);qc(e,M,_);break;default:throw Error(o(161))}}catch(H){Oe(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)im(e,t.alternate,t),t=t.sibling}function Mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wa(4,t,t.return),Mr(t);break;case 1:ha(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&tm(t,t.return,r),Mr(t);break;case 27:Ln(t.stateNode);case 26:case 5:ha(t,t.return),Mr(t);break;case 22:t.memoizedState===null&&Mr(t);break;case 30:Mr(t);break;default:Mr(t)}e=e.sibling}}function Oa(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,h=t,y=h.flags;switch(h.tag){case 0:case 11:case 15:Oa(c,h,r),En(4,h);break;case 1:if(Oa(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Oe(l,l.return,M)}if(l=h,c=l.updateQueue,c!==null){var x=l.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)Yh(_[c],x)}catch(M){Oe(l,l.return,M)}}r&&y&64&&em(h),Tn(h,h.return);break;case 27:sm(h);case 26:case 5:Oa(c,h,r),r&&l===null&&y&4&&am(h),Tn(h,h.return);break;case 12:Oa(c,h,r);break;case 31:Oa(c,h,r),r&&y&4&&cm(c,h);break;case 13:Oa(c,h,r),r&&y&4&&um(c,h);break;case 22:h.memoizedState===null&&Oa(c,h,r),Tn(h,h.return);break;case 30:break;default:Oa(c,h,r)}t=t.sibling}}function $c(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&mn(r))}function Yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e))}function sa(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fm(e,t,r,l),t=t.sibling}function fm(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,r,l),c&2048&&En(9,t);break;case 1:sa(e,t,r,l);break;case 3:sa(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e)));break;case 12:if(c&2048){sa(e,t,r,l),e=t.stateNode;try{var h=t.memoizedProps,y=h.id,x=h.onPostCommit;typeof x=="function"&&x(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Oe(t,t.return,_)}}else sa(e,t,r,l);break;case 31:sa(e,t,r,l);break;case 13:sa(e,t,r,l);break;case 23:break;case 22:h=t.stateNode,y=t.alternate,t.memoizedState!==null?h._visibility&2?sa(e,t,r,l):An(e,t):h._visibility&2?sa(e,t,r,l):(h._visibility|=2,xs(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&$c(y,t);break;case 24:sa(e,t,r,l),c&2048&&Yc(t.alternate,t);break;default:sa(e,t,r,l)}}function xs(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,y=t,x=r,_=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:xs(h,y,x,_,c),En(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?xs(h,y,x,_,c):An(h,y):(H._visibility|=2,xs(h,y,x,_,c)),c&&M&2048&&$c(y.alternate,y);break;case 24:xs(h,y,x,_,c),c&&M&2048&&Yc(y.alternate,y);break;default:xs(h,y,x,_,c)}t=t.sibling}}function An(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:An(r,l),c&2048&&$c(l.alternate,l);break;case 24:An(r,l),c&2048&&Yc(l.alternate,l);break;default:An(r,l)}t=t.sibling}}var On=8192;function bs(e,t,r){if(e.subtreeFlags&On)for(e=e.child;e!==null;)mm(e,t,r),e=e.sibling}function mm(e,t,r){switch(e.tag){case 26:bs(e,t,r),e.flags&On&&e.memoizedState!==null&&Gx(r,ra,e.memoizedState,e.memoizedProps);break;case 5:bs(e,t,r);break;case 3:case 4:var l=ra;ra=pl(e.stateNode.containerInfo),bs(e,t,r),ra=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=On,On=16777216,bs(e,t,r),On=l):bs(e,t,r));break;default:bs(e,t,r)}}function gm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];st=l,pm(l,e)}gm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ym(e),e=e.sibling}function ym(e){switch(e.tag){case 0:case 11:case 15:Cn(e),e.flags&2048&&Wa(9,e,e.return);break;case 3:Cn(e);break;case 12:Cn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sl(e)):Cn(e);break;default:Cn(e)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];st=l,pm(l,e)}gm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wa(8,t,t.return),sl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,sl(t));break;default:sl(t)}e=e.sibling}}function pm(e,t){for(;st!==null;){var r=st;switch(r.tag){case 0:case 11:case 15:Wa(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mn(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,st=l;else e:for(r=e;st!==null;){l=st;var c=l.sibling,h=l.return;if(lm(l),l===r){st=null;break e}if(c!==null){c.return=h,st=c;break e}st=h}}}var sx={getCacheForType:function(e){var t=ct(Ie),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return ct(Ie).controller.signal}},nx=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,ye=null,xe=0,Ae=0,Ut=null,Fa=!1,vs=!1,Gc=!1,Ca=0,Ge=0,er=0,Ur=0,Vc=0,zt=0,ws=0,Rn=null,St=null,Pc=!1,nl=0,xm=0,il=1/0,ll=null,tr=null,tt=0,ar=null,js=null,Ra=0,Kc=0,Qc=null,bm=null,Dn=0,Xc=null;function Lt(){return(Ee&2)!==0&&xe!==0?xe&-xe:z.T!==null?eu():Md()}function vm(){if(zt===0)if((xe&536870912)===0||ve){var e=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),zt=e}else zt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),zt}function kt(e,t,r){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(_s(e,0),rr(e,xe,zt,!1)),Fs(e,r),((Ee&2)===0||e!==Ue)&&(e===Ue&&((Ee&2)===0&&(Ur|=r),Ge===4&&rr(e,xe,zt,!1)),fa(e))}function wm(e,t,r){if((Ee&6)!==0)throw Error(o(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Ws(e,t),c=l?ox(e,t):Ic(e,t,!0),h=l;do{if(c===0){vs&&!l&&rr(e,t,0,!1);break}else{if(r=e.current.alternate,h&&!ix(r)){c=Ic(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var x=e;c=Rn;var _=x.current.memoizedState.isDehydrated;if(_&&(_s(x,y).flags|=256),y=Ic(x,y,!1),y!==2){if(Gc&&!_){x.errorRecoveryDisabledLanes|=h,Ur|=h,c=4;break e}h=St,St=c,h!==null&&(St===null?St=h:St.push.apply(St,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){_s(e,0),rr(e,t,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:rr(l,t,zt,!Fa);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=nl+300-Tt(),10<c)){if(rr(l,t,zt,!Fa),pi(l,0,!0)!==0)break e;Ra=t,l.timeoutHandle=Wm(jm.bind(null,l,r,St,ll,Pc,t,zt,Ur,ws,Fa,h,"Throttled",-0,0),c);break e}jm(l,r,St,ll,Pc,t,zt,Ur,ws,Fa,h,null,-0,0)}}break}while(!0);fa(e)}function jm(e,t,r,l,c,h,y,x,_,M,H,Y,U,q){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},mm(t,h,Y);var F=(h&62914560)===h?nl-Tt():(h&4194048)===h?xm-Tt():0;if(F=Vx(Y,F),F!==null){Ra=h,e.cancelPendingCommit=F(Om.bind(null,e,t,h,r,l,c,y,x,_,H,Y,null,U,q)),rr(e,h,y,!M);return}}Om(e,t,h,r,l,c,y,x,_)}function ix(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!Ct(h(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t,r,l){t&=~Vc,t&=~Ur,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var h=31-Ot(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&Cd(e,r,t)}function ol(){return(Ee&6)===0?(Mn(0),!1):!0}function Jc(){if(ye!==null){if(Ae===0)var e=ye.return;else e=ye,wa=kr=null,dc(e),fs=null,yn=0,e=ye;for(;e!==null;)Ff(e.alternate,e),e=e.return;ye=null}}function _s(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,kx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ra=0,Jc(),Ue=e,ye=r=ba(e.current,null),xe=t,Ae=0,Ut=null,Fa=!1,vs=Ws(e,t),Gc=!1,ws=zt=Vc=Ur=er=Ge=0,St=Rn=null,Pc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Ot(l),h=1<<c;t|=e[c],l&=~h}return Ca=t,Ai(),r}function _m(e,t){fe=null,z.H=Nn,t===hs||t===Li?(t=Bh(),Ae=3):t===Fo?(t=Bh(),Ae=4):Ae=t===Ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,ye===null&&(Ge=1,Zi(e,Qt(t,e.current)))}function Nm(){var e=Dt.current;return e===null?!0:(xe&4194048)===xe?Zt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Zt:!1}function Sm(){var e=z.H;return z.H=Nn,e===null?Nn:e}function km(){var e=z.A;return z.A=sx,e}function cl(){Ge=4,Fa||(xe&4194048)!==xe&&Dt.current!==null||(vs=!0),(er&134217727)===0&&(Ur&134217727)===0||Ue===null||rr(Ue,xe,zt,!1)}function Ic(e,t,r){var l=Ee;Ee|=2;var c=Sm(),h=km();(Ue!==e||xe!==t)&&(ll=null,_s(e,t)),t=!1;var y=Ge;e:do try{if(Ae!==0&&ye!==null){var x=ye,_=Ut;switch(Ae){case 8:Jc(),y=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var M=Ae;if(Ae=0,Ut=null,Ns(e,x,_,M),r&&vs){y=0;break e}break;default:M=Ae,Ae=0,Ut=null,Ns(e,x,_,M)}}lx(),y=Ge;break}catch(H){_m(e,H)}while(!0);return t&&e.shellSuspendCounter++,wa=kr=null,Ee=l,z.H=c,z.A=h,ye===null&&(Ue=null,xe=0,Ai()),y}function lx(){for(;ye!==null;)Em(ye)}function ox(e,t){var r=Ee;Ee|=2;var l=Sm(),c=km();Ue!==e||xe!==t?(ll=null,il=Tt()+500,_s(e,t)):vs=Ws(e,t);e:do try{if(Ae!==0&&ye!==null){t=ye;var h=Ut;t:switch(Ae){case 1:Ae=0,Ut=null,Ns(e,t,h,1);break;case 2:case 9:if(zh(h)){Ae=0,Ut=null,Tm(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),fa(e)},h.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:zh(h)?(Ae=0,Ut=null,Tm(t)):(Ae=0,Ut=null,Ns(e,t,h,7));break;case 5:var y=null;switch(ye.tag){case 26:y=ye.memoizedState;case 5:case 27:var x=ye;if(y?f0(y):x.stateNode.complete){Ae=0,Ut=null;var _=x.sibling;if(_!==null)ye=_;else{var M=x.return;M!==null?(ye=M,ul(M)):ye=null}break t}}Ae=0,Ut=null,Ns(e,t,h,5);break;case 6:Ae=0,Ut=null,Ns(e,t,h,6);break;case 8:Jc(),Ge=6;break e;default:throw Error(o(462))}}cx();break}catch(H){_m(e,H)}while(!0);return wa=kr=null,z.H=l,z.A=c,Ee=r,ye!==null?0:(Ue=null,xe=0,Ai(),Ge)}function cx(){for(;ye!==null&&!Ry();)Em(ye)}function Em(e){var t=Zf(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,t===null?ul(e):ye=t}function Tm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Pf(r,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Pf(r,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:dc(t);default:Ff(r,t),t=ye=Sh(t,Ca),t=Zf(r,t,Ca)}e.memoizedProps=e.pendingProps,t===null?ul(e):ye=t}function Ns(e,t,r,l){wa=kr=null,dc(t),fs=null,yn=0;var c=t.return;try{if(Zp(e,c,t,r,xe)){Ge=1,Zi(e,Qt(r,e.current)),ye=null;return}}catch(h){if(c!==null)throw ye=c,h;Ge=1,Zi(e,Qt(r,e.current)),ye=null;return}t.flags&32768?(ve||l===1?e=!0:vs||(xe&536870912)!==0?e=!1:(Fa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Am(t,e)):ul(t)}function ul(e){var t=e;do{if((t.flags&32768)!==0){Am(t,Fa);return}e=t.return;var r=ex(t.alternate,t,Ca);if(r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ge===0&&(Ge=5)}function Am(e,t){do{var r=tx(e.alternate,e);if(r!==null){r.flags&=32767,ye=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=r}while(e!==null);Ge=6,ye=null}function Om(e,t,r,l,c,h,y,x,_){e.cancelPendingCommit=null;do dl();while(tt!==0);if((Ee&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(h=t.lanes|t.childLanes,h|=Bo,Yy(e,r,h,y,x,_),e===Ue&&(ye=Ue=null,xe=0),js=t,ar=e,Ra=r,Kc=h,Qc=c,bm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fx(fi,function(){return Um(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=I.p,I.p=2,y=Ee,Ee|=4;try{ax(e,t,r)}finally{Ee=y,I.p=c,z.T=l}}tt=1,Cm(),Rm(),Dm()}}function Cm(){if(tt===1){tt=0;var e=ar,t=js,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var l=I.p;I.p=2;var c=Ee;Ee|=4;try{dm(t,e);var h=ou,y=yh(e.containerInfo),x=h.focusedElem,_=h.selectionRange;if(y!==x&&x&&x.ownerDocument&&gh(x.ownerDocument.documentElement,x)){if(_!==null&&Do(x)){var M=_.start,H=_.end;if(H===void 0&&(H=M),"selectionStart"in x)x.selectionStart=M,x.selectionEnd=Math.min(H,x.value.length);else{var Y=x.ownerDocument||document,U=Y&&Y.defaultView||window;if(U.getSelection){var q=U.getSelection(),F=x.textContent.length,ie=Math.min(_.start,F),Me=_.end===void 0?ie:Math.min(_.end,F);!q.extend&&ie>Me&&(y=Me,Me=ie,ie=y);var O=mh(x,ie),k=mh(x,Me);if(O&&k&&(q.rangeCount!==1||q.anchorNode!==O.node||q.anchorOffset!==O.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var D=Y.createRange();D.setStart(O.node,O.offset),q.removeAllRanges(),ie>Me?(q.addRange(D),q.extend(k.node,k.offset)):(D.setEnd(k.node,k.offset),q.addRange(D))}}}}for(Y=[],q=x;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var $=Y[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}_l=!!lu,ou=lu=null}finally{Ee=c,I.p=l,z.T=r}}e.current=t,tt=2}}function Rm(){if(tt===2){tt=0;var e=ar,t=js,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var l=I.p;I.p=2;var c=Ee;Ee|=4;try{im(e,t.alternate,t)}finally{Ee=c,I.p=l,z.T=r}}tt=3}}function Dm(){if(tt===4||tt===3){tt=0,Dy();var e=ar,t=js,r=Ra,l=bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,js=ar=null,Mm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(tr=null),mo(r),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,c=I.p,I.p=2,z.T=null;try{for(var h=e.onRecoverableError,y=0;y<l.length;y++){var x=l[y];h(x.value,{componentStack:x.stack})}}finally{z.T=t,I.p=c}}(Ra&3)!==0&&dl(),fa(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Xc?Dn++:(Dn=0,Xc=e):Dn=0,Mn(0)}}function Mm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mn(t)))}function dl(){return Cm(),Rm(),Dm(),Um()}function Um(){if(tt!==5)return!1;var e=ar,t=Kc;Kc=0;var r=mo(Ra),l=z.T,c=I.p;try{I.p=32>r?32:r,z.T=null,r=Qc,Qc=null;var h=ar,y=Ra;if(tt=0,js=ar=null,Ra=0,(Ee&6)!==0)throw Error(o(331));var x=Ee;if(Ee|=4,ym(h.current),fm(h,h.current,y,r),Ee=x,Mn(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Zs,h)}catch{}return!0}finally{I.p=c,z.T=l,Mm(e,t)}}function zm(e,t,r){t=Qt(r,t),t=kc(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(Fs(e,2),fa(e))}function Oe(e,t,r){if(e.tag===3)zm(e,e,r);else for(;t!==null;){if(t.tag===3){zm(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){e=Qt(r,e),r=Lf(2),l=Ja(t,r,2),l!==null&&(Bf(r,l,t,e),Fs(l,2),fa(l));break}}t=t.return}}function Zc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new nx;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(Gc=!0,c.add(r),e=ux.bind(null,e,t,r),t.then(e,e))}function ux(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ue===e&&(xe&r)===r&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>Tt()-nl?(Ee&2)===0&&_s(e,0):Vc|=r,ws===xe&&(ws=0)),fa(e)}function Lm(e,t){t===0&&(t=Od()),e=_r(e,t),e!==null&&(Fs(e,t),fa(e))}function dx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lm(e,r)}function hx(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Lm(e,r)}function fx(e,t){return co(e,t)}var hl=null,Ss=null,Wc=!1,fl=!1,Fc=!1,sr=0;function fa(e){e!==Ss&&e.next===null&&(Ss===null?hl=Ss=e:Ss=Ss.next=e),fl=!0,Wc||(Wc=!0,gx())}function Mn(e,t){if(!Fc&&fl){Fc=!0;do for(var r=!1,l=hl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,x=l.pingedLanes;h=(1<<31-Ot(42|e)+1)-1,h&=c&~(y&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,$m(l,h))}else h=xe,h=pi(l,l===Ue?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ws(l,h)||(r=!0,$m(l,h));l=l.next}while(r);Fc=!1}}function mx(){Bm()}function Bm(){fl=Wc=!1;var e=0;sr!==0&&Sx()&&(e=sr);for(var t=Tt(),r=null,l=hl;l!==null;){var c=l.next,h=qm(l,t);h===0?(l.next=null,r===null?hl=c:r.next=c,c===null&&(Ss=r)):(r=l,(e!==0||(h&3)!==0)&&(fl=!0)),l=c}tt!==0&&tt!==5||Mn(e),sr!==0&&(sr=0)}function qm(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var y=31-Ot(h),x=1<<y,_=c[y];_===-1?((x&r)===0||(x&l)!==0)&&(c[y]=$y(x,t)):_<=t&&(e.expiredLanes|=x),h&=~x}if(t=Ue,r=xe,r=pi(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&uo(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ws(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&uo(l),mo(r)){case 2:case 8:r=Td;break;case 32:r=fi;break;case 268435456:r=Ad;break;default:r=fi}return l=Hm.bind(null,e),r=co(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&uo(l),e.callbackPriority=2,e.callbackNode=null,2}function Hm(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(dl()&&e.callbackNode!==r)return null;var l=xe;return l=pi(e,e===Ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wm(e,l,t),qm(e,Tt()),e.callbackNode!=null&&e.callbackNode===r?Hm.bind(null,e):null)}function $m(e,t){if(dl())return null;wm(e,t,!0)}function gx(){Ex(function(){(Ee&6)!==0?co(Ed,mx):Bm()})}function eu(){if(sr===0){var e=us;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),sr=e}return sr}function Ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wi(""+e)}function Gm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function yx(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var h=Ym((c[vt]||null).action),y=l.submitter;y&&(t=(t=y[vt]||null)?Ym(t.formAction):y.getAttribute("formAction"),t!==null&&(h=t,y=null));var x=new Si("action","action",null,l,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var _=y?Gm(c,y):new FormData(c);vc(r,{pending:!0,data:_,method:c.method,action:h},null,_)}}else typeof h=="function"&&(x.preventDefault(),_=y?Gm(c,y):new FormData(c),vc(r,{pending:!0,data:_,method:c.method,action:h},h,_))},currentTarget:c}]})}}for(var tu=0;tu<Lo.length;tu++){var au=Lo[tu],px=au.toLowerCase(),xx=au[0].toUpperCase()+au.slice(1);aa(px,"on"+xx)}aa(bh,"onAnimationEnd"),aa(vh,"onAnimationIteration"),aa(wh,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(Mp,"onTransitionRun"),aa(Up,"onTransitionStart"),aa(zp,"onTransitionCancel"),aa(jh,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Un));function Vm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var y=l.length-1;0<=y;y--){var x=l[y],_=x.instance,M=x.currentTarget;if(x=x.listener,_!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=M;try{h(c)}catch(H){Ti(H)}c.currentTarget=null,h=_}else for(y=0;y<l.length;y++){if(x=l[y],_=x.instance,M=x.currentTarget,x=x.listener,_!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=M;try{h(c)}catch(H){Ti(H)}c.currentTarget=null,h=_}}}}function pe(e,t){var r=t[go];r===void 0&&(r=t[go]=new Set);var l=e+"__bubble";r.has(l)||(Pm(t,e,2,!1),r.add(l))}function ru(e,t,r){var l=0;t&&(l|=4),Pm(r,e,l,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function su(e){if(!e[ml]){e[ml]=!0,Ld.forEach(function(r){r!=="selectionchange"&&(bx.has(r)||ru(r,!1,e),ru(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,ru("selectionchange",!1,t))}}function Pm(e,t,r,l){switch(v0(t)){case 2:var c=Qx;break;case 8:c=Xx;break;default:c=bu}r=c.bind(null,t,r,e),c=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function nu(e,t,r,l,c){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===c)break;if(y===4)for(y=l.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;x!==null;){if(y=Qr(x),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){l=h=y;continue e}x=x.parentNode}}l=l.return}Jd(function(){var M=h,H=jo(r),Y=[];e:{var U=_h.get(e);if(U!==void 0){var q=Si,F=e;switch(e){case"keypress":if(_i(r)===0)break e;case"keydown":case"keyup":q=hp;break;case"focusin":F="focus",q=To;break;case"focusout":F="blur",q=To;break;case"beforeblur":case"afterblur":q=To;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gp;break;case bh:case vh:case wh:q=rp;break;case jh:q=pp;break;case"scroll":case"scrollend":q=Wy;break;case"wheel":q=bp;break;case"copy":case"cut":case"paste":q=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=eh;break;case"toggle":case"beforetoggle":q=wp}var ie=(t&4)!==0,Me=!ie&&(e==="scroll"||e==="scrollend"),O=ie?U!==null?U+"Capture":null:U;ie=[];for(var k=M,D;k!==null;){var $=k;if(D=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||D===null||O===null||($=an(k,O),$!=null&&ie.push(zn(k,$,D))),Me)break;k=k.return}0<ie.length&&(U=new q(U,F,null,r,H),Y.push({event:U,listeners:ie}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&r!==wo&&(F=r.relatedTarget||r.fromElement)&&(Qr(F)||F[Kr]))break e;if((q||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,q?(F=r.relatedTarget||r.toElement,q=M,F=F?Qr(F):null,F!==null&&(Me=d(F),ie=F.tag,F!==Me||ie!==5&&ie!==27&&ie!==6)&&(F=null)):(q=null,F=M),q!==F)){if(ie=Wd,$="onMouseLeave",O="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ie=eh,$="onPointerLeave",O="onPointerEnter",k="pointer"),Me=q==null?U:tn(q),D=F==null?U:tn(F),U=new ie($,k+"leave",q,r,H),U.target=Me,U.relatedTarget=D,$=null,Qr(H)===M&&(ie=new ie(O,k+"enter",F,r,H),ie.target=D,ie.relatedTarget=Me,$=ie),Me=$,q&&F)t:{for(ie=vx,O=q,k=F,D=0,$=O;$;$=ie($))D++;$=0;for(var se=k;se;se=ie(se))$++;for(;0<D-$;)O=ie(O),D--;for(;0<$-D;)k=ie(k),$--;for(;D--;){if(O===k||k!==null&&O===k.alternate){ie=O;break t}O=ie(O),k=ie(k)}ie=null}else ie=null;q!==null&&Km(Y,U,q,ie,!1),F!==null&&Me!==null&&Km(Y,Me,F,ie,!0)}}e:{if(U=M?tn(M):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var Ne=oh;else if(ih(U))if(ch)Ne=Cp;else{Ne=Ap;var te=Tp}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?M&&vo(M.elementType)&&(Ne=oh):Ne=Op;if(Ne&&(Ne=Ne(e,M))){lh(Y,Ne,r,H);break e}te&&te(e,U,M),e==="focusout"&&M&&U.type==="number"&&M.memoizedProps.value!=null&&bo(U,"number",U.value)}switch(te=M?tn(M):window,e){case"focusin":(ih(te)||te.contentEditable==="true")&&(as=te,Mo=M,dn=null);break;case"focusout":dn=Mo=as=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,ph(Y,r,H);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":ph(Y,r,H)}var me;if(Oo)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ts?sh(e,r)&&(be="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(be="onCompositionStart");be&&(th&&r.locale!=="ko"&&(ts||be!=="onCompositionStart"?be==="onCompositionEnd"&&ts&&(me=Id()):(Ya=H,So="value"in Ya?Ya.value:Ya.textContent,ts=!0)),te=gl(M,be),0<te.length&&(be=new Fd(be,e,null,r,H),Y.push({event:be,listeners:te}),me?be.data=me:(me=nh(r),me!==null&&(be.data=me)))),(me=_p?Np(e,r):Sp(e,r))&&(be=gl(M,"onBeforeInput"),0<be.length&&(te=new Fd("onBeforeInput","beforeinput",null,r,H),Y.push({event:te,listeners:be}),te.data=me)),yx(Y,e,M,r,H)}Vm(Y,t)})}function zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gl(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=an(e,r),c!=null&&l.unshift(zn(e,c,h)),c=an(e,t),c!=null&&l.push(zn(e,c,h))),e.tag===3)return l;e=e.return}return[]}function vx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Km(e,t,r,l,c){for(var h=t._reactName,y=[];r!==null&&r!==l;){var x=r,_=x.alternate,M=x.stateNode;if(x=x.tag,_!==null&&_===l)break;x!==5&&x!==26&&x!==27||M===null||(_=M,c?(M=an(r,h),M!=null&&y.unshift(zn(r,M,_))):c||(M=an(r,h),M!=null&&y.push(zn(r,M,_)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var wx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(wx,`
`).replace(jx,"")}function Xm(e,t){return t=Qm(t),Qm(e)===t}function De(e,t,r,l,c,h){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Wr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Wr(e,""+l);break;case"className":bi(e,"class",l);break;case"tabIndex":bi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,r,l);break;case"style":Qd(e,l,h);break;case"data":if(t!=="object"){bi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=wi(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(t!=="input"&&De(e,t,"name",c.name,c,null),De(e,t,"formEncType",c.formEncType,c,null),De(e,t,"formMethod",c.formMethod,c,null),De(e,t,"formTarget",c.formTarget,c,null)):(De(e,t,"encType",c.encType,c,null),De(e,t,"method",c.method,c,null),De(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=wi(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=pa);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=wi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),xi(e,"popover",l);break;case"xlinkActuate":ya(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ya(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ya(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ya(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ya(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ya(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ya(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ya(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ya(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Iy.get(r)||r,xi(e,r,l))}}function iu(e,t,r,l,c,h){switch(r){case"style":Qd(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Wr(e,l):(typeof l=="number"||typeof l=="bigint")&&Wr(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),h=e[vt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):xi(e,r,l)}}}function dt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:De(e,t,h,y,r,null)}}c&&De(e,t,"srcSet",r.srcSet,r,null),l&&De(e,t,"src",r.src,r,null);return;case"input":pe("invalid",e);var x=h=y=c=null,_=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":_=H;break;case"defaultChecked":M=H;break;case"value":h=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:De(e,t,l,H,r,null)}}Gd(e,h,x,_,M,y,c,!1);return;case"select":pe("invalid",e),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(x=r[c],x!=null))switch(c){case"value":h=x;break;case"defaultValue":y=x;break;case"multiple":l=x;default:De(e,t,c,x,r,null)}t=h,r=y,e.multiple=!!l,t!=null?Zr(e,!!l,t,!1):r!=null&&Zr(e,!!l,r,!0);return;case"textarea":pe("invalid",e),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(x=r[y],x!=null))switch(y){case"value":l=x;break;case"defaultValue":c=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:De(e,t,y,x,r,null)}Pd(e,l,c,h);return;case"option":for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null)&&(_==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":De(e,t,_,l,r,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<Un.length;l++)pe(Un[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:De(e,t,M,l,r,null)}return;default:if(vo(t)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&iu(e,t,H,l,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null&&De(e,t,x,l,r,null))}function _x(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,x=null,_=null,M=null,H=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":_=Y;default:l.hasOwnProperty(q)||De(e,t,q,null,l,Y)}}for(var U in l){var q=l[U];if(Y=r[U],l.hasOwnProperty(U)&&(q!=null||Y!=null))switch(U){case"type":h=q;break;case"name":c=q;break;case"checked":M=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:q!==Y&&De(e,t,U,q,l,Y)}}xo(e,y,x,_,M,H,h,c);return;case"select":q=y=x=U=null;for(h in r)if(_=r[h],r.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":q=_;default:l.hasOwnProperty(h)||De(e,t,h,null,l,_)}for(c in l)if(h=l[c],_=r[c],l.hasOwnProperty(c)&&(h!=null||_!=null))switch(c){case"value":U=h;break;case"defaultValue":x=h;break;case"multiple":y=h;default:h!==_&&De(e,t,c,h,l,_)}t=x,r=y,l=q,U!=null?Zr(e,!!r,U,!1):!!l!=!!r&&(t!=null?Zr(e,!!r,t,!0):Zr(e,!!r,r?[]:"",!1));return;case"textarea":q=U=null;for(x in r)if(c=r[x],r.hasOwnProperty(x)&&c!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:De(e,t,x,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":U=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==h&&De(e,t,y,c,l,h)}Vd(e,U,q);return;case"option":for(var F in r)U=r[F],r.hasOwnProperty(F)&&U!=null&&!l.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:De(e,t,F,null,l,U));for(_ in l)U=l[_],q=r[_],l.hasOwnProperty(_)&&U!==q&&(U!=null||q!=null)&&(_==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":De(e,t,_,U,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in r)U=r[ie],r.hasOwnProperty(ie)&&U!=null&&!l.hasOwnProperty(ie)&&De(e,t,ie,null,l,U);for(M in l)if(U=l[M],q=r[M],l.hasOwnProperty(M)&&U!==q&&(U!=null||q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:De(e,t,M,U,l,q)}return;default:if(vo(t)){for(var Me in r)U=r[Me],r.hasOwnProperty(Me)&&U!==void 0&&!l.hasOwnProperty(Me)&&iu(e,t,Me,void 0,l,U);for(H in l)U=l[H],q=r[H],!l.hasOwnProperty(H)||U===q||U===void 0&&q===void 0||iu(e,t,H,U,l,q);return}}for(var O in r)U=r[O],r.hasOwnProperty(O)&&U!=null&&!l.hasOwnProperty(O)&&De(e,t,O,null,l,U);for(Y in l)U=l[Y],q=r[Y],!l.hasOwnProperty(Y)||U===q||U==null&&q==null||De(e,t,Y,U,l,q)}function Jm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],h=c.transferSize,y=c.initiatorType,x=c.duration;if(h&&x&&Jm(y)){for(y=0,x=c.responseEnd,l+=1;l<r.length;l++){var _=r[l],M=_.startTime;if(M>x)break;var H=_.transferSize,Y=_.initiatorType;H&&Jm(Y)&&(_=_.responseEnd,y+=H*(_<x?1:(x-M)/(_-M)))}if(--l,t+=8*(h+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lu=null,ou=null;function yl(e){return e.nodeType===9?e:e.ownerDocument}function Im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uu=null;function Sx(){var e=window.event;return e&&e.type==="popstate"?e===uu?!1:(uu=e,!0):(uu=null,!1)}var Wm=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(e){return Fm.resolve(null).then(e).catch(Tx)}:Wm;function Tx(e){setTimeout(function(){throw e})}function nr(e){return e==="head"}function e0(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),As(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ln(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ln(r);for(var h=r.firstChild;h;){var y=h.nextSibling,x=h.nodeName;h[en]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=y}}else r==="body"&&Ln(e.ownerDocument.body);r=c}while(r);As(t)}function t0(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":du(r),yo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Ax(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[en])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function Ox(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Wt(e.nextSibling),e===null))return null;return e}function a0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function hu(e){return e.data==="$?"||e.data==="$~"}function fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cx(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var mu=null;function r0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Wt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function s0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function n0(e,t,r){switch(t=yl(r),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ln(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yo(e)}var Ft=new Map,i0=new Set;function pl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=I.d;I.d={f:Rx,r:Dx,D:Mx,C:Ux,L:zx,m:Lx,X:qx,S:Bx,M:Hx};function Rx(){var e=Da.f(),t=ol();return e||t}function Dx(e){var t=Xr(e);t!==null&&t.tag===5&&t.type==="form"?_f(t):Da.r(e)}var ks=typeof document>"u"?null:document;function l0(e,t,r){var l=ks;if(l&&typeof t=="string"&&t){var c=Pt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),i0.has(c)||(i0.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),dt(t,"link",e),rt(t),l.head.appendChild(t)))}}function Mx(e){Da.D(e),l0("dns-prefetch",e,null)}function Ux(e,t){Da.C(e,t),l0("preconnect",e,t)}function zx(e,t,r){Da.L(e,t,r);var l=ks;if(l&&e&&t){var c='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Pt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Pt(r.imageSizes)+'"]')):c+='[href="'+Pt(e)+'"]';var h=c;switch(t){case"style":h=Es(e);break;case"script":h=Ts(e)}Ft.has(h)||(e=b({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Ft.set(h,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Bn(h))||t==="script"&&l.querySelector(qn(h))||(t=l.createElement("link"),dt(t,"link",e),rt(t),l.head.appendChild(t)))}}function Lx(e,t){Da.m(e,t);var r=ks;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ts(e)}if(!Ft.has(h)&&(e=b({rel:"modulepreload",href:e},t),Ft.set(h,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qn(h)))return}l=r.createElement("link"),dt(l,"link",e),rt(l),r.head.appendChild(l)}}}function Bx(e,t,r){Da.S(e,t,r);var l=ks;if(l&&e){var c=Jr(l).hoistableStyles,h=Es(e);t=t||"default";var y=c.get(h);if(!y){var x={loading:0,preload:null};if(y=l.querySelector(Bn(h)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Ft.get(h))&&gu(e,r);var _=y=l.createElement("link");rt(_),dt(_,"link",e),_._p=new Promise(function(M,H){_.onload=M,_.onerror=H}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,xl(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:x},c.set(h,y)}}}function qx(e,t){Da.X(e,t);var r=ks;if(r&&e){var l=Jr(r).hoistableScripts,c=Ts(e),h=l.get(c);h||(h=r.querySelector(qn(c)),h||(e=b({src:e,async:!0},t),(t=Ft.get(c))&&yu(e,t),h=r.createElement("script"),rt(h),dt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Hx(e,t){Da.M(e,t);var r=ks;if(r&&e){var l=Jr(r).hoistableScripts,c=Ts(e),h=l.get(c);h||(h=r.querySelector(qn(c)),h||(e=b({src:e,async:!0,type:"module"},t),(t=Ft.get(c))&&yu(e,t),h=r.createElement("script"),rt(h),dt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function o0(e,t,r,l){var c=(c=he.current)?pl(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Es(r.href),r=Jr(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Es(r.href);var h=Jr(c).hoistableStyles,y=h.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,y),(h=c.querySelector(Bn(e)))&&!h._p&&(y.instance=h,y.state.loading=5),Ft.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ft.set(e,r),h||$x(c,e,r,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ts(r),r=Jr(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Es(e){return'href="'+Pt(e)+'"'}function Bn(e){return'link[rel="stylesheet"]['+e+"]"}function c0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $x(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),dt(t,"link",r),rt(t),e.head.appendChild(t))}function Ts(e){return'[src="'+Pt(e)+'"]'}function qn(e){return"script[async]"+e}function u0(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Pt(r.href)+'"]');if(l)return t.instance=l,rt(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),dt(l,"style",c),xl(l,r.precedence,e),t.instance=l;case"stylesheet":c=Es(r.href);var h=e.querySelector(Bn(c));if(h)return t.state.loading|=4,t.instance=h,rt(h),h;l=c0(r),(c=Ft.get(c))&&gu(l,c),h=(e.ownerDocument||e).createElement("link"),rt(h);var y=h;return y._p=new Promise(function(x,_){y.onload=x,y.onerror=_}),dt(h,"link",l),t.state.loading|=4,xl(h,r.precedence,e),t.instance=h;case"script":return h=Ts(r.src),(c=e.querySelector(qn(h)))?(t.instance=c,rt(c),c):(l=r,(c=Ft.get(h))&&(l=b({},r),yu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),rt(c),dt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,xl(l,r.precedence,e));return t.instance}function xl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var x=l[y];if(x.dataset.precedence===t)h=x;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bl=null;function d0(e,t,r){if(bl===null){var l=new Map,c=bl=new Map;c.set(r,l)}else c=bl,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var h=r[c];if(!(h[en]||h[lt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(t)||"";y=e+y;var x=l.get(y);x?x.push(h):l.set(y,[h])}}return l}function h0(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Yx(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function f0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gx(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Es(l.href),h=t.querySelector(Bn(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=h,rt(h);return}h=t.ownerDocument||t,l=c0(l),(c=Ft.get(c))&&gu(l,c),h=h.createElement("link"),rt(h);var y=h;y._p=new Promise(function(x,_){y.onload=x,y.onerror=_}),dt(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var pu=0;function Vx(e,t){return e.stylesheets&&e.count===0&&jl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&jl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&pu===0&&(pu=62500*Nx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>pu?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wl=null;function jl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wl=new Map,t.forEach(Px,e),wl=null,vl.call(e))}function Px(e,t){if(!(t.state.loading&4)){var r=wl.get(e);if(r)var l=r.get(null);else{r=new Map,wl.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=vl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Hn={$$typeof:L,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Kx(e,t,r,l,c,h,y,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function m0(e,t,r,l,c,h,y,x,_,M,H,Y){return e=new Kx(e,t,r,y,_,M,H,Y,x),t=1,h===!0&&(t|=24),h=Rt(3,null,null,t),e.current=h,h.stateNode=e,t=Io(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:t},ec(h),e}function g0(e){return e?(e=ns,e):ns}function y0(e,t,r,l,c,h){c=g0(c),l.context===null?l.context=c:l.pendingContext=c,l=Xa(t),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Ja(e,l,t),r!==null&&(kt(r,e,t),xn(r,e,t))}function p0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xu(e,t){p0(e,t),(e=e.alternate)&&p0(e,t)}function x0(e){if(e.tag===13||e.tag===31){var t=_r(e,67108864);t!==null&&kt(t,e,67108864),xu(e,67108864)}}function b0(e){if(e.tag===13||e.tag===31){var t=Lt();t=fo(t);var r=_r(e,t);r!==null&&kt(r,e,t),xu(e,t)}}var _l=!0;function Qx(e,t,r,l){var c=z.T;z.T=null;var h=I.p;try{I.p=2,bu(e,t,r,l)}finally{I.p=h,z.T=c}}function Xx(e,t,r,l){var c=z.T;z.T=null;var h=I.p;try{I.p=8,bu(e,t,r,l)}finally{I.p=h,z.T=c}}function bu(e,t,r,l){if(_l){var c=vu(l);if(c===null)nu(e,t,l,Nl,r),w0(e,l);else if(Ix(c,e,t,r,l))l.stopPropagation();else if(w0(e,l),t&4&&-1<Jx.indexOf(e)){for(;c!==null;){var h=Xr(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=xr(h.pendingLanes);if(y!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var _=1<<31-Ot(y);x.entanglements[1]|=_,y&=~_}fa(h),(Ee&6)===0&&(il=Tt()+500,Mn(0))}}break;case 31:case 13:x=_r(h,2),x!==null&&kt(x,h,2),ol(),xu(h,2)}if(h=vu(l),h===null&&nu(e,t,l,Nl,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else nu(e,t,l,null,r)}}function vu(e){return e=jo(e),wu(e)}var Nl=null;function wu(e){if(Nl=null,e=Qr(e),e!==null){var t=d(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=g(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nl=e,null}function v0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(My()){case Ed:return 2;case Td:return 8;case fi:case Uy:return 32;case Ad:return 268435456;default:return 32}default:return 32}}var ju=!1,ir=null,lr=null,or=null,$n=new Map,Yn=new Map,cr=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(e,t){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Gn(e,t,r,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Xr(t),t!==null&&x0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ix(e,t,r,l,c){switch(t){case"focusin":return ir=Gn(ir,e,t,r,l,c),!0;case"dragenter":return lr=Gn(lr,e,t,r,l,c),!0;case"mouseover":return or=Gn(or,e,t,r,l,c),!0;case"pointerover":var h=c.pointerId;return $n.set(h,Gn($n.get(h)||null,e,t,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Yn.set(h,Gn(Yn.get(h)||null,e,t,r,l,c)),!0}return!1}function j0(e){var t=Qr(e.target);if(t!==null){var r=d(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,Ud(e.priority,function(){b0(r)});return}}else if(t===31){if(t=g(r),t!==null){e.blockedOn=t,Ud(e.priority,function(){b0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vu(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);wo=l,r.target.dispatchEvent(l),wo=null}else return t=Xr(r),t!==null&&x0(t),e.blockedOn=r,!1;t.shift()}return!0}function _0(e,t,r){Sl(e)&&r.delete(t)}function Zx(){ju=!1,ir!==null&&Sl(ir)&&(ir=null),lr!==null&&Sl(lr)&&(lr=null),or!==null&&Sl(or)&&(or=null),$n.forEach(_0),Yn.forEach(_0)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zx)))}var El=null;function N0(e){El!==e&&(El=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){El===e&&(El=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(wu(l||r)===null)continue;break}var h=Xr(r);h!==null&&(e.splice(t,3),t-=3,vc(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function As(e){function t(_){return kl(_,e)}ir!==null&&kl(ir,e),lr!==null&&kl(lr,e),or!==null&&kl(or,e),$n.forEach(t),Yn.forEach(t);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)j0(r),r.blockedOn===null&&cr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[vt]||null;if(typeof h=="function")y||N0(r);else if(y){var x=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[vt]||null)x=y.formAction;else if(wu(c)!==null)continue}else x=y.action;typeof x=="function"?r[l+1]=x:(r.splice(l,3),l-=3),N0(r)}}}function S0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function _u(e){this._internalRoot=e}Tl.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var r=t.current,l=Lt();y0(r,l,e,t,null,null)},Tl.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y0(e.current,2,null,e,null,null),ol(),t[Kr]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Md();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cr.length&&t!==0&&t<cr[r].priority;r++);cr.splice(r,0,e),r===0&&j0(e)}};var k0=a.version;if(k0!=="19.2.3")throw Error(o(527,k0,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Wx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Zs=Al.inject(Wx),At=Al}catch{}}return Pn.createRoot=function(e,t){if(!u(e))throw Error(o(299));var r=!1,l="",c=Df,h=Mf,y=Uf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=m0(e,1,!1,null,null,r,l,null,c,h,y,S0),e[Kr]=t.current,su(e),new _u(t)},Pn.hydrateRoot=function(e,t,r){if(!u(e))throw Error(o(299));var l=!1,c="",h=Df,y=Mf,x=Uf,_=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(_=r.formState)),t=m0(e,1,!0,t,r??null,l,c,_,h,y,x,S0),t.context=g0(null),r=t.current,l=Lt(),l=fo(l),c=Xa(l),c.callback=null,Ja(r,c,l),r=l,t.current.lanes=r,Fs(t,r),fa(t),e[Kr]=t.current,su(e),new Tl(t)},Pn.version="19.2.3",Pn}var z0;function ob(){if(z0)return ku.exports;z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),ku.exports=lb(),ku.exports}var cb=ob();var L0="popstate";function ub(s={}){function a(o,u){let{pathname:d,search:f,hash:g}=o.location;return Vu("",{pathname:d,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){return typeof u=="string"?u:Wn(u)}return hb(a,n,null,s)}function He(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function ta(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function B0(s,a){return{usr:s.state,key:s.key,idx:a}}function Vu(s,a,n=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Ps(a):a,state:n,key:a&&a.key||o||db()}}function Wn({pathname:s="/",search:a="",hash:n=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Ps(s){let a={};if(s){let n=s.indexOf("#");n>=0&&(a.hash=s.substring(n),s=s.substring(0,n));let o=s.indexOf("?");o>=0&&(a.search=s.substring(o),s=s.substring(0,o)),s&&(a.pathname=s)}return a}function hb(s,a,n,o={}){let{window:u=document.defaultView,v5Compat:d=!1}=o,f=u.history,g="POP",m=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function b(){g="POP";let E=v(),C=E==null?null:E-p;p=E,m&&m({action:g,location:R.location,delta:C})}function w(E,C){g="PUSH";let A=Vu(R.location,E,C);p=v()+1;let L=B0(A,p),P=R.createHref(A);try{f.pushState(L,"",P)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;u.location.assign(P)}d&&m&&m({action:g,location:R.location,delta:1})}function N(E,C){g="REPLACE";let A=Vu(R.location,E,C);p=v();let L=B0(A,p),P=R.createHref(A);f.replaceState(L,"",P),d&&m&&m({action:g,location:R.location,delta:0})}function T(E){return fb(E)}let R={get action(){return g},get location(){return s(u,f)},listen(E){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(L0,b),m=E,()=>{u.removeEventListener(L0,b),m=null}},createHref(E){return a(u,E)},createURL:T,encodeLocation(E){let C=T(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:N,go(E){return f.go(E)}};return R}function fb(s,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),He(n,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Wn(s);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function Eg(s,a,n="/"){return mb(s,a,n,!1)}function mb(s,a,n,o){let u=typeof a=="string"?Ps(a):a,d=La(u.pathname||"/",n);if(d==null)return null;let f=Tg(s);gb(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let p=kb(d);g=Nb(f[m],p,o)}return g}function Tg(s,a=[],n=[],o="",u=!1){let d=(f,g,m=u,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&m)return;He(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let b=za([o,v.relativePath]),w=n.concat(v);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Tg(f.children,a,w,b,m)),!(f.path==null&&!f.index)&&a.push({path:b,score:jb(b,f.index),routesMeta:w})};return s.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))d(f,g);else for(let m of Ag(f.path))d(f,g,!0,m)}),a}function Ag(s){let a=s.split("/");if(a.length===0)return[];let[n,...o]=a,u=n.endsWith("?"),d=n.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let f=Ag(o.join("/")),g=[];return g.push(...f.map(m=>m===""?d:[d,m].join("/"))),u&&g.push(...f),g.map(m=>s.startsWith("/")&&m===""?"/":m)}function gb(s){s.sort((a,n)=>a.score!==n.score?n.score-a.score:_b(a.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var yb=/^:[\w-]+$/,pb=3,xb=2,bb=1,vb=10,wb=-2,q0=s=>s==="*";function jb(s,a){let n=s.split("/"),o=n.length;return n.some(q0)&&(o+=wb),a&&(o+=xb),n.filter(u=>!q0(u)).reduce((u,d)=>u+(yb.test(d)?pb:d===""?bb:vb),o)}function _b(s,a){return s.length===a.length&&s.slice(0,-1).every((o,u)=>o===a[u])?s[s.length-1]-a[a.length-1]:0}function Nb(s,a,n=!1){let{routesMeta:o}=s,u={},d="/",f=[];for(let g=0;g<o.length;++g){let m=o[g],p=g===o.length-1,v=d==="/"?a:a.slice(d.length)||"/",b=ql({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!b&&p&&n&&!o[o.length-1].route.index&&(b=ql({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(u,b.params),f.push({params:u,pathname:za([d,b.pathname]),pathnameBase:Ob(za([d,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(d=za([d,b.pathnameBase]))}return f}function ql(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=Sb(s.path,s.caseSensitive,s.end),u=a.match(n);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let T=g[w]||"";f=d.slice(0,d.length-T.length).replace(/(.)\/+$/,"$1")}const N=g[w];return b&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:f,pattern:s}}function Sb(s,a=!1,n=!0){ta(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(o.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),o]}function kb(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ta(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function La(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}var Og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eb=s=>Og.test(s);function Tb(s,a="/"){let{pathname:n,search:o="",hash:u=""}=typeof s=="string"?Ps(s):s,d;if(n)if(Eb(n))d=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ta(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?d=H0(n.substring(1),"/"):d=H0(n,a)}else d=a;return{pathname:d,search:Cb(o),hash:Rb(u)}}function H0(s,a){let n=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?n.length>1&&n.pop():u!=="."&&n.push(u)}),n.length>1?n.join("/"):"/"}function Ou(s,a,n,o){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ab(s){return s.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function od(s){let a=Ab(s);return a.map((n,o)=>o===a.length-1?n.pathname:n.pathnameBase)}function cd(s,a,n,o=!1){let u;typeof s=="string"?u=Ps(s):(u={...s},He(!u.pathname||!u.pathname.includes("?"),Ou("?","pathname","search",u)),He(!u.pathname||!u.pathname.includes("#"),Ou("#","pathname","hash",u)),He(!u.search||!u.search.includes("#"),Ou("#","search","hash",u)));let d=s===""||u.pathname==="",f=d?"/":u.pathname,g;if(f==null)g=n;else{let b=a.length-1;if(!o&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;u.pathname=w.join("/")}g=b>=0?a[b]:"/"}let m=Tb(u,g),p=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var za=s=>s.join("/").replace(/\/\/+/g,"/"),Ob=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Cb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Rb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Db=class{constructor(s,a,n,o=!1){this.status=s,this.statusText=a||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Ub(s){return s.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rg(s,a){let n=s;if(typeof n!="string"||!Og.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,u=!1;if(Cg)try{let d=new URL(window.location.href),f=n.startsWith("//")?new URL(d.protocol+n):new URL(n),g=La(f.pathname,a);f.origin===d.origin&&g!=null?n=g+f.search+f.hash:u=!0}catch{ta(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dg=["POST","PUT","PATCH","DELETE"];new Set(Dg);var zb=["GET",...Dg];new Set(zb);var Ks=S.createContext(null);Ks.displayName="DataRouter";var Jl=S.createContext(null);Jl.displayName="DataRouterState";var Lb=S.createContext(!1),Mg=S.createContext({isTransitioning:!1});Mg.displayName="ViewTransition";var Bb=S.createContext(new Map);Bb.displayName="Fetchers";var qb=S.createContext(null);qb.displayName="Await";var Gt=S.createContext(null);Gt.displayName="Navigation";var ii=S.createContext(null);ii.displayName="Location";var ca=S.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var ud=S.createContext(null);ud.displayName="RouteError";var Ug="REACT_ROUTER_ERROR",Hb="REDIRECT",$b="ROUTE_ERROR_RESPONSE";function Yb(s){if(s.startsWith(`${Ug}:${Hb}:{`))try{let a=JSON.parse(s.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Gb(s){if(s.startsWith(`${Ug}:${$b}:{`))try{let a=JSON.parse(s.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Db(a.status,a.statusText,a.data)}catch{}}function Vb(s,{relative:a}={}){He(Qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=S.useContext(Gt),{hash:u,pathname:d,search:f}=li(s,{relative:a}),g=d;return n!=="/"&&(g=d==="/"?n:za([n,d])),o.createHref({pathname:g,search:f,hash:u})}function Qs(){return S.useContext(ii)!=null}function yr(){return He(Qs(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ii).location}var zg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lg(s){S.useContext(Gt).static||S.useLayoutEffect(s)}function Xs(){let{isDataRoute:s}=S.useContext(ca);return s?sv():Pb()}function Pb(){He(Qs(),"useNavigate() may be used only in the context of a <Router> component.");let s=S.useContext(Ks),{basename:a,navigator:n}=S.useContext(Gt),{matches:o}=S.useContext(ca),{pathname:u}=yr(),d=JSON.stringify(od(o)),f=S.useRef(!1);return Lg(()=>{f.current=!0}),S.useCallback((m,p={})=>{if(ta(f.current,zg),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=cd(m,JSON.parse(d),u,p.relative==="path");s==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:za([a,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[a,n,d,u,s])}S.createContext(null);function Kb(){let{matches:s}=S.useContext(ca),a=s[s.length-1];return a?a.params:{}}function li(s,{relative:a}={}){let{matches:n}=S.useContext(ca),{pathname:o}=yr(),u=JSON.stringify(od(n));return S.useMemo(()=>cd(s,JSON.parse(u),o,a==="path"),[s,u,o,a])}function Qb(s,a){return Bg(s,a)}function Bg(s,a,n,o,u){He(Qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=S.useContext(Gt),{matches:f}=S.useContext(ca),g=f[f.length-1],m=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",b=g&&g.route;{let A=b&&b.path||"";Hg(p,!b||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let w=yr(),N;if(a){let A=typeof a=="string"?Ps(a):a;He(v==="/"||A.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=w;let T=N.pathname||"/",R=T;if(v!=="/"){let A=v.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Eg(s,{pathname:R});ta(b||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ta(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Wb(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:za([v,d.encodeLocation?d.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?v:za([v,d.encodeLocation?d.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),f,n,o,u);return a&&C?S.createElement(ii.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function Xb(){let s=rv(),a=Mb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:d},"ErrorBoundary")," or"," ",S.createElement("code",{style:d},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},a),n?S.createElement("pre",{style:u},n):null,f)}var Jb=S.createElement(Xb,null),qg=class extends S.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=Gb(s.digest);n&&(s=n)}let a=s!==void 0?S.createElement(ca.Provider,{value:this.props.routeContext},S.createElement(ud.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?S.createElement(Ib,{error:s},a):a}};qg.contextType=Lb;var Cu=new WeakMap;function Ib({children:s,error:a}){let{basename:n}=S.useContext(Gt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Yb(a.digest);if(o){let u=Cu.get(a);if(u)throw u;let d=Rg(o.location,n);if(Cg&&!Cu.get(a))if(d.isExternal||o.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:o.replace}));throw Cu.set(a,f),f}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return s}function Zb({routeContext:s,match:a,children:n}){let o=S.useContext(Ks);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(ca.Provider,{value:s},n)}function Wb(s,a=[],n=null,o=null,u=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let d=s,f=n?.errors;if(f!=null){let v=d.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);He(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let g=!1,m=-1;if(n)for(let v=0;v<d.length;v++){let b=d[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:w,errors:N}=n,T=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||T){g=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}let p=n&&o?(v,b)=>{o(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ub(n.matches),errorInfo:b})}:void 0;return d.reduceRight((v,b,w)=>{let N,T=!1,R=null,E=null;n&&(N=f&&b.route.id?f[b.route.id]:void 0,R=b.route.errorElement||Jb,g&&(m<0&&w===0?(Hg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,E=null):m===w&&(T=!0,E=b.route.hydrateFallbackElement||null)));let C=a.concat(d.slice(0,w+1)),A=()=>{let L;return N?L=R:T?L=E:b.route.Component?L=S.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=v,S.createElement(Zb,{match:b,routeContext:{outlet:v,matches:C,isDataRoute:n!=null},children:L})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?S.createElement(qg,{location:n.location,revalidation:n.revalidation,component:R,error:N,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):A()},null)}function dd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(s){let a=S.useContext(Ks);return He(a,dd(s)),a}function ev(s){let a=S.useContext(Jl);return He(a,dd(s)),a}function tv(s){let a=S.useContext(ca);return He(a,dd(s)),a}function hd(s){let a=tv(s),n=a.matches[a.matches.length-1];return He(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function av(){return hd("useRouteId")}function rv(){let s=S.useContext(ud),a=ev("useRouteError"),n=hd("useRouteError");return s!==void 0?s:a.errors?.[n]}function sv(){let{router:s}=Fb("useNavigate"),a=hd("useNavigate"),n=S.useRef(!1);return Lg(()=>{n.current=!0}),S.useCallback(async(u,d={})=>{ta(n.current,zg),n.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:a,...d}))},[s,a])}var $0={};function Hg(s,a,n){!a&&!$0[s]&&($0[s]=!0,ta(!1,n))}S.memo(nv);function nv({routes:s,future:a,state:n,onError:o}){return Bg(s,void 0,n,o,a)}function Pu({to:s,replace:a,state:n,relative:o}){He(Qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=S.useContext(Gt);ta(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=S.useContext(ca),{pathname:f}=yr(),g=Xs(),m=cd(s,od(d),f,o==="path"),p=JSON.stringify(m);return S.useEffect(()=>{g(JSON.parse(p),{replace:a,state:n,relative:o})},[g,p,o,a,n]),null}function hr(s){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iv({basename:s="/",children:a=null,location:n,navigationType:o="POP",navigator:u,static:d=!1,unstable_useTransitions:f}){He(!Qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:g,navigator:u,static:d,unstable_useTransitions:f,future:{}}),[g,u,d,f]);typeof n=="string"&&(n=Ps(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:N="default"}=n,T=S.useMemo(()=>{let R=La(p,g);return R==null?null:{location:{pathname:R,search:v,hash:b,state:w,key:N},navigationType:o}},[g,p,v,b,w,N,o]);return ta(T!=null,`<Router basename="${g}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:S.createElement(Gt.Provider,{value:m},S.createElement(ii.Provider,{children:a,value:T}))}function lv({children:s,location:a}){return Qb(Ku(s),a)}function Ku(s,a=[]){let n=[];return S.Children.forEach(s,(o,u)=>{if(!S.isValidElement(o))return;let d=[...a,u];if(o.type===S.Fragment){n.push.apply(n,Ku(o.props.children,d));return}He(o.type===hr,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Ku(o.props.children,d)),n.push(f)}),n}var Ul="get",zl="application/x-www-form-urlencoded";function Il(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function ov(s){return Il(s)&&s.tagName.toLowerCase()==="button"}function cv(s){return Il(s)&&s.tagName.toLowerCase()==="form"}function uv(s){return Il(s)&&s.tagName.toLowerCase()==="input"}function dv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function hv(s,a){return s.button===0&&(!a||a==="_self")&&!dv(s)}var Ol=null;function fv(){if(Ol===null)try{new FormData(document.createElement("form"),0),Ol=!1}catch{Ol=!0}return Ol}var mv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ru(s){return s!=null&&!mv.has(s)?(ta(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zl}"`),null):s}function gv(s,a){let n,o,u,d,f;if(cv(s)){let g=s.getAttribute("action");o=g?La(g,a):null,n=s.getAttribute("method")||Ul,u=Ru(s.getAttribute("enctype"))||zl,d=new FormData(s)}else if(ov(s)||uv(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||g.getAttribute("action");if(o=m?La(m,a):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||Ul,u=Ru(s.getAttribute("formenctype"))||Ru(g.getAttribute("enctype"))||zl,d=new FormData(g,s),!fv()){let{name:p,type:v,value:b}=s;if(v==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,b)}}else{if(Il(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ul,o=null,u=zl,f=s}return d&&u==="text/plain"&&(f=d,d=void 0),{action:o,method:n.toLowerCase(),encType:u,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fd(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function yv(s,a,n){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${n}`:a&&La(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function pv(s,a){if(s.id in a)return a[s.id];try{let n=await import(s.module);return a[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function bv(s,a,n){let o=await Promise.all(s.map(async u=>{let d=a.routes[u.route.id];if(d){let f=await pv(d,n);return f.links?f.links():[]}return[]}));return _v(o.flat(1).filter(xv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Y0(s,a,n,o,u,d){let f=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return d==="assets"?a.filter((m,p)=>f(m,p)||g(m,p)):d==="data"?a.filter((m,p)=>{let v=o.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function vv(s,a,{includeHydrateFallback:n}={}){return wv(s.map(o=>{let u=a.routes[o.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),n&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function wv(s){return[...new Set(s)]}function jv(s){let a={},n=Object.keys(s).sort();for(let o of n)a[o]=s[o];return a}function _v(s,a){let n=new Set;return new Set(a),s.reduce((o,u)=>{let d=JSON.stringify(jv(u));return n.has(d)||(n.add(d),o.push({key:d,link:u})),o},[])}function $g(){let s=S.useContext(Ks);return fd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Nv(){let s=S.useContext(Jl);return fd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var md=S.createContext(void 0);md.displayName="FrameworkContext";function Yg(){let s=S.useContext(md);return fd(s,"You must render this element inside a <HydratedRouter> element"),s}function Sv(s,a){let n=S.useContext(md),[o,u]=S.useState(!1),[d,f]=S.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=a,w=S.useRef(null);S.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let R=C=>{C.forEach(A=>{f(A.isIntersecting)})},E=new IntersectionObserver(R,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[s]),S.useEffect(()=>{if(o){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[o]);let N=()=>{u(!0)},T=()=>{u(!1),f(!1)};return n?s!=="intent"?[d,w,{}]:[d,w,{onFocus:Kn(g,N),onBlur:Kn(m,T),onMouseEnter:Kn(p,N),onMouseLeave:Kn(v,T),onTouchStart:Kn(b,N)}]:[!1,w,{}]}function Kn(s,a){return n=>{s&&s(n),n.defaultPrevented||a(n)}}function kv({page:s,...a}){let{router:n}=$g(),o=S.useMemo(()=>Eg(n.routes,s,n.basename),[n.routes,s,n.basename]);return o?S.createElement(Tv,{page:s,matches:o,...a}):null}function Ev(s){let{manifest:a,routeModules:n}=Yg(),[o,u]=S.useState([]);return S.useEffect(()=>{let d=!1;return bv(s,a,n).then(f=>{d||u(f)}),()=>{d=!0}},[s,a,n]),o}function Tv({page:s,matches:a,...n}){let o=yr(),{manifest:u,routeModules:d}=Yg(),{basename:f}=$g(),{loaderData:g,matches:m}=Nv(),p=S.useMemo(()=>Y0(s,a,m,u,o,"data"),[s,a,m,u,o]),v=S.useMemo(()=>Y0(s,a,m,u,o,"assets"),[s,a,m,u,o]),b=S.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let T=new Set,R=!1;if(a.forEach(C=>{let A=u.routes[C.route.id];!A||!A.hasLoader||(!p.some(L=>L.route.id===C.route.id)&&C.route.id in g&&d[C.route.id]?.shouldRevalidate||A.hasClientLoader?R=!0:T.add(C.route.id))}),T.size===0)return[];let E=yv(s,f,"data");return R&&T.size>0&&E.searchParams.set("_routes",a.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[f,g,o,u,p,a,s,d]),w=S.useMemo(()=>vv(v,u),[v,u]),N=Ev(v);return S.createElement(S.Fragment,null,b.map(T=>S.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),w.map(T=>S.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),N.map(({key:T,link:R})=>S.createElement("link",{key:T,nonce:n.nonce,...R})))}function Av(...s){return a=>{s.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.11.0")}catch{}function Cv({basename:s,children:a,unstable_useTransitions:n,window:o}){let u=S.useRef();u.current==null&&(u.current=ub({window:o,v5Compat:!0}));let d=u.current,[f,g]=S.useState({action:d.action,location:d.location}),m=S.useCallback(p=>{n===!1?g(p):S.startTransition(()=>g(p))},[n]);return S.useLayoutEffect(()=>d.listen(m),[d,m]),S.createElement(iv,{basename:s,children:a,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:n})}var Gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=S.forwardRef(function({onClick:a,discover:n="render",prefetch:o="none",relative:u,reloadDocument:d,replace:f,state:g,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...N},T){let{basename:R,unstable_useTransitions:E}=S.useContext(Gt),C=typeof p=="string"&&Gg.test(p),A=Rg(p,R);p=A.to;let L=Vb(p,{relative:u}),[P,Z,W]=Sv(o,N),K=Uv(p,{replace:f,state:g,target:m,preventScrollReset:v,relative:u,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:E});function de(Q){a&&a(Q),Q.defaultPrevented||K(Q)}let ge=S.createElement("a",{...N,...W,href:A.absoluteURL||L,onClick:A.isExternal||d?a:de,ref:Av(T,Z),target:m,"data-discover":!C&&n==="render"?"true":void 0});return P&&!C?S.createElement(S.Fragment,null,ge,S.createElement(kv,{page:L})):ge});bt.displayName="Link";var Rv=S.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:o="",end:u=!1,style:d,to:f,viewTransition:g,children:m,...p},v){let b=li(f,{relative:p.relative}),w=yr(),N=S.useContext(Jl),{navigator:T,basename:R}=S.useContext(Gt),E=N!=null&&Hv(b)&&g===!0,C=T.encodeLocation?T.encodeLocation(b).pathname:b.pathname,A=w.pathname,L=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(A=A.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&R&&(L=La(L,R)||L);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Z=A===C||!u&&A.startsWith(C)&&A.charAt(P)==="/",W=L!=null&&(L===C||!u&&L.startsWith(C)&&L.charAt(C.length)==="/"),K={isActive:Z,isPending:W,isTransitioning:E},de=Z?a:void 0,ge;typeof o=="function"?ge=o(K):ge=[o,Z?"active":null,W?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Q=typeof d=="function"?d(K):d;return S.createElement(bt,{...p,"aria-current":de,className:ge,ref:v,style:Q,to:f,viewTransition:g},typeof m=="function"?m(K):m)});Rv.displayName="NavLink";var Dv=S.forwardRef(({discover:s="render",fetcherKey:a,navigate:n,reloadDocument:o,replace:u,state:d,method:f=Ul,action:g,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...N},T)=>{let{unstable_useTransitions:R}=S.useContext(Gt),E=Bv(),C=qv(g,{relative:p}),A=f.toLowerCase()==="get"?"get":"post",L=typeof g=="string"&&Gg.test(g),P=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let W=Z.nativeEvent.submitter,K=W?.getAttribute("formmethod")||f,de=()=>E(W||Z.currentTarget,{fetcherKey:a,method:K,navigate:n,replace:u,state:d,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});R&&n!==!1?S.startTransition(()=>de()):de()};return S.createElement("form",{ref:T,method:A,action:C,onSubmit:o?m:P,...N,"data-discover":!L&&s==="render"?"true":void 0})});Dv.displayName="Form";function Mv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vg(s){let a=S.useContext(Ks);return He(a,Mv(s)),a}function Uv(s,{target:a,replace:n,state:o,preventScrollReset:u,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let p=Xs(),v=yr(),b=li(s,{relative:d});return S.useCallback(w=>{if(hv(w,a)){w.preventDefault();let N=n!==void 0?n:Wn(v)===Wn(b),T=()=>p(s,{replace:N,state:o,preventScrollReset:u,relative:d,viewTransition:f,unstable_defaultShouldRevalidate:g});m?S.startTransition(()=>T()):T()}},[v,p,b,n,o,a,s,u,d,f,g,m])}var zv=0,Lv=()=>`__${String(++zv)}__`;function Bv(){let{router:s}=Vg("useSubmit"),{basename:a}=S.useContext(Gt),n=av(),o=s.fetch,u=s.navigate;return S.useCallback(async(d,f={})=>{let{action:g,method:m,encType:p,formData:v,body:b}=gv(d,a);if(f.navigate===!1){let w=f.fetcherKey||Lv();await o(w,n,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||m,formEncType:f.encType||p,flushSync:f.flushSync})}else await u(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:b,formMethod:f.method||m,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,u,a,n])}function qv(s,{relative:a}={}){let{basename:n}=S.useContext(Gt),o=S.useContext(ca);He(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),d={...li(s||".",{relative:a})},f=yr();if(s==null){d.search=f.search;let g=new URLSearchParams(d.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();d.search=v?`?${v}`:""}}return(!s||s===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:za([n,d.pathname])),Wn(d)}function Hv(s,{relative:a}={}){let n=S.useContext(Mg);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Vg("useViewTransitionState"),u=li(s,{relative:a});if(!n.isTransitioning)return!1;let d=La(n.currentLocation.pathname,o)||n.currentLocation.pathname,f=La(n.nextLocation.pathname,o)||n.nextLocation.pathname;return ql(u.pathname,f)!=null||ql(u.pathname,d)!=null}function Zl(s,a){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(s);u<o.length;u++)a.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(s,o[u])&&(n[o[u]]=s[o[u]]);return n}function $v(s,a,n,o){function u(d){return d instanceof n?d:new n(function(f){f(d)})}return new(n||(n=Promise))(function(d,f){function g(v){try{p(o.next(v))}catch(b){f(b)}}function m(v){try{p(o.throw(v))}catch(b){f(b)}}function p(v){v.done?d(v.value):u(v.value).then(g,m)}p((o=o.apply(s,a||[])).next())})}const Yv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class gd extends Error{constructor(a,n="FunctionsError",o){super(a),this.name=n,this.context=o}}class Gv extends gd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class G0 extends gd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class V0 extends gd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Qu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Qu||(Qu={}));class Vv{constructor(a,{headers:n={},customFetch:o,region:u=Qu.Any}={}){this.url=a,this.headers=n,this.region=u,this.fetch=Yv(o)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return $v(this,arguments,void 0,function*(n,o={}){var u;let d,f;try{const{headers:g,method:m,body:p,signal:v,timeout:b}=o;let w={},{region:N}=o;N||(N=this.region);const T=new URL(`${this.url}/${n}`);N&&N!=="any"&&(w["x-region"]=N,T.searchParams.set("forceFunctionRegion",N));let R;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",R=p):typeof p=="string"?(w["Content-Type"]="text/plain",R=p):typeof FormData<"u"&&p instanceof FormData?R=p:(w["Content-Type"]="application/json",R=JSON.stringify(p)):R=p;let E=v;b&&(f=new AbortController,d=setTimeout(()=>f.abort(),b),v?(E=f.signal,v.addEventListener("abort",()=>f.abort())):E=f.signal);const C=yield this.fetch(T.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:R,signal:E}).catch(Z=>{throw new Gv(Z)}),A=C.headers.get("x-relay-error");if(A&&A==="true")throw new G0(C);if(!C.ok)throw new V0(C);let L=((u=C.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),P;return L==="application/json"?P=yield C.json():L==="application/octet-stream"||L==="application/pdf"?P=yield C.blob():L==="text/event-stream"?P=C:L==="multipart/form-data"?P=yield C.formData():P=yield C.text(),{data:P,error:null,response:C}}catch(g){return{data:null,error:g,response:g instanceof V0||g instanceof G0?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var Pv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Kv=class{constructor(s){var a,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,m=null,p=d.status,v=d.statusText;if(d.ok){var b,w;if(n.method!=="HEAD"){var N;const C=await d.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((N=n.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const R=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),E=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&E&&E.length>1&&(m=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var T;const R=await d.text();try{f=JSON.parse(R),Array.isArray(f)&&d.status===404&&(g=[],f=null,p=200,v="OK")}catch{d.status===404&&R===""?(p=204,v="No Content"):f={message:R}}if(f&&n.isMaybeSingle&&(!(f==null||(T=f.details)===null||T===void 0)&&T.includes("0 rows"))&&(f=null,p=200,v="OK"),f&&n.shouldThrowOnError)throw new Pv(f)}return{error:f,data:g,count:m,status:p,statusText:v}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let g="";const m=d?.cause;if(m){var p,v,b,w;const T=(p=m?.message)!==null&&p!==void 0?p:"",R=(v=m?.code)!==null&&v!==void 0?v:"";g=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${T}`,R&&(g+=` (${R})`),m?.stack&&(g+=`
${m.stack}`)}else{var N;g=(N=d?.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}},Qv=class extends Kv{select(s){let a=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:n,foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${a?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:n=a}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,a,{foreignTable:n,referencedTable:o=n}={}){const u=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:n=!1,buffers:o=!1,wal:u=!1,format:d="text"}={}){var f;const g=[s?"analyze":null,a?"verbose":null,n?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const P0=new RegExp("[,()]");var Ls=class extends Qv{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const n=Array.from(new Set(a)).map(o=>typeof o=="string"&&P0.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,a){const n=Array.from(new Set(a)).map(o=>typeof o=="string"&&P0.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:n,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,n])=>{this.url.searchParams.append(a,`eq.${n}`)}),this}not(s,a,n){return this.url.searchParams.append(s,`not.${a}.${n}`),this}or(s,{foreignTable:a,referencedTable:n=a}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,a,n){return this.url.searchParams.append(s,`${a}.${n}`),this}},Xv=class{constructor(s,{headers:a={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(a),this.schema=n,this.fetch=o}select(s,a){const{head:n=!1,count:o}=a??{},u=n?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new Ls({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:n=!0}={}){var o;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(d.length>0){const f=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new Ls({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:n=!1,count:o,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ls({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:a}={}){var n;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Ls({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var a;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new Ls({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Jv=class Pg{constructor(a,{headers:n={},schema:o,fetch:u}={}){this.url=a,this.headers=new Headers(n),this.schemaName=o,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Xv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Pg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,n={},{head:o=!1,get:u=!1,count:d}={}){var f;let g;const m=new URL(`${this.url}/rpc/${a}`);let p;o||u?(g=o?"HEAD":"GET",Object.entries(n).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{m.searchParams.append(b,w)})):(g="POST",p=n);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new Ls({method:g,url:m,headers:v,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Iv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const o=this.getWebSocketConstructor();return new o(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Zv="2.89.0",Wv=`realtime-js/${Zv}`,Kg="1.0.0",Fv="2.0.0",K0=Kg,Xu=1e4,ew=1e3,tw=100;var fr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(fr||(fr={}));var at;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(at||(at={}));var la;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(la||(la={}));var Ju;(function(s){s.websocket="websocket"})(Ju||(Ju={}));var Hr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Hr||(Hr={}));class aw{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,n){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(a));let o=[a.join_ref,a.ref,a.topic,a.event,a.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(a){var n;return this._isArrayBuffer((n=a.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var n,o;const u=(o=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var n,o;const u=(o=(n=a.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,n,o){var u,d;const f=a.topic,g=(u=a.ref)!==null&&u!==void 0?u:"",m=(d=a.join_ref)!==null&&d!==void 0?d:"",p=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+p.length+b.length,N=new ArrayBuffer(this.HEADER_LENGTH+w);let T=new DataView(N),R=0;T.setUint8(R++,this.KINDS.userBroadcastPush),T.setUint8(R++,m.length),T.setUint8(R++,g.length),T.setUint8(R++,f.length),T.setUint8(R++,p.length),T.setUint8(R++,b.length),T.setUint8(R++,n),Array.from(m,C=>T.setUint8(R++,C.charCodeAt(0))),Array.from(g,C=>T.setUint8(R++,C.charCodeAt(0))),Array.from(f,C=>T.setUint8(R++,C.charCodeAt(0))),Array.from(p,C=>T.setUint8(R++,C.charCodeAt(0))),Array.from(b,C=>T.setUint8(R++,C.charCodeAt(0)));var E=new Uint8Array(N.byteLength+o.byteLength);return E.set(new Uint8Array(N),0),E.set(new Uint8Array(o),N.byteLength),E.buffer}decode(a,n){if(this._isArrayBuffer(a)){let o=this._binaryDecode(a);return n(o)}if(typeof a=="string"){const o=JSON.parse(a),[u,d,f,g,m]=o;return n({join_ref:u,ref:d,topic:f,event:g,payload:m})}return n({})}_binaryDecode(a){const n=new DataView(a),o=n.getUint8(0),u=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,n,u)}_decodeUserBroadcast(a,n,o){const u=n.getUint8(1),d=n.getUint8(2),f=n.getUint8(3),g=n.getUint8(4);let m=this.HEADER_LENGTH+4;const p=o.decode(a.slice(m,m+u));m=m+u;const v=o.decode(a.slice(m,m+d));m=m+d;const b=o.decode(a.slice(m,m+f));m=m+f;const w=a.slice(m,a.byteLength),N=g===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,T={type:this.BROADCAST_EVENT,event:v,payload:N};return f>0&&(T.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(a){var n;return a instanceof ArrayBuffer||((n=a?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(a,n){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([o])=>n.includes(o)))}}class Qg{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ze||(ze={}));const Q0=(s,a,n={})=>{var o;const u=(o=n.skipTypes)!==null&&o!==void 0?o:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=rw(f,s,a,u),d),{}):{}},rw=(s,a,n,o)=>{const u=a.find(g=>g.name===s),d=u?.type,f=n[s];return d&&!o.includes(d)?Xg(d,f):Iu(f)},Xg=(s,a)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return lw(a,n)}switch(s){case ze.bool:return sw(a);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return nw(a);case ze.json:case ze.jsonb:return iw(a);case ze.timestamp:return ow(a);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Iu(a);default:return Iu(a)}},Iu=s=>s,sw=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},nw=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},iw=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},lw=(s,a)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let d;const f=s.slice(1,n);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>Xg(a,g))}return s},ow=s=>typeof s=="string"?s.replace(" ","T"):s,Jg=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Du{constructor(a,n,o={},u=Xu){this.channel=a,this.event=n,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var o;return this._hasReceived(a)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(o=>o.status===a).forEach(o=>o.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var X0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(X0||(X0={}));class In{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,u,d,f),this.pendingDiffs.forEach(m=>{this.state=In.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=In.syncDiff(this.state,u,d,f),g())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,o,u){const d=this.cloneDeep(a),f=this.transformState(n),g={},m={};return this.map(d,(p,v)=>{f[p]||(m[p]=v)}),this.map(f,(p,v)=>{const b=d[p];if(b){const w=v.map(E=>E.presence_ref),N=b.map(E=>E.presence_ref),T=v.filter(E=>N.indexOf(E.presence_ref)<0),R=b.filter(E=>w.indexOf(E.presence_ref)<0);T.length>0&&(g[p]=T),R.length>0&&(m[p]=R)}else g[p]=v}),this.syncDiff(d,{joins:g,leaves:m},o,u)}static syncDiff(a,n,o,u){const{joins:d,leaves:f}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(d,(g,m)=>{var p;const v=(p=a[g])!==null&&p!==void 0?p:[];if(a[g]=this.cloneDeep(m),v.length>0){const b=a[g].map(N=>N.presence_ref),w=v.filter(N=>b.indexOf(N.presence_ref)<0);a[g].unshift(...w)}o(g,v,m)}),this.map(f,(g,m)=>{let p=a[g];if(!p)return;const v=m.map(b=>b.presence_ref);p=p.filter(b=>v.indexOf(b.presence_ref)<0),a[g]=p,u(g,p,m),p.length===0&&delete a[g]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(o=>n(o,a[o]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,o)=>{const u=a[o];return"metas"in u?n[o]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[o]=u,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(J0||(J0={}));var Zn;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Zn||(Zn={}));var Ma;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class Hs{constructor(a,n={config:{}},o){var u,d;if(this.topic=a,this.params=n,this.socket=o,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,la.join,this.params,this.timeout),this.rejoinTimer=new Qg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(la.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new In(this),this.broadcastEndpointURL=Jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,n=this.timeout){var o,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,p=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(N=>N.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[Zn.PRESENCE]&&this.bindings[Zn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},w={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(N=>a?.(Ma.CHANNEL_ERROR,N)),this._onClose(()=>a?.(Ma.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){a?.(Ma.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,E=(T=R?.length)!==null&&T!==void 0?T:0,C=[];for(let A=0;A<E;A++){const L=R[A],{filter:{event:P,schema:Z,table:W,filter:K}}=L,de=N&&N[A];if(de&&de.event===P&&Hs.isFilterValueEqual(de.schema,Z)&&Hs.isFilterValueEqual(de.table,W)&&Hs.isFilterValueEqual(de.filter,K))C.push(Object.assign(Object.assign({},L),{id:de.id}));else{this.unsubscribe(),this.state=at.errored,a?.(Ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,a&&a(Ma.SUBSCRIBED);return}}).receive("error",N=>{this.state=at.errored,a?.(Ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,o){return this.state===at.joined&&a===Zn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,n,o)}async httpSend(a,n,o={}){var u;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:n,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(a,n={}){var o,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,m;const p=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(la.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new Du(this,la.leave,{},a),o.receive("ok",()=>{n(),u("ok")}).receive("timeout",()=>{n(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(a,n,o){const u=new AbortController,d=setTimeout(()=>u.abort(),o),f=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:u.signal}));return clearTimeout(d),f}_push(a,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Du(this,a,n,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>tw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,o){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,o){var u,d;const f=a.toLocaleLowerCase(),{close:g,error:m,leave:p,join:v}=la;if(o&&[g,m,p,v].indexOf(f)>=0&&o!==this._joinRef())return;let w=this._onMessage(f,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(N=>{var T,R,E;return((T=N.filter)===null||T===void 0?void 0:T.event)==="*"||((E=(R=N.filter)===null||R===void 0?void 0:R.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===f}).map(N=>N.callback(w,o)):(d=this.bindings[f])===null||d===void 0||d.filter(N=>{var T,R,E,C,A,L;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const P=N.id,Z=(T=N.filter)===null||T===void 0?void 0:T.event;return P&&((R=n.ids)===null||R===void 0?void 0:R.includes(P))&&(Z==="*"||Z?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(A=(C=N?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((L=n?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:R,table:E,commit_timestamp:C,type:A,errors:L}=T;w=Object.assign(Object.assign({},{schema:R,table:E,commit_timestamp:C,eventType:A,new:{},old:{},errors:L}),this._getPayloadRecords(T))}N.callback(w,o)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,o){const u=a.toLocaleLowerCase(),d={type:u,filter:n,callback:o};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(a,n){const o=a.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&Hs.isEqual(u.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const o in a)if(a[o]!==n[o])return!1;return!0}static isFilterValueEqual(a,n){return(a??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(la.close,{},a)}_onError(a){this._on(la.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=Q0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=Q0(a.columns,a.old_record)),n}}const Mu=()=>{},Cl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cw=[1e3,2e3,5e3,1e4],uw=1e4,dw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hw{constructor(a,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xu,this.transport=null,this.heartbeatIntervalMs=Cl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mu,this.ref=0,this.reconnectTimer=null,this.vsn=K0,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new aw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${Ju.websocket}`,this.httpEndpoint=Jg(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,o){this.logger(a,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return Hr.Connecting;case fr.open:return Hr.Open;case fr.closing:return Hr.Closing;default:return Hr.Closed}}isConnected(){return this.connectionState()===Hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const o=`realtime:${a}`,u=this.getChannels().find(d=>d.topic===o);if(u)return u;{const d=new Hs(`realtime:${a}`,n,this);return this.channels.push(d),d}}push(a){const{topic:n,event:o,payload:u,ref:d}=a,f=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${n} ${o} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(ew,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(o=>o.topic===a&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:u,payload:d,ref:f}=n,g=f?`(${f})`:"",m=d.status||"";this.log("receive",`${m} ${o} ${u} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(u,d,f)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(la.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const o=a.match(/\?/)?"&":"?",u=new URLSearchParams(n);return`${a}${o}${u}`}_workerObjectUrl(a){let n;if(a)n=a;else{const o=new Blob([dw],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n,o=!1;if(a)n=a,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(u=>{const d={access_token:n,version:Wv};n&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(la.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(o=>{try{o(n)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(o){this.log("error",`error triggering ${a} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Qg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,o,u,d,f,g,m,p,v,b,w,N;switch(this.transport=(n=a?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=a?.timeout)!==null&&o!==void 0?o:Xu,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:Cl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Mu,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:K0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(T=>cw[T-1]||uw),this.vsn){case Kg:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((T,R)=>R(JSON.stringify(T))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((T,R)=>R(JSON.parse(T)));break;case Fv:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(N=a?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Fn=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fw(s,a,n){const o=new URL(a,s);if(n)for(const[u,d]of Object.entries(n))d!==void 0&&o.searchParams.set(u,d);return o.toString()}async function mw(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function gw(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:u,body:d,headers:f}){const g=fw(s.baseUrl,o,u),m=await mw(s.auth),p=await a(g,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...m,...f},body:d?JSON.stringify(d):void 0}),v=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),w=b&&v?JSON.parse(v):v;if(!p.ok){const N=b?w:void 0,T=N?.error;throw new Fn(T?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:T?.type,icebergCode:T?.code,details:N})}return{status:p.status,headers:p.headers,data:w}}}}function Rl(s){return s.join("")}var yw=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Rl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,a){const n={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rl(s.namespace)}`}),!0}catch(a){if(a instanceof Fn&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(n){if(n instanceof Fn&&n.status===409)return;throw n}}};function Os(s){return s.join("")}var pw=class{constructor(s,a="",n){this.client=s,this.prefix=a,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables`,body:a,headers:n})).data.metadata}async updateTable(s,a){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Os(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(n){if(n instanceof Fn&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(n){if(n instanceof Fn&&n.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw n}}},xw=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=gw({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new yw(this.client,a),this.tableOps=new pw(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Wl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function $e(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var bw=class extends Wl{constructor(s,a,n){super(s),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zu=class extends Wl{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}};const yd=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),vw=()=>Response,Wu=s=>{if(Array.isArray(s))return s.map(n=>Wu(n));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([n,o])=>{const u=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[u]=Wu(o)}),a},ww=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},jw=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ei(s){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ei(s)}function _w(s,a){if(ei(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,a);if(ei(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Nw(s){var a=_w(s,"string");return ei(a)=="symbol"?a:a+""}function Sw(s,a,n){return(a=Nw(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,s}function I0(s,a){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);a&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),n.push.apply(n,o)}return n}function oe(s){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?I0(Object(n),!0).forEach(function(o){Sw(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const Uu=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},kw=async(s,a,n)=>{s instanceof await vw()&&!n?.noResolveJson?s.json().then(o=>{const u=s.status||500,d=o?.statusCode||u+"";a(new bw(Uu(o),u,d))}).catch(o=>{a(new Zu(Uu(o),o))}):a(new Zu(Uu(s),s))},Ew=(s,a,n,o)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"||!o?u:(ww(o)?(u.headers=oe({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(o)):u.body=o,a?.duplex&&(u.duplex=a.duplex),oe(oe({},u),n))};async function oi(s,a,n,o,u,d){return new Promise((f,g)=>{s(n,Ew(a,o,u,d)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>kw(m,g,o))})}async function ti(s,a,n,o){return oi(s,"GET",a,n,o)}async function ia(s,a,n,o,u){return oi(s,"POST",a,o,u,n)}async function Fu(s,a,n,o,u){return oi(s,"PUT",a,o,u,n)}async function Tw(s,a,n,o){return oi(s,"HEAD",a,oe(oe({},n),{},{noResolveJson:!0}),o)}async function pd(s,a,n,o,u){return oi(s,"DELETE",a,o,u,n)}var Aw=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};let Ig;Ig=Symbol.toStringTag;var Ow=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Ig]="BlobDownloadBuilder",this.promise=null}asStream(){return new Aw(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};const Cw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rw=class{constructor(s,a={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.bucketId=n,this.fetch=yd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,a,n,o){var u=this;try{let d;const f=oe(oe({},Z0),o);let g=oe(oe({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",u.encodeMetadata(m)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),m&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(m))):(d=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(g=oe(oe({},g),o.headers));const p=u._removeEmptyFolders(a),v=u._getFinalPath(p),b=await(s=="PUT"?Fu:ia)(u.fetch,`${u.url}/object/${v}`,d,oe({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}}async upload(s,a,n){return this.uploadOrUpdate("POST",s,a,n)}async uploadToSignedUrl(s,a,n,o){var u=this;const d=u._removeEmptyFolders(s),f=u._getFinalPath(d),g=new URL(u.url+`/object/upload/sign/${f}`);g.searchParams.set("token",a);try{let m;const p=oe({upsert:Z0.upsert},o),v=oe(oe({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",p.cacheControl)):(m=n,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:d,fullPath:(await Fu(u.fetch,g.toString(),m,{headers:v})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,a){var n=this;try{let o=n._getFinalPath(s);const u=oe({},n.headers);a?.upsert&&(u["x-upsert"]="true");const d=await ia(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:u}),f=new URL(n.url+d.url),g=f.searchParams.get("token");if(!g)throw new Wl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:g},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async update(s,a,n){return this.uploadOrUpdate("PUT",s,a,n)}async move(s,a,n){var o=this;try{return{data:await ia(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:a,destinationBucket:n?.destinationBucket},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async copy(s,a,n){var o=this;try{return{data:{path:(await ia(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:a,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async createSignedUrl(s,a,n){var o=this;try{let u=o._getFinalPath(s),d=await ia(o.fetch,`${o.url}/object/sign/${u}`,oe({expiresIn:a},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const f=n?.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${o.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(o.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async createSignedUrls(s,a,n){var o=this;try{const u=await ia(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:a,paths:s},{headers:o.headers}),d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:u.map(f=>oe(oe({},f),{},{signedUrl:f.signedURL?encodeURI(`${o.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}download(s,a){const n=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),u=o?`?${o}`:"",d=this._getFinalPath(s),f=()=>ti(this.fetch,`${this.url}/${n}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Ow(f,this.shouldThrowOnError)}async info(s){var a=this;const n=a._getFinalPath(s);try{return{data:Wu(await ti(a.fetch,`${a.url}/object/info/${n}`,{headers:a.headers})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async exists(s){var a=this;const n=a._getFinalPath(s);try{return await Tw(a.fetch,`${a.url}/object/${n}`,{headers:a.headers}),{data:!0,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if($e(o)&&o instanceof Zu){const u=o.originalError;if([400,404].includes(u?.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,a){const n=this._getFinalPath(s),o=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&o.push(u);const d=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&o.push(f);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${g}`)}}}async remove(s){var a=this;try{return{data:await pd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async list(s,a,n){var o=this;try{const u=oe(oe(oe({},Cw),a),{},{prefix:s||""});return{data:await ia(o.fetch,`${o.url}/object/list/${o.bucketId}`,u,{headers:o.headers},n),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async listV2(s,a){var n=this;try{const o=oe({},s);return{data:await ia(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},a),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Zg="2.89.0",Wg={"X-Client-Info":`storage-js/${Zg}`};var Dw=class{constructor(s,a={},n,o){this.shouldThrowOnError=!1;const u=new URL(s);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=oe(oe({},Wg),a),this.fetch=yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var a=this;try{const n=a.listBucketOptionsToQueryString(s);return{data:await ti(a.fetch,`${a.url}/bucket${n}`,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getBucket(s){var a=this;try{return{data:await ti(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async createBucket(s,a={public:!1}){var n=this;try{return{data:await ia(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async updateBucket(s,a){var n=this;try{return{data:await Fu(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async emptyBucket(s){var a=this;try{return{data:await ia(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await pd(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Mw=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},Wg),a),this.fetch=yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await ia(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listBuckets(s){var a=this;try{const n=new URLSearchParams;s?.limit!==void 0&&n.set("limit",s.limit.toString()),s?.offset!==void 0&&n.set("offset",s.offset.toString()),s?.sortColumn&&n.set("sortColumn",s.sortColumn),s?.sortOrder&&n.set("sortOrder",s.sortOrder),s?.search&&n.set("search",s.search);const o=n.toString(),u=o?`${a.url}/bucket?${o}`:`${a.url}/bucket`;return{data:await ti(a.fetch,u,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await pd(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}from(s){var a=this;if(!jw(s))throw new Wl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new xw({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(u,g),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const xd={"X-Client-Info":`storage-js/${Zg}`,"Content-Type":"application/json"};var Fg=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var zu=class extends Fg{constructor(s,a,n){super(s),this.name="StorageVectorsApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Uw=class extends Fg{constructor(s,a){super(s),this.name="StorageVectorsUnknownError",this.originalError=a}};const bd=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),zw=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},W0=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Lw=async(s,a,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!n?.noResolveJson){const o=s.status||500,u=s;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||o+"";a(new zu(W0(d),o,f))}).catch(()=>{const d=o+"";a(new zu(u.statusText||`HTTP ${o} error`,o,d))});else{const d=o+"";a(new zu(u.statusText||`HTTP ${o} error`,o,d))}}else a(new Uw(W0(s),s))},Bw=(s,a,n,o)=>{const u={method:s,headers:a?.headers||{}};return o?(zw(o)?(u.headers=oe({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(o)):u.body=o,oe(oe({},u),n)):u};async function qw(s,a,n,o,u,d){return new Promise((f,g)=>{s(n,Bw(a,o,u,d)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>Lw(m,g,o))})}async function Ht(s,a,n,o,u){return qw(s,"POST",a,o,u,n)}var Hw=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},xd),a),this.fetch=bd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async getIndex(s,a){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(qt(o))return{data:null,error:o};throw o}}async listIndexes(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async deleteIndex(s,a){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(qt(o))return{data:null,error:o};throw o}}},$w=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},xd),a),this.fetch=bd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var a=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async getVectors(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async listVectors(s){var a=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Ht(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async queryVectors(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var a=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}},Yw=class{constructor(s,a={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},xd),a),this.fetch=bd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async getBucket(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}}},Gw=class extends Yw{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new Vw(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,n=this;return a().call(n,s)}async getBucket(s){var a=()=>super.getBucket,n=this;return a().call(n,s)}async listBuckets(s={}){var a=()=>super.listBuckets,n=this;return a().call(n,s)}async deleteBucket(s){var a=()=>super.deleteBucket,n=this;return a().call(n,s)}},Vw=class extends Hw{constructor(s,a,n,o){super(s,a,o),this.vectorBucketName=n}async createIndex(s){var a=()=>super.createIndex,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,n=this;return a().call(n,n.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,n=this;return a().call(n,n.vectorBucketName,s)}index(s){return new Pw(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Pw=class extends $w{constructor(s,a,n,o,u){super(s,a,u),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var a=()=>super.putVectors,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var a=()=>super.getVectors,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,n=this;return a().call(n,oe(oe({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Kw=class extends Dw{constructor(s,a={},n,o){super(s,a,n,o)}from(s){return new Rw(this.url,this.headers,s,this.fetch)}get vectors(){return new Gw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mw(this.url+"/iceberg",this.headers,this.fetch)}};const ey="2.89.0",Bs=30*1e3,ed=3,Lu=ed*Bs,Qw="http://localhost:9999",Xw="supabase.auth.token",Jw={"X-Client-Info":`gotrue-js/${ey}`},td="X-Supabase-Api-Version",ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zw=600*1e3;class ai extends Error{constructor(a,n,o){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function re(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Ww extends ai{constructor(a,n,o){super(a,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Fw(s){return re(s)&&s.name==="AuthApiError"}class $r extends ai{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}}class qa extends ai{constructor(a,n,o,u){super(a,o,u),this.name=n,this.status=o}}class Bt extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e1(s){return re(s)&&s.name==="AuthSessionMissingError"}class Cs extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dl extends qa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends qa{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t1(s){return re(s)&&s.name==="AuthImplicitGrantRedirectError"}class F0 extends qa{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a1 extends qa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ad extends qa{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}}function Bu(s){return re(s)&&s.name==="AuthRetryableFetchError"}class eg extends qa{constructor(a,n,o){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class rd extends qa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tg=` 	
\r=`.split(""),r1=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<tg.length;a+=1)s[tg[a].charCodeAt(0)]=-2;for(let a=0;a<Hl.length;a+=1)s[Hl[a].charCodeAt(0)]=a;return s})();function ag(s,a,n){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;n(Hl[o]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;n(Hl[o]),a.queuedBits-=6}}function ay(s,a,n){const o=r1[s];if(o>-1)for(a.queue=a.queue<<6|o,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function rg(s){const a=[],n=f=>{a.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{i1(f,o,n)};for(let f=0;f<s.length;f+=1)ay(s.charCodeAt(f),u,d);return a.join("")}function s1(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function n1(s,a){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|u)+65536,n+=1}s1(o,a)}}function i1(s,a,n){if(a.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){a.utf8seq=o;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function $s(s){const a=[],n={queue:0,queuedBits:0},o=u=>{a.push(u)};for(let u=0;u<s.length;u+=1)ay(s.charCodeAt(u),n,o);return new Uint8Array(a)}function l1(s){const a=[];return n1(s,n=>a.push(n)),new Uint8Array(a)}function Yr(s){const a=[],n={queue:0,queuedBits:0},o=u=>{a.push(u)};return s.forEach(u=>ag(u,n,o)),ag(null,n,o),a.join("")}function o1(s){return Math.round(Date.now()/1e3)+s}function c1(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},ry=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function u1(s){const a={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((u,d)=>{a[d]=u})}catch{}return n.searchParams.forEach((o,u)=>{a[u]=o}),a}const sy=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),d1=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",qs=async(s,a,n)=>{await s.setItem(a,JSON.stringify(n))},Lr=async(s,a)=>{const n=await s.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ht=async(s,a)=>{await s.removeItem(a)};class Fl{constructor(){this.promise=new Fl.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}Fl.promiseConstructor=Promise;function qu(s){const a=s.split(".");if(a.length!==3)throw new rd("Invalid JWT structure");for(let o=0;o<a.length;o++)if(!Iw.test(a[o]))throw new rd("JWT not in base64url format");return{header:JSON.parse(rg(a[0])),payload:JSON.parse(rg(a[1])),signature:$s(a[2]),raw:{header:a[0],payload:a[1]}}}async function h1(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function f1(s,a){return new Promise((o,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await s(d);if(!a(d,null,f)){o(f);return}}catch(f){if(!a(d,f)){u(f);return}}})()})}function m1(s){return("0"+s.toString(16)).substr(-2)}function g1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let u="";for(let d=0;d<56;d++)u+=n.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(a),Array.from(a,m1).join("")}async function y1(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),u=new Uint8Array(o);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function p1(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await y1(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(s,a,n=!1){const o=g1();let u=o;n&&(u+="/PASSWORD_RECOVERY"),await qs(s,`${a}-code-verifier`,u);const d=await p1(o);return[d,o===d?"plain":"s256"]}const x1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b1(s){const a=s.headers.get(td);if(!a||!a.match(x1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function v1(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function w1(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(s){if(!j1.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hu(){const s={};return new Proxy(s,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _1(s,a){return new Proxy(s,{get:(n,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,u)}return!a.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(n,o,u)}})}function sg(s){return JSON.parse(JSON.stringify(s))}const Br=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),N1=[502,503,504];async function ng(s){var a;if(!d1(s))throw new ad(Br(s),0);if(N1.includes(s.status))throw new ad(Br(s),s.status);let n;try{n=await s.json()}catch(d){throw new $r(Br(d),d)}let o;const u=b1(s);if(u&&u.getTime()>=ty["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new eg(Br(n),s.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(o==="session_not_found")throw new Bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new eg(Br(n),s.status,n.weak_password.reasons);throw new Ww(Br(n),s.status||500,o)}const S1=(s,a,n,o)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),n))};async function le(s,a,n,o){var u;const d=Object.assign({},o?.headers);d[td]||(d[td]=ty["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(u=o?.query)!==null&&u!==void 0?u:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await k1(s,a,n+g,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function k1(s,a,n,o,u,d){const f=S1(a,o,u,d);let g;try{g=await s(n,Object.assign({},f))}catch(m){throw console.error(m),new ad(Br(m),0)}if(g.ok||await ng(g),o?.noResolveJson)return g;try{return await g.json()}catch(m){await ng(m)}}function na(s){var a;let n=null;A1(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=o1(s.expires_in)));const o=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:n,user:o},error:null}}function ig(s){const a=na(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(a.data.weak_password=s.weak_password),a}function mr(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function E1(s){return{data:s,error:null}}function T1(s){const{action_link:a,email_otp:n,hashed_token:o,redirect_to:u,verification_type:d}=s,f=Zl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:n,hashed_token:o,redirect_to:u,verification_type:d},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function lg(s){return s}function A1(s){return s.access_token&&s.refresh_token&&s.expires_in}const $u=["global","local","others"];class O1{constructor({url:a="",headers:n={},fetch:o}){this.url=a,this.headers=n,this.fetch=sy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,n=$u[0]){if($u.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$u.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}}async inviteUserByEmail(a,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async generateLink(a){try{const{options:n}=a,o=Zl(a,["options"]),u=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(u.new_email=o?.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:T1,redirectTo:n?.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:mr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,o,u,d,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:lg});if(v.error)throw v.error;const b=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);p[`${E}Page`]=R}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){Ds(a);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:mr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){Ds(a);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:mr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async deleteUser(a,n=!1){Ds(a);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:mr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async _listFactors(a){Ds(a.userId);try{const{data:n,error:o}=await le(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:n,error:o}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(a){Ds(a.userId),Ds(a.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _listOAuthClients(a){var n,o,u,d,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=a?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:lg});if(v.error)throw v.error;const b=await v.json(),w=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);p[`${E}Page`]=R}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _getOAuthClient(a){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _updateOAuthClient(a,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(re(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(a){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(a){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}}function og(s={}){return{getItem:a=>s[a]||null,setItem:(a,n)=>{s[a]=n},removeItem:a=>{delete s[a]}}}const Ms={debug:!!(globalThis&&ry()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ny extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class C1 extends ny{}async function R1(s,a,n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const o=new globalThis.AbortController;return a>0&&setTimeout(()=>{o.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await n()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(a===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new C1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ms.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function D1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iy(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function M1(s){return parseInt(s,16)}function U1(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,o=>o.toString(16).padStart(2,"0")).join("")}function z1(s){var a;const{chainId:n,domain:o,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:m,resources:p,scheme:v,uri:b,version:w}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=iy(s.address),T=v?`${v}://${o}`:o,R=s.statement?`${s.statement}
`:"",E=`${T} wants you to sign in with your Ethereum account:
${N}

${R}`;let C=`URI: ${b}
Version: ${w}
Chain ID: ${n}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(C+=`
Expiration Time: ${u.toISOString()}`),g&&(C+=`
Not Before: ${g.toISOString()}`),m&&(C+=`
Request ID: ${m}`),p){let A=`
Resources:`;for(const L of p){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);A+=`
- ${L}`}C+=A}return`${E}
${C}`}class et extends Error{constructor({message:a,code:n,cause:o,name:u}){var d;super(a,{cause:o}),this.__isWebAuthnError=!0,this.name=(d=u??(o instanceof Error?o.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class $l extends et{constructor(a,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:a}),this.name="WebAuthnUnknownError",this.originalError=n}}function L1({error:s,options:a}){var n,o,u;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new et({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(ly(f)){if(d.rp.id!==f)return new et({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function B1({error:s,options:a}){const{publicKey:n}=a;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new et({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(ly(o)){if(n.rpId!==o)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class q1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const H1=new q1;function $1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:n,excludeCredentials:o}=s,u=Zl(s,["challenge","user","excludeCredentials"]),d=$s(a).buffer,f=Object.assign(Object.assign({},n),{id:$s(n.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:d,user:f});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const p=o[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:$s(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function Y1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:n}=s,o=Zl(s,["challenge","allowCredentials"]),u=$s(a).buffer,d=Object.assign(Object.assign({},o),{challenge:u});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const g=n[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:$s(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function G1(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Yr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Yr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function V1(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Yr(new Uint8Array(u.authenticatorData)),clientDataJSON:Yr(new Uint8Array(u.clientDataJSON)),signature:Yr(new Uint8Array(u.signature)),userHandle:u.userHandle?Yr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(a=n.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function ly(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function cg(){var s,a;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function P1(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new $l("Browser returned unexpected credential type",a)}:{data:null,error:new $l("Empty credential response",a)}}catch(a){return{data:null,error:L1({error:a,options:s})}}}async function K1(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new $l("Browser returned unexpected credential type",a)}:{data:null,error:new $l("Empty credential response",a)}}catch(a){return{data:null,error:B1({error:a,options:s})}}}const Q1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},X1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yl(...s){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),n=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of s)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))o[d]=f;else if(n(f))o[d]=f;else if(a(f)){const g=o[d];a(g)?o[d]=Yl(g,f):o[d]=Yl(f)}else o[d]=f}return o}function J1(s,a){return Yl(Q1,s,a||{})}function I1(s,a){return Yl(X1,s,a||{})}class Z1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:n,friendlyName:o,signal:u},d){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:n});if(!f)return{data:null,error:g};const m=u??H1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${o}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=J1(f.webauthn.credential_options.publicKey,d?.create),{data:v,error:b}=await P1({publicKey:p,signal:m});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const p=I1(f.webauthn.credential_options.publicKey,d?.request),{data:v,error:b}=await K1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:m}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new $r("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:a,webauthn:o})}async _authenticate({factorId:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new ai("rpId is required for WebAuthn authentication")};try{if(!cg())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:n,rpOrigins:o},signal:u},{request:d});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new $r("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new ai("rpId is required for WebAuthn registration")};try{if(!cg())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:u},{create:d});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new $r("Unexpected error in register",f)}}}}D1();const W1={url:Qw,storageKey:Xw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ug(s,a,n){return await n()}const Us={};class ri{get jwks(){var a,n;return(n=(a=Us[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=Us[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:a})}constructor(a){var n,o,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},W1),a);if(this.storageKey=d.storageKey,this.instanceID=(n=ri.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ri.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new O1({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=sy(d.fetch),this.lock=d.lock||ug,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&ft()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=R1:this.lock=ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:ry()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=og(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=og(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ey}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let n={},o="none";if(ft()&&(n=u1(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),ft()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:d}=await this._getSessionFromURL(n,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),t1(d)){const m=(a=d.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return re(n)?this._returnResult({error:n}):this._returnResult({error:new $r("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,o,u;try{const d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=a?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:na}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var n,o,u;try{let d;if("email"in a){const{email:v,password:b,options:w}=a;let N=null,T=null;this.flowType==="pkce"&&([N,T]=await Rs(this.storage,this.storageKey)),d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:b,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:N,code_challenge_method:T},xform:na})}else if("phone"in a){const{phone:v,password:b,options:w}=a;d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:na})}else throw new Dl("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let n;if("email"in a){const{email:d,password:f,options:g}=a;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ig})}else if("phone"in a){const{phone:d,password:f,options:g}=a;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ig})}else throw new Dl("You must provide either an email or phone number and a password");const{data:o,error:u}=n;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new Cs;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(a){var n,o,u,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=a.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;switch(n){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(a){var n,o,u,d,f,g,m,p,v,b,w;let N,T;if("message"in a)N=a.message,T=a.signature;else{const{chain:R,wallet:E,statement:C,options:A}=a;let L;if(ft())if(typeof E=="object")L=E;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")L=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=E}const P=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),Z=await L.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=iy(Z[0]);let K=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!K){const ge=await L.request({method:"eth_chainId"});K=M1(ge)}const de={domain:P.host,address:W,statement:C,uri:P.href,version:"1",chainId:K,nonce:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=A?.signInWithEthereum)===null||v===void 0?void 0:v.resources};N=z1(de),T=await L.request({method:"personal_sign",params:[U1(N),W]})}try{const{data:R,error:E}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:T},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:na});if(E)throw E;if(!R||!R.session||!R.user){const C=new Cs;return this._returnResult({data:{user:null,session:null},error:C})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:E})}catch(R){if(re(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(a){var n,o,u,d,f,g,m,p,v,b,w,N;let T,R;if("message"in a)T=a.message,R=a.signature;else{const{chain:E,wallet:C,statement:A,options:L}=a;let P;if(ft())if(typeof C=="object")P=C;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))P=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const Z=new URL((n=L?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const W=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),A?{statement:A}:null));let K;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")K=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)K=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)T=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),R=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${Z.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(u=(o=L?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=L?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(v=L?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const W=await P.signMessage(new TextEncoder().encode(T),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=W}}try{const{data:E,error:C}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Yr(R)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(N=a.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:na});if(C)throw C;if(!E||!E.session||!E.user){const A=new Cs;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(re(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(a){const n=await Lr(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new a1;const{data:d,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:o},xform:na});if(await ht(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new Cs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:n,provider:o,token:u,access_token:d,nonce:f}=a,g=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:na}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new Cs;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(a){var n,o,u,d,f;try{if("email"in a){const{email:g,options:m}=a;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Rs(this.storage,this.storageKey));const{error:b}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:g,options:m}=a,{data:p,error:v}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Dl("You must provide either an email or phone number.")}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var n,o;try{let u,d;"options"in a&&(u=(n=a.options)===null||n===void 0?void 0:n.redirectTo,d=(o=a.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:g}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:na});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var n,o,u,d,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Rs(this.storage,this.storageKey));const p=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(o=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:E1});return!((d=p.data)===null||d===void 0)&&d.url&&ft()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:o}=a;if(o)throw o;if(!n)throw new Bt;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:o,type:u,options:d}=a,{error:f}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:o,type:u,options:d}=a,{data:f,error:g}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new Dl("You must provide either an email or phone number and a type")}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const o=a.expires_at?a.expires_at*1e3-Date.now()<Lu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",a.expires_at),!o){if(this.userStorage){const f=await Lr(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Hu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=_1(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(a){try{return a?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:mr}):await this._useSession(async n=>{var o,u,d;const{data:f,error:g}=n;if(g)throw g;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:mr})})}catch(n){if(re(n))return e1(n)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async o=>{const{data:u,error:d}=o;if(d)throw d;if(!u.session)throw new Bt;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await Rs(this.storage,this.storageKey));const{data:p,error:v}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:mr});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Bt;const n=Date.now()/1e3;let o=n,u=!0,d=null;const{payload:f}=qu(a.access_token);if(f.exp&&(o=f.exp,u=o<=n),u){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)throw m;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var o;if(!a){const{data:f,error:g}=n;if(g)throw g;a=(o=f.session)!==null&&o!==void 0?o:void 0}if(!a?.refresh_token)throw new Bt;const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(a,n){try{if(!ft())throw new Ml("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ml(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new F0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new F0("No code detected.");const{data:A,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:g,expires_at:m,token_type:p}=a;if(!d||!g||!f||!p)throw new Ml("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(g);let w=v+b;m&&(w=parseInt(m));const N=w-v;N*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${b}s`);const T=w-b;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,v);const{data:R,error:E}=await this._getUser(d);if(E)throw E;const C={provider_token:o,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:w,refresh_token:f,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:a.type},error:null})}catch(o){if(re(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({error:d});const f=(o=u.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:g}=await this.admin.signOut(f,a);if(g&&!(Fw(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const n=c1(),o={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(a){return await this._useSession(async n=>{var o,u;try{const{data:{session:d},error:f}=n;if(f)throw f;await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,n={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await Rs(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var n;try{const{data:o,error:u}=await this._useSession(async d=>{var f,g,m,p,v;const{data:b,error:w}=d;if(w)throw w;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",N,{headers:this.headers,jwt:(v=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return ft()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:a.provider,url:o?.url},error:null})}catch(o){if(re(o))return this._returnResult({data:{provider:a.provider,url:null},error:o});throw o}}async linkIdentityIdToken(a){return await this._useSession(async n=>{var o;try{const{error:u,data:{session:d}}=n;if(u)throw u;const{options:f,provider:g,token:m,access_token:p,nonce:v}=a,b=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=d?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:na}),{data:w,error:N}=b;return N?this._returnResult({data:{user:null,session:null},error:N}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Cs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:N}))}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async n=>{var o,u;const{data:d,error:f}=n;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await f1(async u=>(u>0&&await h1(200*Math.pow(2,u-1)),this._debug(n,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:na})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Bu(d)&&Date.now()+f-o<Bs})}catch(o){if(this._debug(n,"error",o),re(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",o),ft()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:a,url:o},error:null}}async _recoverAndRefresh(){var a,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await Lr(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await qs(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:Hu()}else if(u&&!u.user&&!u.user){const f=await Lr(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ht(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,u)):u.user=Hu()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const d=((n=u.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Lu;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Lu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Bu(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(a){var n,o;if(!a)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Fl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Bt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),re(d)){const f={data:null,error:d};return Bu(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,n,o=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:a,session:n});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,n)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},a),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await qs(this.userStorage,this.storageKey+"-user",{user:n.user});const u=Object.assign({},n);delete u.user;const d=sg(u);await qs(this.storage,this.storageKey,d)}else{const u=sg(n);await qs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-a)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Bs}ms, refresh threshold is ${ed} ticks`),u<=ed&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ny)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,o){const u=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await Rs(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);u.push(d.toString())}return o?.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;return d?this._returnResult({data:null,error:d}):await le(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(a){try{return await this._useSession(async n=>{var o,u;const{data:d,error:f}=n;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?G1(a.webauthn.credential_response):V1(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=await le(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:$1(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Y1(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(a){const{data:n,error:o}=await this._challenge({factorId:a.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){var a;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=n?.factors)!==null&&a!==void 0?a:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,n;const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=qu(o.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((n=(a=o.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(a,n){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Bt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ft()&&!n?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(a,n){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Bt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&ft()&&!n?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:n},error:o}=a;return o?this._returnResult({data:null,error:o}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async n=>{const{data:{session:o},error:u}=n;return u?this._returnResult({data:null,error:u}):o?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(a,n={keys:[]}){let o=n.keys.find(g=>g.kid===a);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(g=>g.kid===a),o&&this.jwks_cached_at+Zw>u)return o;const{data:d,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,o=d.keys.find(g=>g.kid===a),!o)?null:o}async getClaims(a,n={}){try{let o=a;if(!o){const{data:N,error:T}=await this.getSession();if(T||!N.session)return this._returnResult({data:null,error:T});o=N.session.access_token}const{header:u,payload:d,signature:f,raw:{header:g,payload:m}}=qu(o);n?.allowExpired||v1(d.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:N}=await this.getUser(o);if(N)throw N;return{data:{claims:d,header:u,signature:f},error:null}}const v=w1(u.alg),b=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,l1(`${g}.${m}`)))throw new rd("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}}ri.nextInstanceID={};const F1=ri,ej="2.89.0";let Jn="";typeof Deno<"u"?Jn="deno":typeof document<"u"?Jn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jn="react-native":Jn="node";const tj={"X-Client-Info":`supabase-js-${Jn}/${ej}`},aj={headers:tj},rj={schema:"public"},sj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nj={};function si(s){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},si(s)}function ij(s,a){if(si(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,a);if(si(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function lj(s){var a=ij(s,"string");return si(a)=="symbol"?a:a+""}function oj(s,a,n){return(a=lj(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n,s}function dg(s,a){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);a&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),n.push.apply(n,o)}return n}function Ve(s){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?dg(Object(n),!0).forEach(function(o){oj(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const cj=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),uj=()=>Headers,dj=(s,a,n)=>{const o=cj(n),u=uj();return async(d,f)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:s;let p=new u(f?.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),o(d,Ve(Ve({},f),{},{headers:p}))}};function hj(s){return s.endsWith("/")?s:s+"/"}function fj(s,a){var n,o;const{db:u,auth:d,realtime:f,global:g}=s,{db:m,auth:p,realtime:v,global:b}=a,w={db:Ve(Ve({},m),u),auth:Ve(Ve({},p),d),realtime:Ve(Ve({},v),f),storage:{},global:Ve(Ve(Ve({},b),g),{},{headers:Ve(Ve({},(n=b?.headers)!==null&&n!==void 0?n:{}),(o=g?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function mj(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hj(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gj=class extends F1{constructor(s){super(s)}},yj=class{constructor(s,a,n){var o,u;this.supabaseUrl=s,this.supabaseKey=a;const d=mj(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:rj,realtime:nj,auth:Ve(Ve({},sj),{},{storageKey:f}),global:aj},m=fj(n??{},g);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=dj(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Jv(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Kw(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Vv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,n)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:n,storage:o,userStorage:u,storageKey:d,flowType:f,lock:g,debug:m,throwOnError:p},v,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gj({url:this.authUrl.href,headers:Ve(Ve({},w),v),storageKey:d,autoRefreshToken:s,persistSession:a,detectSessionInUrl:n,storage:o,userStorage:u,flowType:f,lock:g,debug:m,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new hw(this.realtimeUrl.href,Ve(Ve({},s),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pj=(s,a,n)=>new yj(s,a,n);function xj(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const a=s.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}xj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bj="https://hcjswyddycapoxwmhcjh.supabase.co",vj="sb_publishable_rbRXiAQSu8If0SX6kij4Ug_Y_Yc9Cb_",ce=pj(bj,vj),oy=S.createContext({}),eo=()=>{const s=S.useContext(oy);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},wj=({children:s})=>{const[a,n]=S.useState(null),[o,u]=S.useState(null),[d,f]=S.useState(!0);S.useEffect(()=>{ce.auth.getSession().then(({data:{session:w}})=>{n(w?.user??null),w?.user?g(w.user.id):f(!1)});const{data:{subscription:b}}=ce.auth.onAuthStateChange((w,N)=>{n(N?.user??null),N?.user?g(N.user.id):(u(null),f(!1))});return()=>b.unsubscribe()},[]);const g=async b=>{try{const{data:w,error:N}=await ce.from("staff").select("role").eq("user_id",b).single();N&&N.code!=="PGRST116"?(console.error("Error fetching user role:",N),u(null)):u(w?.role||null)}catch(w){console.error("Error fetching user role:",w),u(null)}finally{f(!1)}},v={user:a,userRole:o,loading:d,signIn:async(b,w)=>{const{data:N,error:T}=await ce.auth.signInWithPassword({email:b,password:w});if(T)throw T;return N.user&&await g(N.user.id),{data:N,error:T}},signOut:async()=>{const{error:b}=await ce.auth.signOut();if(b)throw b;n(null),u(null)}};return i.jsx(oy.Provider,{value:v,children:s})},cy=S.createContext();function jj({children:s}){const[a,n]=S.useState(()=>{const d=localStorage.getItem("theme");return d||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});S.useEffect(()=>{const d=document.documentElement;a==="dark"?d.classList.add("dark"):d.classList.remove("dark"),localStorage.setItem("theme",a)},[a]),S.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),f=g=>{localStorage.getItem("theme")||n(g.matches?"dark":"light")};return d.addEventListener("change",f),()=>d.removeEventListener("change",f)},[]);const u={theme:a,setTheme:n,toggleTheme:()=>{n(d=>d==="light"?"dark":"light")},isDark:a==="dark"};return i.jsx(cy.Provider,{value:u,children:s})}function Js(){const s=S.useContext(cy);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s}const hg=({children:s,allowedRoles:a=[]})=>{const{user:n,userRole:o,loading:u}=eo();return u?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?a.length>0&&!a.includes(o)?i.jsx(Pu,{to:"/unauthorized",replace:!0}):s:i.jsx(Pu,{to:"/login",replace:!0})};const _j=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nj=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,n,o)=>o?o.toUpperCase():n.toLowerCase()),fg=s=>{const a=Nj(s);return a.charAt(0).toUpperCase()+a.slice(1)},uy=(...s)=>s.filter((a,n,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===n).join(" ").trim(),Sj=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ej=S.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:f,...g},m)=>S.createElement("svg",{ref:m,...kj,width:a,height:a,stroke:s,strokeWidth:o?Number(n)*24/Number(a):n,className:uy("lucide",u),...!d&&!Sj(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,v])=>S.createElement(p,v)),...Array.isArray(d)?d:[d]]));const ae=(s,a)=>{const n=S.forwardRef(({className:o,...u},d)=>S.createElement(Ej,{ref:d,iconNode:a,className:uy(`lucide-${_j(fg(s))}`,`lucide-${s}`,o),...u}));return n.displayName=fg(s),n};const Tj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gr=ae("activity",Tj);const Aj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vd=ae("arrow-right",Aj);const Oj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gl=ae("award",Oj);const Cj=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rj=ae("ban",Cj);const Dj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sd=ae("bell",Dj);const Mj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Uj=ae("book-open",Mj);const zj=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Lj=ae("brain",zj);const Bj=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],qj=ae("building",Bj);const Hj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],wd=ae("calendar-days",Hj);const $j=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Je=ae("calendar",$j);const Yj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gj=ae("chart-column",Yj);const Vj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yu=ae("chevron-left",Vj);const Pj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ba=ae("chevron-right",Pj);const Kj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ma=ae("circle-alert",Kj);const Qj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nt=ae("circle-check-big",Qj);const Xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Vl=ae("circle-user",Xj);const Jj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oa=ae("circle-x",Jj);const Ij=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$t=ae("clock",Ij);const Zj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wj=ae("download",Zj);const Fj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],dy=ae("ellipsis-vertical",Fj);const e_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hy=ae("eye-off",e_);const t_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],to=ae("eye",t_);const a_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jd=ae("file-text",a_);const r_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ci=ae("funnel",r_);const s_=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],n_=ae("heart-handshake",s_);const i_=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],l_=ae("heart",i_);const o_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nd=ae("house",o_);const c_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mg=ae("image",c_);const u_=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fy=ae("key",u_);const d_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h_=ae("layout-dashboard",d_);const f_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gg=ae("loader-circle",f_);const m_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],g_=ae("lock",m_);const y_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pl=ae("log-out",y_);const p_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gr=ae("mail",p_);const x_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],b_=ae("map-pin",x_);const v_=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],my=ae("menu",v_);const w_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gy=ae("moon",w_);const j_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ys=ae("phone",j_);const __=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yg=ae("plus",__);const N_=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],S_=ae("printer",N_);const k_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ga=ae("refresh-cw",k_);const E_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ao=ae("search",E_);const T_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A_=ae("settings",T_);const O_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C_=ae("shield-check",O_);const R_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ea=ae("shield",R_);const D_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ll=ae("sparkles",D_);const M_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bl=ae("square-pen",M_);const U_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],id=ae("star",U_);const z_=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Yt=ae("stethoscope",z_);const L_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],B_=ae("sun",L_);const q_=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],H_=ae("toggle-right",q_);const $_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_d=ae("trash-2",$_);const Y_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pg=ae("trending-up",Y_);const G_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],V_=ae("upload",G_);const P_=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K_=ae("user-cog",P_);const Q_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kl=ae("user-plus",Q_);const X_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ql=ae("user",X_);const J_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ua=ae("users",J_);const I_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ro=ae("x",I_);function ni({className:s=""}){const{theme:a,toggleTheme:n}=Js();return i.jsx("button",{onClick:n,className:`relative p-2 rounded-xl transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] ${a==="dark"?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-orange-500"} ${s}`,"aria-label":"Toggle theme",title:a==="dark"?"Switch to light mode":"Switch to dark mode",children:i.jsxs("div",{className:"relative w-5 h-5",children:[i.jsx(B_,{className:`absolute inset-0 w-full h-full transition-all duration-500 transform ${a==="dark"?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100"}`}),i.jsx(gy,{className:`absolute inset-0 w-full h-full transition-all duration-500 transform ${a==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-0"}`})]})})}const Vr="/healthcare/assets/logo-white-DE_qQjM_.png",Pr="/healthcare/assets/logo-dark-B4evqBRo.png";function Z_(){const{isDark:s}=Js(),[a,n]=S.useState(""),[o,u]=S.useState(""),[d,f]=S.useState(!1),[g,m]=S.useState(""),[p,v]=S.useState(!1),{signIn:b,userRole:w,user:N}=eo(),T=Xs();S.useEffect(()=>{N&&w&&(w==="admin"?T("/admin"):w==="staff"?T("/staff"):m("Invalid role. Please contact administrator."))},[N,w,T]);const R=async E=>{E.preventDefault(),m(""),v(!0);try{const{error:C}=await b(a,o);if(C)throw C}catch(C){m(C.message||"Failed to sign in"),v(!1)}};return i.jsxs("div",{className:"min-h-screen flex overflow-hidden bg-white",children:[i.jsx("div",{className:"hidden lg:block w-1/2 bg-gradient-to-br from-[#1a5858] to-[#0d3d3d] p-8",children:i.jsxs("div",{className:"h-full flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(bt,{to:"/",className:"w-40 h-40 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"})})}),i.jsx(ni,{})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Welcome Back to Healthcare Pro"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Sign in to access the staff and admin portal for managing appointments, doctors, and patient sessions efficiently."})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ua,{className:"w-4 h-4 text-white"}),i.jsx("span",{className:"text-xs font-medium text-white",children:"Team Management"})]}),i.jsx("p",{className:"text-xs text-white/60",children:"Manage doctors and staff roles"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Je,{className:"w-4 h-4 text-white"}),i.jsx("span",{className:"text-xs font-medium text-white",children:"Appointments"})]}),i.jsx("p",{className:"text-xs text-white/60",children:"Schedule and track sessions"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Yt,{className:"w-4 h-4 text-white"}),i.jsx("span",{className:"text-xs font-medium text-white",children:"Doctor Profiles"})]}),i.jsx("p",{className:"text-xs text-white/60",children:"Manage medical team info"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($t,{className:"w-4 h-4 text-white"}),i.jsx("span",{className:"text-xs font-medium text-white",children:"Time Slots"})]}),i.jsx("p",{className:"text-xs text-white/60",children:"Manage availability schedule"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs",children:[i.jsx(ea,{className:"w-4 h-4"}),i.jsx("span",{children:"Enterprise-grade security & encrypted data"})]})]})]})}),i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 lg:p-8",children:i.jsxs("div",{className:"w-full max-w-sm lg:max-w-md",children:[i.jsxs("div",{className:"lg:hidden flex flex-col items-center mb-6 relative",children:[i.jsx("div",{className:"absolute top-0 right-0",children:i.jsx(ni,{})}),i.jsx(bt,{to:"/",className:"w-40 h-40 flex items-center justify-center hover:opacity-90 transition-opacity mb-3",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"})})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:i.jsx(fy,{className:"w-5 h-5 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg lg:text-xl font-bold text-gray-900",children:"Sign In"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enter your credentials to continue"})]})]})}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("form",{onSubmit:R,className:"space-y-5",children:[g&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-3",children:[i.jsx(ma,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-xs text-red-700",children:[i.jsx("p",{className:"font-medium",children:"Sign in failed"}),i.jsx("p",{className:"mt-0.5",children:g})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all text-sm",placeholder:"Enter your email",value:a,onChange:E=>n(E.target.value)}),i.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all text-sm",placeholder:"Enter your password",value:o,onChange:E=>u(E.target.value)}),i.jsx(g_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?i.jsx(hy,{className:"w-4 h-4"}):i.jsx(to,{className:"w-4 h-4"})})]})]}),i.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:p?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-[#1a5858]/30 border-t-[#1a5858] rounded-full animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Sign In"}),i.jsx(vd,{className:"w-4 h-4"})]})})]}),i.jsx("div",{className:"hidden lg:block bg-gray-50 rounded-lg p-3 border border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ea,{className:"w-4 h-4 text-gray-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-900",children:"Role-Based Access"}),i.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Different dashboards for Admin and Staff roles"})]})]})}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs(bt,{to:"/",className:"flex items-center justify-center gap-2 text-gray-600 hover:text-gray-900 transition-colors text-sm",children:[i.jsx(nd,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Public Website"})]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact your system administrator"})})]})})]})}function W_(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Unauthorized Access"}),i.jsx("p",{className:"text-gray-500 mb-8",children:"You don't have permission to access this page."}),i.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Home"})]})})}function F_(){const[s,a]=S.useState([]),[n,o]=S.useState(!0),[u,d]=S.useState(!1),[f,g]=S.useState(null),[m,p]=S.useState(""),[v,b]=S.useState("all"),[w,N]=S.useState(!1),[T,R]=S.useState({email:"",password:"",role:"staff",is_active:!0});S.useEffect(()=>{E()},[]);const E=async()=>{try{o(!0);const{data:Q,error:we}=await ce.from("staff").select("*").order("created_at",{ascending:!1});if(we)throw we;a(Q||[])}catch(Q){console.error("Error fetching staff:",Q)}finally{o(!1)}},C=async()=>{try{const{data:Q,error:we}=await ce.auth.signUp({email:T.email,password:T.password});if(we)throw we;if(Q.user){const{error:Te}=await ce.from("staff").insert({user_id:Q.user.id,email:T.email,role:T.role,is_active:T.is_active});if(Te)throw Te;d(!1),W(),E()}}catch(Q){alert("Error: "+Q.message)}},A=async()=>{try{const{error:Q}=await ce.from("staff").update({role:T.role,is_active:T.is_active}).eq("id",f.id);if(Q)throw Q;d(!1),W(),E()}catch(Q){alert("Error: "+Q.message)}},L=async Q=>{try{await ce.from("staff").update({is_active:!Q.is_active}).eq("id",Q.id),E()}catch(we){console.error(we),alert("Failed to update status")}},P=async Q=>{if(window.confirm(`Are you sure you want to delete ${Q.email}? This action cannot be undone.`))try{const{error:we}=await ce.from("staff").delete().eq("id",Q.id);if(we)throw we;E()}catch(we){console.error(we),alert("Failed to delete staff member")}},Z=Q=>{g(Q),R({email:Q.email||"",password:"",role:Q.role,is_active:Q.is_active}),d(!0)},W=()=>{R({email:"",password:"",role:"staff",is_active:!0}),g(null),N(!1)},K=s.filter(Q=>{const we=Q.email.toLowerCase().includes(m.toLowerCase())||Q.role.toLowerCase().includes(m.toLowerCase()),Te=v==="all"||Q.role===v;return we&&Te}),de=s.filter(Q=>Q.is_active).length,ge=s.filter(Q=>Q.role==="admin").length;return n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] animate-spin"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading staff members..."})]}):i.jsxs("div",{className:"animate-fadeIn",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] rounded-xl",children:i.jsx(Ua,{className:"w-6 h-6 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions for your healthcare platform"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Staff"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.length})]}),i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsx(Ua,{className:"w-6 h-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Accounts"}),i.jsx("p",{className:"text-3xl font-bold text-emerald-600 mt-1",children:de})]}),i.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg",children:i.jsx(nt,{className:"w-6 h-6 text-emerald-600"})})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Administrators"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:ge})]}),i.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:i.jsx(ea,{className:"w-6 h-6 text-purple-600"})})]})})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by email or role...",value:m,onChange:Q=>p(Q.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg p-1",children:[i.jsx(ci,{className:"w-4 h-4 text-gray-500"}),["all","staff","admin"].map(Q=>i.jsx("button",{onClick:()=>b(Q),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${v===Q?"bg-white text-[#1a5858] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:Q.charAt(0).toUpperCase()+Q.slice(1)},Q))]}),i.jsx("button",{onClick:E,className:"p-2.5 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh",children:i.jsx(ga,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>{W(),d(!0)},className:"flex items-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx(Kl,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Staff"})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:i.jsxs("h3",{className:"font-semibold text-gray-900",children:["Staff Members (",K.length,")"]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:K.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ua,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No staff members found"}),i.jsx("p",{className:"text-gray-400 text-sm",children:m?"Try a different search term":"Add your first staff member to get started"})]}):K.map(Q=>i.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors group",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-semibold text-[#1a5858]",children:Q.email?.[0].toUpperCase()})}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${Q.is_active?"bg-green-500":"bg-gray-400"}`})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:Q.email}),i.jsx("div",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${Q.role==="admin"?"bg-purple-50 text-purple-700 border border-purple-100":"bg-blue-50 text-blue-700 border border-blue-100"}`,children:Q.role==="admin"?"Administrator":"Staff"})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsxs("span",{children:["Joined ",new Date(Q.created_at).toLocaleDateString()]})]}),i.jsxs("span",{className:`flex items-center space-x-1 ${Q.is_active?"text-emerald-600":"text-gray-400"}`,children:[Q.is_active?i.jsx(nt,{className:"w-4 h-4"}):i.jsx(oa,{className:"w-4 h-4"}),i.jsx("span",{children:Q.is_active?"Active":"Inactive"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>L(Q),className:`p-2 rounded-lg transition-colors ${Q.is_active?"bg-amber-50 text-amber-600 hover:bg-amber-100":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100"}`,title:Q.is_active?"Deactivate account":"Activate account",children:Q.is_active?i.jsx(oa,{className:"w-5 h-5"}):i.jsx(nt,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Z(Q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit account",children:i.jsx(Bl,{className:"w-5 h-5"})}),i.jsxs("div",{className:"relative group",children:[i.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:i.jsx(dy,{className:"w-5 h-5"})}),i.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-200 z-10",children:i.jsxs("button",{onClick:()=>P(Q),className:"w-full flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-sm",children:[i.jsx(_d,{className:"w-4 h-4"}),i.jsx("span",{children:"Delete Account"})]})})]})]})]})},Q.id))})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-fadeIn",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-[#b0e7e7]/20 rounded-lg",children:f?i.jsx(K_,{className:"w-5 h-5 text-[#1a5858]"}):i.jsx(Kl,{className:"w-5 h-5 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:f?"Update Staff Account":"Add New Staff"}),i.jsx("p",{className:"text-sm text-gray-500",children:f?"Modify account permissions":"Create a new staff account"})]})]}),i.jsx("button",{onClick:()=>{d(!1),W()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(oa,{className:"w-5 h-5 text-gray-400"})})]})}),i.jsxs("div",{className:"p-6 space-y-5",children:[!f&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gr,{className:"w-4 h-4"}),i.jsx("span",{children:"Email Address"})]})}),i.jsx("input",{type:"email",value:T.email,onChange:Q=>R({...T,email:Q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all",placeholder:"staff@healthcare.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fy,{className:"w-4 h-4"}),i.jsx("span",{children:"Temporary Password"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:w?"text":"password",value:T.password,onChange:Q=>R({...T,password:Q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none pr-12 transition-all",placeholder:"Enter secure password"}),i.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:w?i.jsx(hy,{className:"w-5 h-5"}):i.jsx(to,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimum 8 characters with letters and numbers"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ea,{className:"w-4 h-4"}),i.jsx("span",{children:"Account Role"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>R({...T,role:"staff"}),className:`p-4 border rounded-xl transition-all ${T.role==="staff"?"border-[#b0e7e7] bg-[#b0e7e7]/10 ring-2 ring-[#b0e7e7]/20":"border-gray-200 hover:border-gray-300"}`,children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Ua,{className:"w-6 h-6 text-gray-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Staff"}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Basic access to patient management"})]})}),i.jsx("button",{type:"button",onClick:()=>R({...T,role:"admin"}),className:`p-4 border rounded-xl transition-all ${T.role==="admin"?"border-purple-500 bg-purple-50 ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"}`,children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(ea,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Admin"}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Full system access & management"})]})})]})]}),f&&i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Account Status"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enable or disable account access"})]}),i.jsx("button",{onClick:()=>R({...T,is_active:!T.is_active}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${T.is_active?"bg-emerald-500":"bg-gray-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.is_active?"translate-x-6":"translate-x-1"}`})})]}),f&&i.jsx("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ma,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Note"}),i.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Changing email or password requires the user to update their settings. Only role and status can be modified here."})]})]})})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex space-x-3",children:[i.jsx("button",{onClick:()=>{d(!1),W()},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:f?A:C,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity",children:f?"Update Account":"Create Account"})]})]})})]})}const yy=6048e5,e2=864e5,xg=Symbol.for("constructDateFrom");function Et(s,a){return typeof s=="function"?s(a):s&&typeof s=="object"&&xg in s?s[xg](a):s instanceof Date?new s.constructor(a):new Date(a)}function it(s,a){return Et(a||s,s)}function t2(s,a,n){const o=it(s,n?.in);return isNaN(a)?Et(s,NaN):(o.setDate(o.getDate()+a),o)}function py(s,a,n){const o=it(s,n?.in);if(isNaN(a))return Et(s,NaN);if(!a)return o;const u=o.getDate(),d=Et(s,o.getTime());d.setMonth(o.getMonth()+a+1,0);const f=d.getDate();return u>=f?d:(o.setFullYear(d.getFullYear(),d.getMonth(),u),o)}let a2={};function ui(){return a2}function Gs(s,a){const n=ui(),o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=it(s,a?.in),d=u.getDay(),f=(d<o?7:0)+d-o;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}function Xl(s,a){return Gs(s,{...a,weekStartsOn:1})}function xy(s,a){const n=it(s,a?.in),o=n.getFullYear(),u=Et(n,0);u.setFullYear(o+1,0,4),u.setHours(0,0,0,0);const d=Xl(u),f=Et(n,0);f.setFullYear(o,0,4),f.setHours(0,0,0,0);const g=Xl(f);return n.getTime()>=d.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function bg(s){const a=it(s),n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return n.setUTCFullYear(a.getFullYear()),+s-+n}function so(s,...a){const n=Et.bind(null,a.find(o=>typeof o=="object"));return a.map(n)}function Vs(s,a){const n=it(s,a?.in);return n.setHours(0,0,0,0),n}function r2(s,a,n){const[o,u]=so(n?.in,s,a),d=Vs(o),f=Vs(u),g=+d-bg(d),m=+f-bg(f);return Math.round((g-m)/e2)}function s2(s,a){const n=xy(s,a),o=Et(s,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),Xl(o)}function n2(s){return Et(s,Date.now())}function i2(s,a,n){const[o,u]=so(n?.in,s,a);return+Vs(o)==+Vs(u)}function l2(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function o2(s){return!(!l2(s)&&typeof s!="number"||isNaN(+it(s)))}function c2(s,a){const n=it(s,a?.in),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}function u2(s,a){const[n,o]=so(s,a.start,a.end);return{start:n,end:o}}function d2(s,a){const{start:n,end:o}=u2(a?.in,s);let u=+n>+o;const d=u?+n:+o,f=u?o:n;f.setHours(0,0,0,0);let g=1;const m=[];for(;+f<=d;)m.push(Et(n,f)),f.setDate(f.getDate()+g),f.setHours(0,0,0,0);return u?m.reverse():m}function h2(s,a){const n=it(s,a?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function f2(s,a){const n=it(s,a?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function m2(s,a){const n=ui(),o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=it(s,a?.in),d=u.getDay(),f=(d<o?-7:0)+6-(d-o);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}const g2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y2=(s,a,n)=>{let o;const u=g2[s];return typeof u=="string"?o=u:a===1?o=u.one:o=u.other.replace("{{count}}",a.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Gu(s){return(a={})=>{const n=a.width?String(a.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const p2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v2={date:Gu({formats:p2,defaultWidth:"full"}),time:Gu({formats:x2,defaultWidth:"full"}),dateTime:Gu({formats:b2,defaultWidth:"full"})},w2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j2=(s,a,n,o)=>w2[s];function Qn(s){return(a,n)=>{const o=n?.context?String(n.context):"standalone";let u;if(o==="formatting"&&s.formattingValues){const f=s.defaultFormattingWidth||s.defaultWidth,g=n?.width?String(n.width):f;u=s.formattingValues[g]||s.formattingValues[f]}else{const f=s.defaultWidth,g=n?.width?String(n.width):s.defaultWidth;u=s.values[g]||s.values[f]}const d=s.argumentCallback?s.argumentCallback(a):a;return u[d]}}const _2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A2=(s,a)=>{const n=Number(s),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O2={ordinalNumber:A2,era:Qn({values:_2,defaultWidth:"wide"}),quarter:Qn({values:N2,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Qn({values:S2,defaultWidth:"wide"}),day:Qn({values:k2,defaultWidth:"wide"}),dayPeriod:Qn({values:E2,defaultWidth:"wide",formattingValues:T2,defaultFormattingWidth:"wide"})};function Xn(s){return(a,n={})=>{const o=n.width,u=o&&s.matchPatterns[o]||s.matchPatterns[s.defaultMatchWidth],d=a.match(u);if(!d)return null;const f=d[0],g=o&&s.parsePatterns[o]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(g)?R2(g,b=>b.test(f)):C2(g,b=>b.test(f));let p;p=s.valueCallback?s.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const v=a.slice(f.length);return{value:p,rest:v}}}function C2(s,a){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&a(s[n]))return n}function R2(s,a){for(let n=0;n<s.length;n++)if(a(s[n]))return n}function D2(s){return(a,n={})=>{const o=a.match(s.matchPattern);if(!o)return null;const u=o[0],d=a.match(s.parsePattern);if(!d)return null;let f=s.valueCallback?s.valueCallback(d[0]):d[0];f=n.valueCallback?n.valueCallback(f):f;const g=a.slice(u.length);return{value:f,rest:g}}}const M2=/^(\d+)(th|st|nd|rd)?/i,U2=/\d+/i,z2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L2={any:[/^b/i,/^(a|c)/i]},B2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q2={any:[/1/i,/2/i,/3/i,/4/i]},H2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K2={ordinalNumber:D2({matchPattern:M2,parsePattern:U2,valueCallback:s=>parseInt(s,10)}),era:Xn({matchPatterns:z2,defaultMatchWidth:"wide",parsePatterns:L2,defaultParseWidth:"any"}),quarter:Xn({matchPatterns:B2,defaultMatchWidth:"wide",parsePatterns:q2,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Xn({matchPatterns:H2,defaultMatchWidth:"wide",parsePatterns:$2,defaultParseWidth:"any"}),day:Xn({matchPatterns:Y2,defaultMatchWidth:"wide",parsePatterns:G2,defaultParseWidth:"any"}),dayPeriod:Xn({matchPatterns:V2,defaultMatchWidth:"any",parsePatterns:P2,defaultParseWidth:"any"})},Q2={code:"en-US",formatDistance:y2,formatLong:v2,formatRelative:j2,localize:O2,match:K2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X2(s,a){const n=it(s,a?.in);return r2(n,f2(n))+1}function J2(s,a){const n=it(s,a?.in),o=+Xl(n)-+s2(n);return Math.round(o/yy)+1}function by(s,a){const n=it(s,a?.in),o=n.getFullYear(),u=ui(),d=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,f=Et(a?.in||s,0);f.setFullYear(o+1,0,d),f.setHours(0,0,0,0);const g=Gs(f,a),m=Et(a?.in||s,0);m.setFullYear(o,0,d),m.setHours(0,0,0,0);const p=Gs(m,a);return+n>=+g?o+1:+n>=+p?o:o-1}function I2(s,a){const n=ui(),o=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=by(s,a),d=Et(a?.in||s,0);return d.setFullYear(u,0,o),d.setHours(0,0,0,0),Gs(d,a)}function Z2(s,a){const n=it(s,a?.in),o=+Gs(n,a)-+I2(n,a);return Math.round(o/yy)+1}function Ce(s,a){const n=s<0?"-":"",o=Math.abs(s).toString().padStart(a,"0");return n+o}const dr={y(s,a){const n=s.getFullYear(),o=n>0?n:1-n;return Ce(a==="yy"?o%100:o,a.length)},M(s,a){const n=s.getMonth();return a==="M"?String(n+1):Ce(n+1,2)},d(s,a){return Ce(s.getDate(),a.length)},a(s,a){const n=s.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(s,a){return Ce(s.getHours()%12||12,a.length)},H(s,a){return Ce(s.getHours(),a.length)},m(s,a){return Ce(s.getMinutes(),a.length)},s(s,a){return Ce(s.getSeconds(),a.length)},S(s,a){const n=a.length,o=s.getMilliseconds(),u=Math.trunc(o*Math.pow(10,n-3));return Ce(u,a.length)}},zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vg={G:function(s,a,n){const o=s.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});default:return n.era(o,{width:"wide"})}},y:function(s,a,n){if(a==="yo"){const o=s.getFullYear(),u=o>0?o:1-o;return n.ordinalNumber(u,{unit:"year"})}return dr.y(s,a)},Y:function(s,a,n,o){const u=by(s,o),d=u>0?u:1-u;if(a==="YY"){const f=d%100;return Ce(f,2)}return a==="Yo"?n.ordinalNumber(d,{unit:"year"}):Ce(d,a.length)},R:function(s,a){const n=xy(s);return Ce(n,a.length)},u:function(s,a){const n=s.getFullYear();return Ce(n,a.length)},Q:function(s,a,n){const o=Math.ceil((s.getMonth()+1)/3);switch(a){case"Q":return String(o);case"QQ":return Ce(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(s,a,n){const o=Math.ceil((s.getMonth()+1)/3);switch(a){case"q":return String(o);case"qq":return Ce(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(s,a,n){const o=s.getMonth();switch(a){case"M":case"MM":return dr.M(s,a);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(s,a,n){const o=s.getMonth();switch(a){case"L":return String(o+1);case"LL":return Ce(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(s,a,n,o){const u=Z2(s,o);return a==="wo"?n.ordinalNumber(u,{unit:"week"}):Ce(u,a.length)},I:function(s,a,n){const o=J2(s);return a==="Io"?n.ordinalNumber(o,{unit:"week"}):Ce(o,a.length)},d:function(s,a,n){return a==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):dr.d(s,a)},D:function(s,a,n){const o=X2(s);return a==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Ce(o,a.length)},E:function(s,a,n){const o=s.getDay();switch(a){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(s,a,n,o){const u=s.getDay(),d=(u-o.weekStartsOn+8)%7||7;switch(a){case"e":return String(d);case"ee":return Ce(d,2);case"eo":return n.ordinalNumber(d,{unit:"day"});case"eee":return n.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(u,{width:"short",context:"formatting"});default:return n.day(u,{width:"wide",context:"formatting"})}},c:function(s,a,n,o){const u=s.getDay(),d=(u-o.weekStartsOn+8)%7||7;switch(a){case"c":return String(d);case"cc":return Ce(d,a.length);case"co":return n.ordinalNumber(d,{unit:"day"});case"ccc":return n.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(u,{width:"narrow",context:"standalone"});case"cccccc":return n.day(u,{width:"short",context:"standalone"});default:return n.day(u,{width:"wide",context:"standalone"})}},i:function(s,a,n){const o=s.getDay(),u=o===0?7:o;switch(a){case"i":return String(u);case"ii":return Ce(u,a.length);case"io":return n.ordinalNumber(u,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(s,a,n){const u=s.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(s,a,n){const o=s.getHours();let u;switch(o===12?u=zs.noon:o===0?u=zs.midnight:u=o/12>=1?"pm":"am",a){case"b":case"bb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(s,a,n){const o=s.getHours();let u;switch(o>=17?u=zs.evening:o>=12?u=zs.afternoon:o>=4?u=zs.morning:u=zs.night,a){case"B":case"BB":case"BBB":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(s,a,n){if(a==="ho"){let o=s.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return dr.h(s,a)},H:function(s,a,n){return a==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):dr.H(s,a)},K:function(s,a,n){const o=s.getHours()%12;return a==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Ce(o,a.length)},k:function(s,a,n){let o=s.getHours();return o===0&&(o=24),a==="ko"?n.ordinalNumber(o,{unit:"hour"}):Ce(o,a.length)},m:function(s,a,n){return a==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):dr.m(s,a)},s:function(s,a,n){return a==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):dr.s(s,a)},S:function(s,a){return dr.S(s,a)},X:function(s,a,n){const o=s.getTimezoneOffset();if(o===0)return"Z";switch(a){case"X":return jg(o);case"XXXX":case"XX":return qr(o);default:return qr(o,":")}},x:function(s,a,n){const o=s.getTimezoneOffset();switch(a){case"x":return jg(o);case"xxxx":case"xx":return qr(o);default:return qr(o,":")}},O:function(s,a,n){const o=s.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+wg(o,":");default:return"GMT"+qr(o,":")}},z:function(s,a,n){const o=s.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+wg(o,":");default:return"GMT"+qr(o,":")}},t:function(s,a,n){const o=Math.trunc(+s/1e3);return Ce(o,a.length)},T:function(s,a,n){return Ce(+s,a.length)}};function wg(s,a=""){const n=s>0?"-":"+",o=Math.abs(s),u=Math.trunc(o/60),d=o%60;return d===0?n+String(u):n+String(u)+a+Ce(d,2)}function jg(s,a){return s%60===0?(s>0?"-":"+")+Ce(Math.abs(s)/60,2):qr(s,a)}function qr(s,a=""){const n=s>0?"-":"+",o=Math.abs(s),u=Ce(Math.trunc(o/60),2),d=Ce(o%60,2);return n+u+a+d}const _g=(s,a)=>{switch(s){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},vy=(s,a)=>{switch(s){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}},W2=(s,a)=>{const n=s.match(/(P+)(p+)?/)||[],o=n[1],u=n[2];if(!u)return _g(s,a);let d;switch(o){case"P":d=a.dateTime({width:"short"});break;case"PP":d=a.dateTime({width:"medium"});break;case"PPP":d=a.dateTime({width:"long"});break;default:d=a.dateTime({width:"full"});break}return d.replace("{{date}}",_g(o,a)).replace("{{time}}",vy(u,a))},F2={p:vy,P:W2},eN=/^D+$/,tN=/^Y+$/,aN=["D","DD","YY","YYYY"];function rN(s){return eN.test(s)}function sN(s){return tN.test(s)}function nN(s,a,n){const o=iN(s,a,n);if(console.warn(o),aN.includes(s))throw new RangeError(o)}function iN(s,a,n){const o=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${a}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cN=/^'([^]*?)'?$/,uN=/''/g,dN=/[a-zA-Z]/;function Xe(s,a,n){const o=ui(),u=o.locale??Q2,d=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,g=it(s,n?.in);if(!o2(g))throw new RangeError("Invalid time value");let m=a.match(oN).map(v=>{const b=v[0];if(b==="p"||b==="P"){const w=F2[b];return w(v,u.formatLong)}return v}).join("").match(lN).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:hN(v)};if(vg[b])return{isToken:!0,value:v};if(b.match(dN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});u.localize.preprocessor&&(m=u.localize.preprocessor(g,m));const p={firstWeekContainsDate:d,weekStartsOn:f,locale:u};return m.map(v=>{if(!v.isToken)return v.value;const b=v.value;(sN(b)||rN(b))&&nN(b,a,String(s));const w=vg[b[0]];return w(g,b,u.localize,p)}).join("")}function hN(s){const a=s.match(cN);return a?a[1].replace(uN,"'"):s}function Ng(s,a){return+it(s)>+it(a)}function fN(s,a,n){const[o,u]=so(n?.in,s,a);return o.getFullYear()===u.getFullYear()&&o.getMonth()===u.getMonth()}function Sg(s,a){return i2(Et(s,s),n2(s))}function mN(s,a,n){return t2(s,-7,n)}function kg(s){return Vs(Date.now(),s)}function gN(s,a,n){return py(s,-1,n)}function yN(){const[s,a]=S.useState({totalDoctors:0,totalAppointments:0,totalStaff:0,pendingAppointments:0,confirmedAppointments:0,cancelledAppointments:0,todayAppointments:0,weeklyAppointments:0,availableSlots:0}),[n,o]=S.useState([]),[u,d]=S.useState([]),[f,g]=S.useState(!0),[m,p]=S.useState(0);S.useEffect(()=>{v()},[m]);const v=async()=>{try{g(!0),await Promise.all([b(),w(),N()])}catch(E){console.error("Error fetching data:",E)}finally{g(!1)}},b=async()=>{try{const[E,C,A,L,P,Z,W,K,de]=await Promise.all([ce.from("doctors").select("*",{count:"exact",head:!0}),ce.from("appointments").select("*",{count:"exact",head:!0}),ce.from("staff").select("*",{count:"exact",head:!0}),ce.from("appointments").select("*",{count:"exact",head:!0}).eq("status","pending"),ce.from("appointments").select("*",{count:"exact",head:!0}).eq("status","confirmed"),ce.from("appointments").select("*",{count:"exact",head:!0}).eq("status","cancelled"),ce.from("appointments").select("*, time_slots!inner(date)",{count:"exact",head:!0}).eq("time_slots.date",Xe(new Date,"yyyy-MM-dd")),ce.from("appointments").select("*",{count:"exact",head:!0}).gte("created_at",Vs(mN(new Date,7)).toISOString()),ce.from("time_slots").select("*",{count:"exact",head:!0}).eq("is_available",!0).gte("date",Xe(new Date,"yyyy-MM-dd"))]);a({totalDoctors:E.count||0,totalAppointments:C.count||0,totalStaff:A.count||0,pendingAppointments:L.count||0,confirmedAppointments:P.count||0,cancelledAppointments:Z.count||0,todayAppointments:W.count||0,weeklyAppointments:K.count||0,availableSlots:de.count||0})}catch(E){console.error("Error fetching stats:",E)}},w=async()=>{try{const{data:E}=await ce.from("appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          time_slots:time_slot_id(date, start_time)
        `).order("created_at",{ascending:!1}).limit(6);o(E||[])}catch(E){console.error("Error fetching recent bookings:",E)}},N=async()=>{try{const{data:E}=await ce.from("appointments").select("doctor_id, doctors:doctor_id(name, specialty)").eq("status","confirmed");if(E){const C={};E.forEach(L=>{const P=L.doctor_id;C[P]||(C[P]={id:P,name:L.doctors?.name||"Unknown",specialty:L.doctors?.specialty||"",count:0}),C[P].count++});const A=Object.values(C).sort((L,P)=>P.count-L.count).slice(0,5);d(A)}}catch(E){console.error("Error fetching top doctors:",E)}},T=()=>{p(E=>E+1)},R=s.totalAppointments>0?Math.round(s.confirmedAppointments/s.totalAppointments*100):0;return f?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] animate-spin"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading system overview..."})]}):i.jsxs("div",{className:"animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Overview"}),i.jsx("p",{className:"text-gray-600",children:"Monitor your healthcare platform performance"})]}),i.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-gray-50 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(ga,{className:"w-5 h-5"}),i.jsx("span",{children:"Refresh"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:border-[#b0e7e7] transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Doctors"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.totalDoctors}),i.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[i.jsx(pg,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:i.jsx(Yt,{className:"w-8 h-8 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:border-[#b0e7e7] transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Staff"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.totalStaff}),i.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[i.jsx(ea,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Administrators"})]})]}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:i.jsx(Ua,{className:"w-8 h-8 text-purple-600"})})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:border-[#b0e7e7] transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Available Slots"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.availableSlots}),i.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[i.jsx($t,{className:"w-4 h-4 text-emerald-500"}),i.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Upcoming"})]})]}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl",children:i.jsx(wd,{className:"w-8 h-8 text-emerald-600"})})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:border-[#b0e7e7] transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Today's Appointments"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.todayAppointments}),i.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[i.jsx(Je,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"Today"})]})]}),i.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl",children:i.jsx(Gr,{className:"w-8 h-8 text-amber-600"})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointment Analytics"}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),i.jsx("span",{className:"text-gray-600",children:"Pending"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-gray-600",children:"Confirmed"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),i.jsx("span",{className:"text-gray-600",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-4",children:[{label:"Confirmed",value:s.confirmedAppointments,color:"bg-emerald-500",icon:nt},{label:"Pending",value:s.pendingAppointments,color:"bg-amber-400",icon:ma},{label:"Cancelled",value:s.cancelledAppointments,color:"bg-rose-500",icon:oa}].map((E,C)=>{const A=E.icon,L=s.totalAppointments>0?Math.round(E.value/s.totalAppointments*100):0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 ${E.color.replace("bg-","bg-").replace("500","50")} rounded-lg`,children:i.jsx(A,{className:`w-4 h-4 ${E.color.replace("bg-","text-")}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:E.label}),i.jsxs("p",{className:"text-sm text-gray-500",children:[E.value," appointments"]})]})]}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[L,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${E.color}`,style:{width:`${L}%`}})})]},C)})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-100",children:[i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Appointments"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalAppointments})]}),i.jsx(jd,{className:"w-5 h-5 text-gray-400"})]})}),i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Confirmation Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[R,"%"]})]}),i.jsx(pg,{className:"w-5 h-5 text-emerald-400"})]})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Doctors"}),i.jsx(id,{className:"w-5 h-5 text-amber-500"})]}),u.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Yt,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No appointment data"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Start booking appointments to see rankings"})]}):i.jsx("div",{className:"space-y-4",children:u.map((E,C)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${C===0?"bg-gradient-to-br from-amber-500 to-amber-600":C===1?"bg-gradient-to-br from-gray-400 to-gray-500":C===2?"bg-gradient-to-br from-amber-600 to-amber-700":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:C+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-gray-900 truncate",children:E.name}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:E.specialty||"General Practice"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold text-gray-900",children:E.count}),i.jsx("p",{className:"text-xs text-gray-500",children:"bookings"})]}),i.jsx(Ba,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400"})]},E.id))})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"}),i.jsx("button",{className:"text-sm text-[#1a5858] font-medium hover:text-[#0d3d3d] transition-colors",children:"View all"})]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:n.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Je,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No recent bookings"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"New bookings will appear here"})]}):n.map(E=>i.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors group",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-2 rounded-lg ${E.status==="confirmed"?"bg-emerald-50":E.status==="pending"?"bg-amber-50":"bg-rose-50"}`,children:E.status==="confirmed"?i.jsx(nt,{className:"w-5 h-5 text-emerald-600"}):E.status==="pending"?i.jsx(ma,{className:"w-5 h-5 text-amber-600"}):i.jsx(oa,{className:"w-5 h-5 text-rose-600"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("p",{className:"font-semibold text-gray-900",children:[E.first_name," ",E.last_name]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.status==="confirmed"?"bg-emerald-100 text-emerald-800":E.status==="pending"?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-800"}`,children:E.status})]}),i.jsx("p",{className:"text-sm text-gray-500",children:E.email}),i.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-sm text-gray-500",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Yt,{className:"w-3 h-3"}),i.jsx("span",{children:E.doctors?.name||"Unknown Doctor"})]}),E.time_slots?.date&&i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Je,{className:"w-3 h-3"}),i.jsx("span",{children:Xe(new Date(E.time_slots.date),"MMM dd, yyyy")})]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:Xe(new Date(E.created_at),"MMM dd, HH:mm")}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Booked"})]})]})},E.id))}),n.length>0&&i.jsx("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["Showing ",n.length," recent bookings"]}),i.jsxs("button",{className:"flex items-center space-x-2 text-[#1a5858] font-medium hover:text-[#0d3d3d] transition-colors",children:[i.jsx("span",{children:"View all bookings"}),i.jsx(Ba,{className:"w-4 h-4"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] p-5 rounded-xl text-[#1a5858]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Weekly Appointments"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:s.weeklyAppointments}),i.jsx("p",{className:"text-xs opacity-80 mt-1",children:"Last 7 days"})]}),i.jsx(Gj,{className:"w-8 h-8 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white p-5 rounded-xl border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Appointments"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s.totalAppointments}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),i.jsx(Gr,{className:"w-8 h-8 text-gray-400"})]})}),i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white p-5 rounded-xl border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active System"}),i.jsx("p",{className:"text-2xl font-bold text-emerald-600 mt-1",children:"100%"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uptime"})]}),i.jsx(to,{className:"w-8 h-8 text-emerald-400"})]})})]})]})}function pN(){const[s,a]=S.useState([]),[n,o]=S.useState(!0),[u,d]=S.useState("all"),[f,g]=S.useState("");S.useEffect(()=>{m()},[u]);const m=async()=>{try{o(!0);let w=ce.from("appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          time_slots:time_slot_id(date, start_time, end_time)
        `).order("updated_at",{ascending:!1}).limit(50);u==="bookings"?w=w.eq("status","pending"):u==="confirmations"?w=w.eq("status","confirmed"):u==="cancellations"&&(w=w.eq("status","cancelled"));const{data:N,error:T}=await w;if(T)throw T;a(N||[])}catch(w){console.error("Error fetching logs:",w)}finally{o(!1)}},p=w=>{switch(w){case"pending":return i.jsx(ma,{className:"w-5 h-5"});case"confirmed":return i.jsx(nt,{className:"w-5 h-5"});case"cancelled":return i.jsx(oa,{className:"w-5 h-5"});default:return i.jsx(Gr,{className:"w-5 h-5"})}},v=w=>{switch(w){case"pending":return"bg-amber-50 text-amber-700 border-amber-200";case"confirmed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"cancelled":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},b=s.filter(w=>`${w.first_name} ${w.last_name}`.toLowerCase().includes(f.toLowerCase())||w.email.toLowerCase().includes(f.toLowerCase())||w.doctors?.name.toLowerCase().includes(f.toLowerCase()));return n?i.jsxs("div",{className:"flex flex-col justify-center items-center py-12 space-y-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-3 border-[#b0e7e7] border-t-transparent"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading activity logs..."})]}):i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx(Gr,{className:"w-8 h-8 text-[#b0e7e7]"}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Activity Logs"})]}),i.jsx("p",{className:"text-gray-600",children:"Monitor all appointment activities in real-time"})]}),i.jsx("div",{className:"mb-8 p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by patient, doctor, or email...",value:f,onChange:w=>g(w.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg p-1",children:[i.jsx(ci,{className:"w-4 h-4 text-gray-500"}),["all","bookings","confirmations","cancellations"].map(w=>i.jsx("button",{onClick:()=>d(w),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${u===w?"bg-white text-[#b0e7e7] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]}),i.jsx("button",{onClick:m,className:"p-2.5 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh logs",children:i.jsx(ga,{className:"w-5 h-5"})})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Logs"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s.length})]}),i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsx(Gr,{className:"w-6 h-6 text-[#b0e7e7]"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold text-amber-600 mt-1",children:s.filter(w=>w.status==="pending").length})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg",children:i.jsx(ma,{className:"w-6 h-6 text-amber-500"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Confirmed"}),i.jsx("p",{className:"text-2xl font-bold text-emerald-600 mt-1",children:s.filter(w=>w.status==="confirmed").length})]}),i.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg",children:i.jsx(nt,{className:"w-6 h-6 text-emerald-500"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Cancelled"}),i.jsx("p",{className:"text-2xl font-bold text-rose-600 mt-1",children:s.filter(w=>w.status==="cancelled").length})]}),i.jsx("div",{className:"p-3 bg-rose-50 rounded-lg",children:i.jsx(oa,{className:"w-6 h-6 text-rose-500"})})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"})}),i.jsx("div",{className:"divide-y divide-gray-100",children:b.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Gr,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No activity logs found"}),i.jsx("p",{className:"text-gray-400 text-sm",children:f?"Try a different search term":"No appointments match the selected filter"})]}):b.map(w=>i.jsx("div",{className:"p-6 hover:bg-gray-50 transition-all duration-200 group",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`p-3 rounded-lg border ${v(w.status)}`,children:p(w.status)}),i.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 w-px h-6 bg-gray-200 group-last:hidden"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:i.jsx(Ql,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-gray-900",children:[w.first_name," ",w.last_name]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["Patient ID: ",w.id.slice(0,8),"..."]})]})]}),i.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-full border ${v(w.status)} self-start sm:self-center`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),i.jsxs("div",{className:"mt-4 pl-11 space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:w.doctors?.name||"Unknown Doctor"}),w.doctors?.specialty&&i.jsxs("span",{className:"text-gray-400",children:[" ","(",w.doctors.specialty,")"]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Je,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:w.time_slots?.date?Xe(new Date(w.time_slots.date),"MMM dd, yyyy"):"Date not set"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx($t,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{children:[w.time_slots?.start_time||"--:--"," -"," ",w.time_slots?.end_time||"--:--"]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(gr,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:w.email})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Ys,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:w.phone_number})]})]})]}),i.jsx("div",{className:"mt-4 pl-11 pt-4 border-t border-gray-100",children:i.jsxs("p",{className:"text-xs text-gray-400",children:["Last updated:"," ",i.jsx("span",{className:"font-medium",children:Xe(new Date(w.updated_at),"MMM dd, yyyy  HH:mm:ss")})]})})]}),i.jsx(Ba,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400 transition-colors"})]})},w.id))}),b.length>0&&i.jsx("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["Showing ",b.length," of ",s.length," logs"]}),i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"w-2 h-2 bg-[#b0e7e7] rounded-full"}),i.jsx("span",{children:"Real-time updates"})]})]})})]})]})}function xN(){const{isDark:s}=Js(),{user:a,signOut:n}=eo(),o=Xs(),[u,d]=S.useState("overview"),[f,g]=S.useState(!0),[m]=S.useState([{id:1,text:"System backup completed successfully",time:"2 hours ago",read:!0},{id:2,text:"Database optimization scheduled",time:"4 hours ago",read:!0},{id:3,text:"Security audit passed",time:"1 day ago",read:!0}]),p=[{id:"overview",label:"Dashboard",icon:i.jsx(h_,{className:"w-5 h-5"}),color:"text-blue-500"},{id:"logs",label:"Activity Logs",icon:i.jsx(Gr,{className:"w-5 h-5"}),color:"text-emerald-500"},{id:"staff",label:"Staff Management",icon:i.jsx(C_,{className:"w-5 h-5"}),color:"text-purple-500"}],v=async()=>{await n(),o("/login")};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0f172a] transition-colors duration-300",children:[i.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-[#0f172a] border-r border-gray-200 dark:border-gray-800 transform transition-all duration-300 ease-in-out lg:translate-x-0 ${f?"translate-x-0 shadow-2xl":"-translate-x-full"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(bt,{to:"/",className:"w-10 h-10 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-10 h-10 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-10 h-10 object-contain"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-bold text-gray-900 dark:text-white text-lg tracking-tight",children:"HealthCare Pro"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Admin Control Panel"})]})]})}),i.jsxs("nav",{className:"flex-1 py-6 overflow-y-auto",children:[i.jsx("p",{className:"px-6 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Administration"}),i.jsx("div",{className:"space-y-1 px-3",children:p.map(b=>i.jsxs("button",{onClick:()=>d(b.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${u===b.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg transition-colors ${u===b.id?"bg-blue-100 dark:bg-blue-800/30":"bg-gray-100 dark:bg-gray-800 group-hover:bg-gray-200 dark:group-hover:bg-gray-700"}`,children:b.icon}),i.jsx("span",{className:"flex-1 text-left",children:b.label}),u===b.id&&i.jsx(Ba,{className:"w-4 h-4 text-blue-500"})]},b.id))})]}),i.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800",children:i.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-xl transition-all duration-200 group",children:[i.jsx(Pl,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),i.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>g(!1)}),i.jsxs("main",{className:`min-h-screen transition-all duration-300 ${f?"lg:ml-64":""}`,children:[i.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-[#1e293b] border-b border-gray-200 dark:border-gray-700 shadow-sm transition-colors duration-300",children:i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>g(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden","aria-label":"Toggle sidebar",children:f?i.jsx(ro,{className:"w-5 h-5"}):i.jsx(my,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:p.find(b=>b.id===u)?.label||"Dashboard"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back! Here's what's happening today."})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ni,{}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Notifications",children:[i.jsx(sd,{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900"}),m.filter(b=>!b.read).length>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]}),i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform translate-y-2 group-hover:translate-y-0",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"System Notifications"}),i.jsx("p",{className:"text-sm text-gray-500",children:"All systems are operational"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.map(b=>i.jsx("div",{className:"p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:i.jsx(sd,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.text}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.time})]})]})},b.id))})]})]}),i.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Settings",children:i.jsx(A_,{className:"w-5 h-5 text-gray-600 hover:text-gray-900"})}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-xl transition-colors",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center shadow-sm",children:i.jsx(Vl,{className:"w-5 h-5 text-[#1a5858]"})}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:a?.name||a?.email?.split("@")[0]||"Admin"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform translate-y-2 group-hover:translate-y-0 z-10",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("p",{className:"font-medium text-gray-900",children:a?.email||"admin@healthcare.com"}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(ea,{className:"w-3 h-3 text-blue-500"}),i.jsx("span",{className:"text-xs text-gray-500",children:"System Admin"})]})]}),i.jsx("div",{className:"py-1",children:i.jsxs("button",{onClick:v,className:"w-full flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-sm",children:[i.jsx(Pl,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign Out"})]})})]})]})]})]})}),i.jsxs("div",{className:"p-6 animate-fadeIn",children:[u==="overview"&&i.jsx(yN,{}),u==="logs"&&i.jsx(pN,{}),u==="staff"&&i.jsx(F_,{})]}),i.jsx("footer",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1e293b] mt-8 transition-colors duration-300",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ea,{className:"w-4 h-4"}),i.jsx("span",{children:"HealthCare Pro Admin Panel v2.0"})]}),i.jsx("div",{className:"mt-2 md:mt-0",children:i.jsxs("span",{children:[" ",new Date().getFullYear()," All rights reserved"]})})]})})]})]})}function wy({doctorId:s,onClose:a,doctorName:n}){const[o,u]=S.useState([]),[d,f]=S.useState(s||""),[g,m]=S.useState(n||""),[p,v]=S.useState([]),[b,w]=S.useState(!1),[N,T]=S.useState({date:"",start_time:"",end_time:"",is_available:!0}),[R,E]=S.useState("all"),[C,A]=S.useState(""),L=!!a;S.useEffect(()=>{P()},[]),S.useEffect(()=>{if(d){Z();const X=o.find(G=>G.id===d);X&&m(X.name)}else v([])},[d,o]);const P=async()=>{try{const{data:X,error:G}=await ce.from("doctors").select("id, name").order("name");if(G)throw G;u(X||[])}catch(X){console.error("Error fetching doctors:",X)}},Z=async()=>{if(d){w(!0);try{const{data:X,error:G}=await ce.from("time_slots").select("*").eq("doctor_id",d).order("date",{ascending:!0}).order("start_time",{ascending:!0});if(G)throw G;v(X||[])}catch(X){console.error("Error fetching time slots:",X)}finally{w(!1)}}},W=async()=>{if(!N.date||!N.start_time||!N.end_time){alert("Please fill in all fields");return}if(N.start_time>=N.end_time){alert("End time must be after start time");return}if(!d){alert("Please select a doctor first");return}try{const{error:X}=await ce.from("time_slots").insert({doctor_id:d,date:N.date,start_time:N.start_time,end_time:N.end_time,is_available:N.is_available});if(X)throw X;T({date:"",start_time:"",end_time:"",is_available:!0}),Z()}catch(X){alert("Error: "+X.message)}},K=async X=>{if(window.confirm("Are you sure you want to delete this time slot? This action cannot be undone."))try{const{error:G}=await ce.from("time_slots").delete().eq("id",X);if(G)throw G;Z()}catch(G){console.error("Error deleting slot:",G),alert("Failed to delete time slot")}},de=async X=>{try{const{error:G}=await ce.from("time_slots").update({is_available:!X.is_available}).eq("id",X.id);if(G)throw G;Z()}catch(G){console.error("Error toggling availability:",G),alert("Failed to update availability")}},ge=p.filter(X=>{const G=R==="all"||R==="available"&&X.is_available||R==="booked"&&!X.is_available,z=!C||Xe(new Date(X.date),"yyyy-MM-dd")===C;return G&&z}),Q=p.filter(X=>X.is_available).length,we=p.filter(X=>!X.is_available).length,Te=()=>{a&&a()},gt=i.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl w-full ${L?"max-w-6xl shadow-2xl relative":"shadow-sm border border-gray-100 dark:border-gray-700"} overflow-hidden flex flex-col max-h-[90vh] transition-all`,children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] rounded-xl shadow-sm",children:i.jsx(Je,{className:"w-6 h-6 text-[#1a5858] dark:text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:"Time Slot Management"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:g?`Scheduling availability for ${g}`:"Select a doctor to manage their schedule"})]})]}),L&&i.jsx("button",{onClick:Te,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-all text-gray-400 hover:text-gray-900 dark:hover:text-white border border-transparent hover:border-gray-200 dark:hover:border-gray-600","aria-label":"Close",children:i.jsx(ro,{className:"w-5 h-5"})})]})}),i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-[#b0e7e7]/20 to-[#8adcdc]/20 dark:from-[#2d9e9e]/20 dark:to-[#1a5858]/20 rounded-xl border border-[#b0e7e7]/30 dark:border-[#2d9e9e]/30",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-[#1a5858] dark:text-[#8adcdc] font-medium",children:"Total Slots"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p.length})]}),i.jsx(Je,{className:"w-5 h-5 text-[#1a5858] dark:text-[#8adcdc]"})]})}),i.jsx("div",{className:"p-3 bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium",children:"Available"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Q})]}),i.jsx(nt,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400"})]})}),i.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl border border-amber-100 dark:border-amber-800/30",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Booked"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:we})]}),i.jsx(oa,{className:"w-5 h-5 text-amber-500 dark:text-amber-400"})]})}),i.jsx("div",{className:"p-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:"Upcoming"}),i.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p.filter(X=>new Date(X.date)>=new Date).length})]}),i.jsx(wd,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})]})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-6 space-y-8",children:[!s&&i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-[#b0e7e7]/30 dark:border-[#2d9e9e]/30 rounded-2xl p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-bold text-[#94a3a3] dark:text-[#8adcdc] uppercase tracking-wider mb-2",children:"Select Doctor"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:d,onChange:X=>f(X.target.value),className:"w-full pl-4 pr-10 py-3 bg-[#f8fafa] dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] appearance-none cursor-pointer font-medium text-gray-700 dark:text-white font-bold transition-colors",children:[i.jsx("option",{value:"",children:"-- Choose a doctor --"}),o.map(X=>i.jsx("option",{value:X.id,children:X.name},X.id))]}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(Ba,{className:"w-5 h-5 rotate-90"})})]})]}),i.jsx("div",{className:"hidden md:block w-px h-12 bg-gray-100 dark:bg-gray-700 mx-2"}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed italic",children:"Pick a doctor from the list to view and manage their consultation hours."})})]})}),i.jsxs("div",{className:`bg-gradient-to-r from-[#f0f9f9] to-white dark:from-gray-800 dark:to-gray-800/50 border border-[#b0e7e7] dark:border-[#2d9e9e]/50 rounded-2xl p-6 shadow-sm ${d?"":"opacity-50 pointer-events-none"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(yg,{className:"w-5 h-5 text-[#1a5858] dark:text-[#8adcdc]"}),i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Add New Time Slot"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsx("span",{children:"Date"})]})}),i.jsx("input",{type:"date",value:N.date,onChange:X=>T({...N,date:X.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsx("span",{children:"Start Time"})]})}),i.jsx("input",{type:"time",value:N.start_time,onChange:X=>T({...N,start_time:X.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsx("span",{children:"End Time"})]})}),i.jsx("input",{type:"time",value:N.end_time,onChange:X=>T({...N,end_time:X.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(H_,{className:"w-4 h-4"}),i.jsx("span",{children:"Status"})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>T({...N,is_available:!0}),className:`flex-1 px-4 py-2.5 rounded-lg border transition-all ${N.is_available?"bg-emerald-50 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 font-bold":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 font-medium"}`,children:"Available"}),i.jsx("button",{onClick:()=>T({...N,is_available:!1}),className:`flex-1 px-4 py-2.5 rounded-lg border transition-all ${N.is_available?"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 font-medium":"bg-amber-50 dark:bg-amber-900/40 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800 font-bold"}`,children:"Booked"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:W,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-bold rounded-xl hover:opacity-90 transition-all shadow-sm hover:shadow-md active:scale-95",children:[i.jsx(yg,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Slot"})]})})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"date",placeholder:"Search by date...",value:C,onChange:X=>A(X.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-700 rounded-lg p-1",children:[i.jsx(ci,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),["all","available","booked"].map(X=>i.jsx("button",{onClick:()=>E(X),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${R===X?"bg-white dark:bg-gray-600 text-[#1a5858] dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))]}),i.jsx("button",{onClick:Z,className:"p-2.5 bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors border border-gray-100 dark:border-gray-600",title:"Refresh slots",children:i.jsx(ga,{className:"w-5 h-5"})})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[i.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white",children:["Time Slots (",ge.length,")"]}),i.jsx("div",{className:"text-xs font-bold text-[#b0e7e7] dark:text-[#8adcdc] bg-[#b0e7e7]/10 dark:bg-[#2d9e9e]/10 px-3 py-1 rounded-full uppercase tracking-wider",children:C?`Filtered: ${C}`:"All Schedules"})]}),b?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-gray-50/30 dark:bg-gray-800/30 rounded-2xl border-2 border-dashed border-gray-100 dark:border-gray-700",children:[i.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] dark:border-[#2d9e9e] dark:border-t-[#8adcdc] animate-spin"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-bold mt-4",children:"Syncing schedules..."})]}):ge.length===0?i.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-2xl bg-gray-50/30 dark:bg-gray-800/30",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-white dark:bg-gray-700 rounded-2xl shadow-sm flex items-center justify-center mb-4 border border-gray-100 dark:border-gray-600",children:i.jsx(Je,{className:"w-8 h-8 text-[#b0e7e7] dark:text-[#2d9e9e]"})}),i.jsx("p",{className:"text-gray-900 dark:text-white font-bold mb-2 text-lg",children:"No time slots found"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm max-w-xs mx-auto",children:C?"No sessions scheduled for this specific date.":"This doctor has no sessions scheduled yet. Start by adding one above."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(X=>{const G=new Date(X.date)<new Date,z=new Date(X.date);return i.jsxs("div",{className:`p-5 bg-white dark:bg-gray-800 border-2 rounded-2xl transition-all duration-300 hover:shadow-xl group ${G?"border-gray-100 dark:border-gray-700 opacity-60 grayscale":X.is_available?"border-emerald-50 dark:border-emerald-900/30 hover:border-emerald-200 dark:hover:border-emerald-800 bg-emerald-50/10 dark:bg-emerald-900/10":"border-amber-50 dark:border-amber-900/30 hover:border-amber-200 dark:hover:border-amber-800 bg-amber-50/10 dark:bg-amber-900/10"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${X.is_available?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]":"bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.4)]"}`}),i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:Xe(z,"MMM dd, yyyy")})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-gray-700/50 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-gray-600 w-fit",children:[i.jsx($t,{className:"w-3.5 h-3.5 text-[#3ebdbd] dark:text-[#8adcdc]"}),i.jsx("span",{className:"font-bold",children:X.start_time}),i.jsx(Ba,{className:"w-3 h-3 text-gray-300"}),i.jsx("span",{className:"font-bold",children:X.end_time})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:()=>de(X),className:`p-2.5 rounded-xl transition-all ${X.is_available?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-900/60 shadow-sm":"bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/60 shadow-sm"}`,title:X.is_available?"Mark as booked":"Mark as available",disabled:G,children:X.is_available?i.jsx(nt,{className:"w-5 h-5"}):i.jsx(oa,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>K(X.id),className:"p-2.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all border border-transparent hover:border-red-100",title:"Delete slot",children:i.jsx(_d,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`px-4 py-1.5 text-xs font-bold rounded-full uppercase tracking-tighter ${X.is_available?"bg-white dark:bg-gray-700 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800 shadow-sm":"bg-white dark:bg-gray-700 text-amber-700 dark:text-amber-400 border border-amber-100 dark:border-amber-800 shadow-sm"}`,children:X.is_available?"Open for Patient":"Reserved Session"}),G&&i.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest bg-gray-100 px-2 py-0.5 rounded",children:"Archived"})]})]},X.id)})})]})]})}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-4 py-2 rounded-full border border-gray-100 dark:border-gray-600 shadow-sm",children:[i.jsx("span",{className:"text-[#3ebdbd] dark:text-[#8adcdc] font-bold",children:Q})," available  ",i.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-bold",children:we})," booked"]}),i.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[L&&i.jsx("button",{onClick:Te,className:"flex-1 sm:flex-none px-6 py-2.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-all hover:border-gray-300 dark:hover:border-gray-500 active:scale-95 shadow-sm",children:"Cancel"}),i.jsxs("button",{onClick:Z,disabled:!d||b,className:"flex-1 sm:flex-none px-6 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-bold rounded-xl hover:opacity-90 transition-all shadow-md hover:shadow-lg active:scale-95 flex items-center justify-center space-x-2 disabled:opacity-50",children:[i.jsx(ga,{className:`w-4 h-4 ${b?"animate-spin":""}`}),i.jsx("span",{children:"Refresh Schedule"})]})]})]})]});return L?i.jsx("div",{className:"fixed inset-0 bg-[#0f172a]/40 backdrop-blur-sm flex items-center justify-center p-4 z-[100] animate-fadeIn",children:gt}):gt}function bN(){const[s,a]=S.useState([]),[n,o]=S.useState(!0),[u,d]=S.useState(!1),[f,g]=S.useState(null),[m,p]=S.useState({name:"",specialty:"",description:"",email:"",phone:"",profile_image:null}),[v,b]=S.useState(!1),[w,N]=S.useState(!1),[T,R]=S.useState(null),[E,C]=S.useState(""),[A,L]=S.useState(""),[P,Z]=S.useState("all");S.useEffect(()=>{W()},[]);const W=async()=>{try{o(!0);const{data:G,error:z}=await ce.from("doctors").select("*, appointments:appointments(count)").order("created_at",{ascending:!1});if(z)throw z;a(G||[])}catch(G){console.error("Error fetching doctors:",G)}finally{o(!1)}},K=async G=>{if(!G)return null;b(!0);try{const z=G.name.split(".").pop(),ne=`doctor-profiles/${`${Math.random()}.${z}`}`,{error:je}=await ce.storage.from("doctor-images").upload(ne,G);if(je)throw je;const{data:{publicUrl:ke}}=ce.storage.from("doctor-images").getPublicUrl(ne);return ke}catch(z){throw console.error("Error uploading image:",z),z}finally{b(!1)}},de=async()=>{if(!m.name||!m.specialty){alert("Please fill in required fields");return}try{let G=m.profile_image;m.profile_image instanceof File&&(G=await K(m.profile_image));const{error:z}=await ce.from("doctors").insert({name:m.name,specialty:m.specialty,description:m.description,email:m.email,phone:m.phone,profile_image_url:G});if(z)throw z;d(!1),Te(),W()}catch(G){alert("Error creating doctor: "+G.message)}},ge=async()=>{if(!m.name||!m.specialty){alert("Please fill in required fields");return}try{let G=f.profile_image_url;m.profile_image instanceof File&&(G=await K(m.profile_image));const{error:z}=await ce.from("doctors").update({name:m.name,specialty:m.specialty,description:m.description,email:m.email,phone:m.phone,profile_image_url:G}).eq("id",f.id);if(z)throw z;d(!1),Te(),W()}catch(G){alert("Error updating doctor: "+G.message)}},Q=async G=>{if(window.confirm("Are you sure you want to delete this doctor? This action cannot be undone."))try{const{error:z}=await ce.from("doctors").delete().eq("id",G);if(z)throw z;W()}catch(z){alert("Error deleting doctor: "+z.message)}},we=G=>{g(G),p({name:G.name,specialty:G.specialty,description:G.description||"",email:G.email||"",phone:G.phone||"",profile_image:null}),d(!0)},Te=()=>{p({name:"",specialty:"",description:"",email:"",phone:"",profile_image:null}),g(null)},gt=[...new Set(s.map(G=>G.specialty).filter(Boolean))],X=s.filter(G=>{const z=G.name.toLowerCase().includes(A.toLowerCase())||G.specialty.toLowerCase().includes(A.toLowerCase())||G.email?.toLowerCase().includes(A.toLowerCase()),I=P==="all"||G.specialty===P;return z&&I});return n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] animate-spin"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading doctors..."})]}):i.jsxs("div",{className:"animate-fadeIn",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] rounded-xl",children:i.jsx(Yt,{className:"w-6 h-6 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Doctor Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage the medical team and their public information"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Doctors"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.length})]}),i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsx(Yt,{className:"w-6 h-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Specialties"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:gt.length})]}),i.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:i.jsx(Gl,{className:"w-6 h-6 text-purple-600"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Appointments"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.reduce((G,z)=>G+(z.appointments?.[0]?.count||0),0)})]}),i.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg",children:i.jsx(Je,{className:"w-6 h-6 text-emerald-600"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Active Profiles"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.length})]}),i.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:i.jsx(nt,{className:"w-6 h-6 text-green-600"})})]})})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name, specialty, or email...",value:A,onChange:G=>L(G.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg p-1",children:[i.jsx(ci,{className:"w-4 h-4 text-gray-500"}),i.jsx("button",{onClick:()=>Z("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${P==="all"?"bg-white text-[#1a5858] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"All"}),gt.slice(0,3).map(G=>i.jsx("button",{onClick:()=>Z(G),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${P===G?"bg-white text-[#1a5858] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:G},G))]}),i.jsx("button",{onClick:W,className:"p-2.5 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh doctors",children:i.jsx(ga,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:()=>{Te(),d(!0)},className:"flex items-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx(Kl,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Doctor"})]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.length===0?i.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Yt,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No doctors found"}),i.jsx("p",{className:"text-gray-400 text-sm",children:A?"Try a different search term":"Add your first doctor to get started"})]})}):X.map(G=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden group",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[G.profile_image_url?i.jsx("img",{src:G.profile_image_url,alt:G.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center",children:i.jsx(Vl,{className:"w-12 h-12 text-[#1a5858]"})})}),i.jsxs("div",{className:"absolute top-3 right-3 flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[i.jsx("button",{onClick:()=>we(G),className:"p-2 bg-white/90 backdrop-blur-sm text-blue-600 rounded-lg hover:bg-white transition-colors shadow-sm",title:"Edit doctor",children:i.jsx(Bl,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Q(G.id),className:"p-2 bg-white/90 backdrop-blur-sm text-red-600 rounded-lg hover:bg-white transition-colors shadow-sm",title:"Delete doctor",children:i.jsx(_d,{className:"w-4 h-4"})}),i.jsx("div",{className:"relative group",children:i.jsx("button",{className:"p-2 bg-white/90 backdrop-blur-sm text-gray-600 rounded-lg hover:bg-white transition-colors shadow-sm",children:i.jsx(dy,{className:"w-4 h-4"})})})]})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:G.name}),i.jsx("div",{className:"flex items-center space-x-2 mt-1",children:i.jsx("div",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full",children:G.specialty})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.appointments?.[0]?.count||0}),i.jsx("p",{className:"text-xs text-gray-500",children:"appointments"})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:G.description||"Professional healthcare provider dedicated to patient wellness."}),(G.email||G.phone)&&i.jsxs("div",{className:"space-y-2 mb-4",children:[G.email&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(gr,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"truncate",children:G.email})]}),G.phone&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Ys,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:G.phone})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[i.jsxs("button",{onClick:()=>{R(G.id),C(G.name),N(!0)},className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity text-sm",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsx("span",{children:"Manage Availability"})]}),i.jsx("button",{onClick:()=>we(G),className:"p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Quick edit",children:i.jsx(Bl,{className:"w-4 h-4"})})]})]})]},G.id))}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-fadeIn",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-[#b0e7e7]/20 rounded-lg",children:f?i.jsx(Bl,{className:"w-5 h-5 text-[#1a5858]"}):i.jsx(Kl,{className:"w-5 h-5 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:f?"Update Doctor Profile":"Add New Doctor"}),i.jsx("p",{className:"text-sm text-gray-500",children:f?"Modify doctor information":"Create a new doctor profile"})]})]}),i.jsx("button",{onClick:()=>{d(!1),Te()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(ro,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"p-6 space-y-5",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Vl,{className:"w-4 h-4"}),i.jsx("span",{children:"Full Name *"})]})}),i.jsx("input",{type:"text",value:m.name,onChange:G=>p({...m,name:G.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all",placeholder:"Dr. John Smith"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Gl,{className:"w-4 h-4"}),i.jsx("span",{children:"Specialty *"})]})}),i.jsx("input",{type:"text",value:m.specialty,onChange:G=>p({...m,specialty:G.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all",placeholder:"Clinical Psychologist"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(gr,{className:"w-4 h-4"}),i.jsx("span",{children:"Email"})]})}),i.jsx("input",{type:"email",value:m.email,onChange:G=>p({...m,email:G.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all",placeholder:"doctor@healthcare.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Ys,{className:"w-4 h-4"}),i.jsx("span",{children:"Phone"})]})}),i.jsx("input",{type:"tel",value:m.phone,onChange:G=>p({...m,phone:G.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all",placeholder:"+1 (555) 123-4567"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:m.description,onChange:G=>p({...m,description:G.target.value}),rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all resize-none",placeholder:"Tell us about the doctor's experience, qualifications, and approach..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(mg,{className:"w-4 h-4"}),i.jsx("span",{children:"Profile Image"})]})}),i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden",children:f?.profile_image_url&&!m.profile_image?i.jsx("img",{src:f.profile_image_url,alt:"Current",className:"w-full h-full object-cover"}):m.profile_image instanceof File?i.jsxs("div",{className:"text-center p-2",children:[i.jsx(V_,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),i.jsx("span",{className:"text-xs text-gray-500 truncate block",children:m.profile_image.name})]}):i.jsx(mg,{className:"w-8 h-8 text-gray-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"sr-only",children:"Choose profile image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:G=>p({...m,profile_image:G.target.files[0]}),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-[#b0e7e7] file:text-[#1a5858] hover:file:bg-[#8adcdc] cursor-pointer"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: Square image, 500x500px, max 2MB"})]})]})})]})]})}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex space-x-3",children:[i.jsx("button",{onClick:()=>{d(!1),Te()},className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:f?ge:de,disabled:v,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:v?i.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[i.jsx(ga,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Processing..."})]}):f?"Update Profile":"Add Doctor"})]})]})}),w&&i.jsx(wy,{doctorId:T,doctorName:E,onClose:()=>{N(!1),R(null),C("")}})]})}class di{constructor(a=0,n="Network Error"){this.status=a,this.text=n}}const vN=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,a)=>Promise.resolve(localStorage.setItem(s,a)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},mt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:vN()},Nd=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},wN=(s,a="https://api.emailjs.com")=>{if(!s)return;const n=Nd(s);mt.publicKey=n.publicKey,mt.blockHeadless=n.blockHeadless,mt.storageProvider=n.storageProvider,mt.blockList=n.blockList,mt.limitRate=n.limitRate,mt.origin=n.origin||a},jy=async(s,a,n={})=>{const o=await fetch(mt.origin+s,{method:"POST",headers:n,body:a}),u=await o.text(),d=new di(o.status,u);if(o.ok)return d;throw d},_y=(s,a,n)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!a||typeof a!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jN=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Ny=s=>s.webdriver||!s.languages||s.languages.length===0,Sy=()=>new di(451,"Unavailable For Headless Browser"),_N=(s,a)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof a!="string")throw"The BlockList watchVariable has to be a string"},NN=s=>!s.list?.length||!s.watchVariable,SN=(s,a)=>s instanceof FormData?s.get(a):s[a],ky=(s,a)=>{if(NN(s))return!1;_N(s.list,s.watchVariable);const n=SN(a,s.watchVariable);return typeof n!="string"?!1:s.list.includes(n)},Ey=()=>new di(403,"Forbidden"),kN=(s,a)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(a&&typeof a!="string")throw"The LimitRate ID has to be a non-empty string"},EN=async(s,a,n)=>{const o=Number(await n.get(s)||0);return a-Date.now()+o},Ty=async(s,a,n)=>{if(!a.throttle||!n)return!1;kN(a.throttle,a.id);const o=a.id||s;return await EN(o,a.throttle,n)>0?!0:(await n.set(o,Date.now().toString()),!1)},Ay=()=>new di(429,"Too Many Requests"),TN=async(s,a,n,o)=>{const u=Nd(o),d=u.publicKey||mt.publicKey,f=u.blockHeadless||mt.blockHeadless,g=u.storageProvider||mt.storageProvider,m={...mt.blockList,...u.blockList},p={...mt.limitRate,...u.limitRate};return f&&Ny(navigator)?Promise.reject(Sy()):(_y(d,s,a),jN(n),n&&ky(m,n)?Promise.reject(Ey()):await Ty(location.pathname,p,g)?Promise.reject(Ay()):jy("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:d,service_id:s,template_id:a,template_params:n}),{"Content-type":"application/json"}))},AN=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ON=s=>typeof s=="string"?document.querySelector(s):s,CN=async(s,a,n,o)=>{const u=Nd(o),d=u.publicKey||mt.publicKey,f=u.blockHeadless||mt.blockHeadless,g=mt.storageProvider||u.storageProvider,m={...mt.blockList,...u.blockList},p={...mt.limitRate,...u.limitRate};if(f&&Ny(navigator))return Promise.reject(Sy());const v=ON(n);_y(d,s,a),AN(v);const b=new FormData(v);return ky(m,b)?Promise.reject(Ey()):await Ty(location.pathname,p,g)?Promise.reject(Ay()):(b.append("lib_version","4.4.1"),b.append("service_id",s),b.append("template_id",a),b.append("user_id",d),jy("/api/v1.0/email/send-form",b))},Oy={init:wN,send:TN,sendForm:CN,EmailJSResponseStatus:di};function RN(){const[s,a]=S.useState([]),[n,o]=S.useState(!0),[u,d]=S.useState("all"),[f,g]=S.useState(""),[m,p]=S.useState(null);S.useEffect(()=>{v()},[u]);const v=async()=>{try{o(!0);let A=ce.from("appointments").select(`
          *,
          doctors:doctor_id(name, specialty),
          time_slots:time_slot_id(date, start_time, end_time)
        `).order("created_at",{ascending:!1});u!=="all"&&(A=A.eq("status",u));const{data:L,error:P}=await A;if(P)throw P;a(L||[])}catch(A){console.error("Error fetching appointments:",A)}finally{o(!1)}},b=async(A,L)=>{try{const{error:P}=await ce.from("appointments").update({status:L}).eq("id",A);if(P)throw P;if(L==="confirmed"){const Z=s.find(W=>W.id===A);if(Z?.time_slot_id&&await ce.from("time_slots").update({is_available:!1}).eq("id",Z.time_slot_id),Z)try{await Oy.send(void 0,void 0,{to_email:Z.email,patient_name:`${Z.first_name} ${Z.last_name}`,doctor_name:Z.doctors?.name||"N/A",doctor_specialty:Z.doctors?.specialty||"",appointment_date:Z.time_slots?.date?Xe(new Date(Z.time_slots.date),"MMMM dd, yyyy"):"N/A",appointment_time:`${Z.time_slots?.start_time||""} - ${Z.time_slots?.end_time||""}`},void 0)}catch(W){console.error("Email failed",W)}}v()}catch(P){console.error("Error updating appointment:",P),alert("Error updating appointment: "+P.message)}},w=async A=>{if(window.confirm("Are you sure you want to cancel this appointment? This action cannot be undone."))try{const{error:L}=await ce.from("appointments").update({status:"cancelled"}).eq("id",A);if(L)throw L;const P=s.find(Z=>Z.id===A);P?.time_slot_id&&await ce.from("time_slots").update({is_available:!0}).eq("id",P.time_slot_id),v()}catch(L){console.error("Error cancelling:",L),alert("Failed to cancel appointment")}},N=A=>{p(A)},T=s.filter(A=>`${A.first_name} ${A.last_name}`.toLowerCase().includes(f.toLowerCase())||A.email.toLowerCase().includes(f.toLowerCase())||A.doctors?.name.toLowerCase().includes(f.toLowerCase())),R=s.filter(A=>A.status==="pending").length,E=s.filter(A=>A.status==="confirmed").length,C=s.filter(A=>A.status==="cancelled").length;return n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] animate-spin"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading appointments..."})]}):i.jsxs("div",{className:"animate-fadeIn",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] rounded-xl",children:i.jsx(Je,{className:"w-6 h-6 text-[#1a5858]"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Appointment Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage and track patient session requests"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Pending"}),i.jsx("p",{className:"text-3xl font-bold text-amber-600 mt-1",children:R})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg",children:i.jsx(ma,{className:"w-6 h-6 text-amber-600"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Confirmed"}),i.jsx("p",{className:"text-3xl font-bold text-emerald-600 mt-1",children:E})]}),i.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg",children:i.jsx(nt,{className:"w-6 h-6 text-emerald-600"})})]})}),i.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Cancelled"}),i.jsx("p",{className:"text-3xl font-bold text-rose-600 mt-1",children:C})]}),i.jsx("div",{className:"p-3 bg-rose-50 rounded-lg",children:i.jsx(oa,{className:"w-6 h-6 text-rose-600"})})]})})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by patient, doctor, or email...",value:f,onChange:A=>g(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] focus:border-transparent outline-none transition-all"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg p-1",children:[i.jsx(ci,{className:"w-4 h-4 text-gray-500"}),["all","pending","confirmed","cancelled"].map(A=>i.jsx("button",{onClick:()=>d(A),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${u===A?"bg-white text-[#1a5858] shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))]}),i.jsx("button",{onClick:v,className:"p-2.5 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh appointments",children:i.jsx(ga,{className:"w-5 h-5"})}),i.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] text-[#1a5858] font-semibold rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx(S_,{className:"w-5 h-5"}),i.jsx("span",{children:"Export"})]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.length===0?i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Je,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No appointments found"}),i.jsx("p",{className:"text-gray-400 text-sm",children:f?"Try a different search term":"No appointments match the selected filter"})]})}):T.map(A=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden group",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center",children:i.jsxs("span",{className:"text-lg font-semibold text-[#1a5858]",children:[A.first_name[0],A.last_name[0]]})}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${A.status==="confirmed"?"bg-emerald-500":A.status==="pending"?"bg-amber-500":"bg-rose-500"}`})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:[A.first_name," ",A.last_name]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("div",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:i.jsx("span",{className:"text-xs text-gray-600 font-medium",children:A.education_level})}),i.jsx("div",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${A.status==="confirmed"?"bg-emerald-100 text-emerald-800":A.status==="pending"?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-800"}`,children:A.status})]})]})]}),i.jsx("button",{onClick:()=>N(A),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View details",children:i.jsx(to,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"space-y-3 mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[i.jsx(gr,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"truncate",children:A.email})]}),i.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[i.jsx(Ys,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:A.phone_number})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Yt,{className:"w-4 h-4 text-gray-500"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Doctor"})]}),i.jsx("p",{className:"font-semibold text-gray-900 truncate",children:A.doctors?.name||"Not assigned"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:A.doctors?.specialty})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(wd,{className:"w-4 h-4 text-gray-500"}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Schedule"})]}),i.jsx("p",{className:"font-semibold text-gray-900",children:A.time_slots?.date?Xe(new Date(A.time_slots.date),"MMM dd, yyyy"):"Not scheduled"}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-sm text-gray-500",children:[i.jsx($t,{className:"w-3 h-3"}),i.jsxs("span",{children:[A.time_slots?.start_time," - ",A.time_slots?.end_time]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-500",children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(jd,{className:"w-3 h-3"}),i.jsxs("span",{children:["Booked: ",Xe(new Date(A.created_at),"MMM dd, HH:mm")]})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[A.status==="pending"&&i.jsxs("button",{onClick:()=>b(A.id,"confirmed"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-lg hover:opacity-90 transition-opacity text-sm",children:[i.jsx(nt,{className:"w-4 h-4"}),i.jsx("span",{children:"Confirm"})]}),A.status!=="cancelled"&&i.jsxs("button",{onClick:()=>w(A.id),className:"flex items-center space-x-2 px-4 py-2 bg-white text-rose-600 border border-rose-200 font-semibold rounded-lg hover:bg-rose-50 transition-colors text-sm",children:[i.jsx(Rj,{className:"w-4 h-4"}),i.jsx("span",{children:"Cancel"})]})]})]})]})},A.id))}),T.length>0&&i.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",T.length," of ",s.length," appointments"]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2 md:mt-0",children:[i.jsxs("button",{onClick:v,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[i.jsx(ga,{className:"w-4 h-4"}),i.jsx("span",{children:"Refresh"})]}),i.jsxs("button",{className:"flex items-center space-x-2 text-sm text-[#1a5858] font-medium",children:[i.jsx(Wj,{className:"w-4 h-4"}),i.jsx("span",{children:"Export All"})]})]})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-fadeIn",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Appointment Details"}),i.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(oa,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-semibold text-[#1a5858]",children:[m.first_name[0],m.last_name[0]]})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[m.first_name," ",m.last_name]}),i.jsx("p",{className:"text-gray-600",children:m.email}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx("div",{className:`px-3 py-1 text-xs font-semibold rounded-full ${m.status==="confirmed"?"bg-emerald-100 text-emerald-800":m.status==="pending"?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-800"}`,children:m.status}),i.jsx("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:m.education_level})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Contact"}),i.jsx("p",{className:"font-medium text-gray-900",children:m.phone_number})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Booked On"}),i.jsx("p",{className:"font-medium text-gray-900",children:Xe(new Date(m.created_at),"MMM dd, yyyy HH:mm")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"Doctor Information"}),i.jsx("p",{className:"font-semibold text-gray-900",children:m.doctors?.name||"Not assigned"}),i.jsx("p",{className:"text-gray-600",children:m.doctors?.specialty})]}),i.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-emerald-600 font-medium mb-2",children:"Appointment Time"}),i.jsx("p",{className:"font-semibold text-gray-900",children:m.time_slots?.date?Xe(new Date(m.time_slots.date),"MMMM dd, yyyy"):"Not scheduled"}),i.jsxs("p",{className:"text-gray-600",children:[m.time_slots?.start_time," - ",m.time_slots?.end_time]})]})]})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),m.status==="pending"&&i.jsx("button",{onClick:()=>{b(m.id,"confirmed"),p(null)},className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-lg hover:opacity-90 transition-opacity",children:"Confirm Appointment"})]})]})})]})}function DN(){const{isDark:s}=Js(),{user:a,signOut:n}=eo(),o=Xs(),[u,d]=S.useState("doctors"),[f,g]=S.useState(!0),[m,p]=S.useState({pendingCount:0,todayCount:0,totalDoctors:0,confirmedToday:0});S.useEffect(()=>{v()},[]);const v=async()=>{try{const[N,T,R]=await Promise.all([ce.from("appointments").select("*",{count:"exact",head:!0}).eq("status","pending"),ce.from("doctors").select("*",{count:"exact",head:!0}),ce.from("appointments").select("*",{count:"exact",head:!0}).eq("status","confirmed")]);p({pendingCount:N.count||0,totalDoctors:T.count||0,confirmedToday:R.count||0})}catch(N){console.error("Error fetching stats:",N)}},b=[{id:"doctors",label:"Doctors",icon:i.jsx(Yt,{className:"w-5 h-5"}),color:"text-blue-500",badge:m.totalDoctors,description:"Manage medical staff"},{id:"timeslots",label:"Time Slots",icon:i.jsx(Je,{className:"w-5 h-5"}),color:"text-emerald-500",description:"Schedule availability"},{id:"appointments",label:"Appointments",icon:i.jsx(jd,{className:"w-5 h-5"}),color:"text-purple-500",badge:m.pendingCount,badgeColor:"bg-amber-500",description:"Manage patient bookings"}],w=async()=>{await n(),o("/login")};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0f172a] transition-colors duration-300",children:[i.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-[#0f172a] border-r border-gray-200 dark:border-gray-800 transform transition-all duration-300 ease-in-out lg:translate-x-0 ${f?"translate-x-0 shadow-2xl":"-translate-x-full"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(bt,{to:"/",className:"w-10 h-10 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-10 h-10 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-10 h-10 object-contain"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-bold text-gray-900 dark:text-white text-lg tracking-tight",children:"HealthCare Pro"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Staff Dashboard"})]})]})}),i.jsxs("nav",{className:"flex-1 py-6 overflow-y-auto",children:[i.jsx("p",{className:"px-6 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Management"}),i.jsx("div",{className:"space-y-1 px-3",children:b.map(N=>i.jsxs("button",{onClick:()=>d(N.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${u===N.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg transition-colors ${u===N.id?"bg-blue-100 dark:bg-blue-800/30":"bg-gray-100 dark:bg-gray-800 group-hover:bg-gray-200 dark:group-hover:bg-gray-700"}`,children:N.icon}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:N.label}),N.badge>0&&i.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${u===N.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:N.badge})]}),N.description&&i.jsx("p",{className:`text-xs mt-0.5 ${u===N.id?"text-blue-500/80 dark:text-blue-400/80":"text-gray-400"}`,children:N.description})]}),u===N.id&&i.jsx(Ba,{className:"w-4 h-4 text-blue-500"})]},N.id))})]}),i.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 space-y-3",children:[i.jsxs("button",{onClick:()=>o("/"),className:"w-full flex items-center justify-center gap-2 px-3 py-3 bg-gray-50 dark:bg-gray-800/50 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-semibold hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[i.jsx(nd,{className:"w-4 h-4"}),i.jsx("span",{children:"View Public Site"})]}),i.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-xl transition-all duration-200 group",children:[i.jsx(Pl,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),i.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>g(!1)}),i.jsxs("main",{className:`min-h-screen transition-all duration-300 ${f?"lg:ml-64":""}`,children:[i.jsxs("header",{className:"sticky top-0 z-40 bg-white dark:bg-[#1e293b] border-b border-gray-200 dark:border-gray-700 shadow-sm transition-colors duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>g(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden","aria-label":"Toggle sidebar",children:f?i.jsx(ro,{className:"w-5 h-5"}):i.jsx(my,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:b.find(N=>N.id===u)?.label||"Dashboard"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Manage your healthcare services efficiently"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ni,{}),m.pendingCount>0&&i.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsx(ma,{className:"w-4 h-4 text-amber-600"}),i.jsxs("span",{className:"text-amber-600 text-sm font-medium",children:[m.pendingCount," pending appointments"]})]}),i.jsx("div",{className:"relative group",children:i.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(sd,{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900"}),m.pendingCount>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-amber-500 rounded-full"})]})}),i.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh data","aria-label":"Refresh",children:i.jsx(ga,{className:"w-5 h-5 text-gray-600 hover:text-gray-900"})}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-xl transition-colors",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] flex items-center justify-center shadow-sm",children:i.jsx(Vl,{className:"w-5 h-5 text-[#1a5858]"})}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:a?.name||a?.email?.split("@")[0]||"Staff Member"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Staff Access"})]})]}),i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform translate-y-2 group-hover:translate-y-0 z-10",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("p",{className:"font-medium text-gray-900",children:a?.email||"staff@healthcare.com"}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(ea,{className:"w-3 h-3 text-blue-500"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Staff Member"})]})]}),i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:()=>o("/"),className:"w-full flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors text-sm",children:[i.jsx(nd,{className:"w-4 h-4"}),i.jsx("span",{children:"Public Site"})]}),i.jsxs("button",{onClick:w,className:"w-full flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-sm",children:[i.jsx(Pl,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign Out"})]})]})]})]})]})]}),i.jsx("div",{className:"px-6 pb-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white dark:from-[#334155] dark:to-[#1e293b] p-4 rounded-xl border border-gray-200 dark:border-gray-700 card-enhanced transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Pending Appointments"}),i.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400 mt-1",children:m.pendingCount})]}),i.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:i.jsx(ma,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white dark:from-[#334155] dark:to-[#1e293b] p-4 rounded-xl border border-gray-200 dark:border-gray-700 card-enhanced transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Confirmed Today"}),i.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 mt-1",children:m.confirmedToday})]}),i.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:i.jsx($t,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white dark:from-[#334155] dark:to-[#1e293b] p-4 rounded-xl border border-gray-200 dark:border-gray-700 card-enhanced transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Total Doctors"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:m.totalDoctors})]}),i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsx(Ua,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})})]})})]}),i.jsxs("div",{className:"p-6 animate-fadeIn",children:[u==="doctors"&&i.jsx(bN,{}),u==="timeslots"&&i.jsx(wy,{}),u==="appointments"&&i.jsx(RN,{})]}),i.jsx("footer",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-[#1e293b] mt-8 transition-colors duration-300",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qj,{className:"w-4 h-4"}),i.jsx("span",{children:"HealthCare Pro Staff Panel v2.0"})]}),i.jsx("div",{className:"mt-2 md:mt-0",children:i.jsxs("span",{children:[" ",new Date().getFullYear()," All rights reserved"]})})]})})]})]})}function MN(){const{isDark:s}=Js(),[a,n]=S.useState([]),[o,u]=S.useState(!0);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:f,error:g}=await ce.from("doctors").select("*").order("created_at",{ascending:!1});if(g)throw g;n(f||[])}catch(f){console.error("Error fetching doctors:",f)}finally{u(!1)}};return o?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] dark:border-[#2d9e9e] dark:border-t-[#8adcdc] animate-spin"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium mt-4",children:"Loading healthcare professionals..."})]}):i.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[i.jsx("nav",{className:"bg-white dark:bg-gray-800 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200 dark:border-gray-700 shadow-sm transition-colors duration-300",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(bt,{to:"/",className:"w-40 h-40 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"})})}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(ni,{})})]})})}),i.jsxs("header",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 transition-colors duration-300",children:[i.jsx("div",{className:"absolute inset-0 opacity-5 dark:opacity-10",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #b0e7e7 1px, transparent 0)",backgroundSize:"40px 40px"}})}),i.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-[#b0e7e7]/20 dark:bg-[#2d9e9e]/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-[#8adcdc]/20 dark:bg-[#1a5858]/10 rounded-full blur-3xl"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-full border border-gray-200 dark:border-gray-700 mb-6",children:[i.jsx(Ll,{className:"w-4 h-4 text-[#1a5858] dark:text-[#8adcdc]"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Professional Mental Healthcare"})]}),i.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6 leading-tight",children:["Your Journey to ",i.jsx("br",{}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#1a5858] via-[#2d9e9e] to-[#3ebdbd] dark:from-[#5fcece] dark:via-[#8adcdc] dark:to-[#b0e7e7] animate-gradient",children:"Better Mental Health"})]}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:"Connect with licensed mental health professionals who are dedicated to supporting your wellbeing. Take the first step towards a healthier, happier you with our compassionate care team."}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("a",{href:"#doctors",className:"flex items-center gap-2 px-6 py-3.5 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-semibold rounded-xl hover:opacity-90 transition-opacity shadow-lg",children:[i.jsx(Je,{className:"w-5 h-5"}),i.jsx("span",{children:"Book a Session"}),i.jsx(vd,{className:"w-5 h-5"})]}),i.jsxs("a",{href:"#features",className:"flex items-center gap-2 px-6 py-3.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-2 border-gray-200 dark:border-gray-700",children:[i.jsx(Ll,{className:"w-5 h-5"}),i.jsx("span",{children:"Learn More"})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] rounded-3xl transform -rotate-6"}),i.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-2xl border border-gray-100 dark:border-gray-700 card-enhanced",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4 group",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300",children:i.jsx(n_,{className:"w-7 h-7 text-[#1a5858] dark:text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Compassionate Care"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Personalized mental health support"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 flex items-center justify-center",children:i.jsx(Lj,{className:"w-7 h-7 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Expert Guidance"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Evidence-based therapy approaches"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 flex items-center justify-center",children:i.jsx(ea,{className:"w-7 h-7 text-gray-700 dark:text-gray-300"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Safe & Confidential"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Secure online sessions"})]})]})]})})]})]})})]}),i.jsx("section",{className:"py-12 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 border-y border-gray-100 dark:border-gray-700",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{value:`${a.length}+`,label:"Expert Professionals",icon:Ua},{value:"500+",label:"Sessions Completed",icon:nt},{value:"98%",label:"Client Satisfaction",icon:id},{value:"24/7",label:"Support Available",icon:$t}].map((f,g)=>{const m=f.icon;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] rounded-xl mb-3",children:i.jsx(m,{className:"w-6 h-6 text-[#1a5858] dark:text-white"})}),i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.value}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:f.label})]},g)})})})}),i.jsxs("main",{id:"doctors",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#b0e7e7]/20 dark:bg-[#2d9e9e]/20 rounded-full mb-4",children:[i.jsx(Yt,{className:"w-4 h-4 text-[#1a5858] dark:text-[#8adcdc]"}),i.jsx("span",{className:"text-sm font-medium text-[#1a5858] dark:text-[#8adcdc]",children:"Our Team"})]}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Meet Our Mental Health Professionals"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Our team of licensed therapists and psychologists brings expertise and compassion to every session, helping you navigate your mental health journey."})]}),a.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:i.jsx(Ql,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:"No doctors available at the moment"}),i.jsx("p",{className:"text-gray-400 dark:text-gray-500 mt-2",children:"Please check back soon for available professionals"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(f=>i.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 card-enhanced overflow-hidden",children:[i.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 overflow-hidden",children:[f.profile_image_url?i.jsx("img",{src:f.profile_image_url,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] flex items-center justify-center",children:i.jsx(Ql,{className:"w-12 h-12 text-[#1a5858] dark:text-white"})})}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("span",{className:"px-3 py-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-full text-xs font-semibold text-emerald-600 dark:text-emerald-400",children:"Available Now"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white group-hover:text-[#1a5858] dark:group-hover:text-[#8adcdc] transition-colors",children:f.name}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsx("div",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full",children:f.specialty})})]}),i.jsx(Gl,{className:"w-5 h-5 text-amber-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6 line-clamp-3 leading-relaxed",children:f.description||"Licensed mental health professional with expertise in evidence-based therapeutic approaches."}),i.jsxs(bt,{to:`/book/${f.id}`,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-semibold rounded-lg hover:opacity-90 transition-opacity",children:[i.jsx("span",{children:"Book Session"}),i.jsx(Ba,{className:"w-4 h-4"})]})]})]},f.id))})]}),i.jsx("section",{id:"features",className:"py-20 bg-gradient-to-br from-[#1a5858] to-[#0d3d3d] dark:from-[#0f172a] dark:to-[#1e293b]",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 mb-6",children:[i.jsx(Ll,{className:"w-4 h-4 text-white"}),i.jsx("span",{className:"text-sm font-medium text-white",children:"Why Choose Us"})]}),i.jsxs("h2",{className:"text-3xl font-bold text-white mb-8",children:["Compassionate Care, ",i.jsx("br",{}),"Exceptional Results"]}),i.jsx("div",{className:"space-y-6",children:[{icon:ea,title:"Confidential & Secure",description:"Your privacy is protected with end-to-end encryption and strict confidentiality policies."},{icon:id,title:"Expert Professionals",description:"Our team consists of licensed therapists with years of clinical experience."},{icon:Je,title:"Flexible Scheduling",description:"Book sessions that fit your schedule with our easy online booking system."}].map((f,g)=>{const m=f.icon;return i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center flex-shrink-0 border border-white/20",children:i.jsx(m,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:f.title}),i.jsx("p",{className:"text-white/70 text-sm",children:f.description})]})]},g)})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#b0e7e7]/20 to-[#8adcdc]/20 rounded-3xl transform rotate-3"}),i.jsxs("div",{className:"relative bg-white/10 backdrop-blur-sm p-8 rounded-3xl border border-white/20",children:[i.jsx("div",{className:"text-white/90 text-lg italic leading-relaxed mb-6",children:`"Taking the first step towards better mental health is the most important step you can take. We're here to support you on this journey with compassion and expertise."`}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] flex items-center justify-center",children:i.jsx(l_,{className:"w-6 h-6 text-[#1a5858] dark:text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:"HealthCare Pro Team"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Dedicated to Your Wellbeing"})]})]})]})]})]})})}),i.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(bt,{to:"/",className:"w-40 h-40 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"})})}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Professional mental healthcare services for individuals seeking support and guidance."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Info"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ys,{className:"w-4 h-4"}),i.jsx("span",{children:"+1 (555) 123-4567"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-4 h-4"}),i.jsx("span",{children:"support@healthcarepro.com"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(b_,{className:"w-4 h-4"}),i.jsx("span",{children:"123 Health St, Wellness City"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Links"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Our Team"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Services"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Resources"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Testimonials"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Legal"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Cookie Policy"}),i.jsx("a",{href:"#",className:"hover:text-[#1a5858] dark:hover:text-[#8adcdc] transition-colors block",children:"Accessibility"})]})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," HealthCare Pro. All rights reserved."]}),i.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:i.jsx("span",{children:"Licensed Mental Health Provider"})})]})})]})})]})}function UN(){const{isDark:s}=Js(),{doctorId:a}=Kb(),n=Xs(),[o,u]=S.useState(null),[d,f]=S.useState([]),[g,m]=S.useState(null),[p,v]=S.useState(""),[b,w]=S.useState(new Date),[N,T]=S.useState(!1),[R,E]=S.useState({type:"",text:""}),[C,A]=S.useState({first_name:"",last_name:"",education_level:"",email:"",phone_number:""}),[L,P]=S.useState(!0),[Z,W]=S.useState(!1),[K,de]=S.useState(1),ge=S.useCallback(async()=>{try{const{data:j,error:B}=await ce.from("doctors").select("*").eq("id",a).single();if(B)throw B;u(j)}catch(j){console.error("Error fetching doctor:",j),n("/",{replace:!0})}},[a,n]),Q=S.useCallback(async()=>{try{const j=kg().toISOString(),{data:B,error:V}=await ce.from("time_slots").select("*").eq("doctor_id",a).gte("date",j.split("T")[0]).order("date",{ascending:!0}).order("start_time",{ascending:!0});if(V)throw V;const J=new Date,ee=(B||[]).filter(he=>{const _e=new Date(`${he.date}T${he.start_time}`);return Ng(_e,J)});f(ee)}catch(j){console.error("Error fetching time slots:",j)}},[a]);S.useEffect(()=>{(async()=>(P(!0),await Promise.all([ge(),Q()]),P(!1)))()},[ge,Q]);const we=async j=>{if(!j.is_available){E({type:"error",text:"This time slot is already booked. Please select another one."});return}T(!0),E({type:"verifying",text:"Checking availability..."});try{const{data:B,error:V}=await ce.from("time_slots").select("is_available").eq("id",j.id).single();if(V)throw V;B.is_available?(m(j),E({type:"success",text:"This time slot is available!"})):(f(J=>J.map(ee=>ee.id===j.id?{...ee,is_available:!1}:ee)),m(null),E({type:"error",text:"Sorry, this slot was just booked. Please choose another."}))}catch(B){console.error("Error verifying slot:",B),E({type:"error",text:"Error verifying availability. Please try again."})}finally{T(!1)}},Te=async j=>{j.preventDefault(),W(!0);try{const{data:B,error:V}=await ce.from("time_slots").select("is_available").eq("id",g.id).single();if(V)throw V;if(!B.is_available){de(1),m(null),E({type:"error",text:"This slot was just booked by another user. Please choose another."}),W(!1);return}const{error:J}=await ce.from("appointments").insert({doctor_id:a,time_slot_id:g.id,first_name:C.first_name,last_name:C.last_name,education_level:C.education_level,email:C.email,phone_number:C.phone_number,status:"pending"});if(J)throw J;await ce.from("time_slots").update({is_available:!1}).eq("id",g.id);try{await Oy.send(void 0,void 0,{patient_name:`${C.first_name} ${C.last_name}`,patient_email:C.email,patient_phone:C.phone_number,education_level:C.education_level,doctor_name:o.name,doctor_specialty:o.specialty,appointment_date:Xe(new Date(g.date),"MMMM dd, yyyy"),appointment_time:`${g.start_time} - ${g.end_time}`},void 0)}catch(ee){console.error("Failed to send notification:",ee)}de(3)}catch(B){console.error("Error booking appointment:",B),alert("Error booking appointment: "+B.message)}finally{W(!1)}};if(L)return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-[#b0e7e7] border-t-[#1a5858] dark:border-[#2d9e9e] dark:border-t-[#8adcdc] animate-spin"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium mt-4",children:"Loading appointment details..."})]});if(!o)return null;Array.from(new Set(d.map(j=>j.date))).sort();const gt=p?d.filter(j=>j.date===p):[],X=h2(b),G=c2(X),z=Gs(X),I=m2(G),ne=d2({start:z,end:I}),je=j=>{const B=Xe(j,"yyyy-MM-dd"),V=d.filter(ee=>ee.date===B);return!Ng(j,kg())&&!Sg(j)?"past":V.length===0?"none":V.some(ee=>ee.is_available)?"available":"full"},ke=j=>{const B={morning:{label:"Morning",icon:Ll,slots:[]},afternoon:{label:"Afternoon",icon:$t,slots:[]},evening:{label:"Evening",icon:gy,slots:[]}};return j.forEach(V=>{const J=parseInt(V.start_time.split(":")[0]);J<12?B.morning.slots.push(V):J<17?B.afternoon.slots.push(V):B.evening.slots.push(V)}),Object.entries(B).filter(([V,J])=>J.slots.length>0)};return K===3?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4 py-8",children:i.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center animate-fadeIn",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] rounded-full flex items-center justify-center",children:i.jsx(nt,{className:"w-10 h-10 text-[#1a5858] dark:text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Booking Confirmed!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Your appointment request has been submitted successfully. You will receive a confirmation email shortly."}),i.jsxs("div",{className:"bg-gradient-to-r from-[#b0e7e7]/20 to-[#8adcdc]/20 dark:from-[#2d9e9e]/20 dark:to-[#1a5858]/20 rounded-xl p-6 mb-8 border border-[#b0e7e7] dark:border-[#2d9e9e]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-white dark:bg-gray-700 flex items-center justify-center shadow-sm",children:i.jsx(Yt,{className:"w-6 h-6 text-[#1a5858] dark:text-[#8adcdc]"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:o.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:o.specialty})]})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsx("span",{children:Xe(new Date(g.date),"EEEE, MMMM dd, yyyy")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsxs("span",{children:[g.start_time," - ",g.end_time]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[i.jsx(Ua,{className:"w-4 h-4"}),i.jsxs("span",{children:["Session with ",o.name]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(bt,{to:"/",className:"block w-full px-6 py-3 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-semibold rounded-lg hover:opacity-90 transition-opacity",children:"Return to Homepage"}),i.jsx(bt,{to:"/",className:"block w-full px-6 py-3 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors border border-gray-200 dark:border-gray-600",children:"Book Another Appointment"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[i.jsx("nav",{className:"bg-white dark:bg-gray-800 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx(bt,{to:"/",className:"w-40 h-40 flex items-center justify-center hover:opacity-90 transition-opacity",children:s?i.jsx("img",{src:Pr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"}):i.jsx("img",{src:Vr,alt:"HealthCare Pro Logo",className:"w-40 h-40 object-contain"})}),i.jsxs(bt,{to:"/",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors font-medium",children:[i.jsx(Yu,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Doctors"})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"flex items-center justify-center",children:[1,2,3].map((j,B)=>i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:`flex flex-col items-center ${K>=j?"text-[#1a5858] dark:text-[#8adcdc]":"text-gray-400"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold border-2 ${K>=j?"bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] border-[#b0e7e7] dark:border-[#2d9e9e] text-[#1a5858] dark:text-white":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-400"}`,children:K>j?i.jsx(nt,{className:"w-5 h-5"}):j}),i.jsx("span",{className:"text-xs font-medium mt-2",children:j===1?"Select Time":j===2?"Your Details":"Confirm"})]}),B<2&&i.jsx("div",{className:`w-16 h-1 mx-2 ${K>j?"bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858]":"bg-gray-200 dark:bg-gray-700"}`})]},j))})}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden sticky top-24 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"h-48 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 relative overflow-hidden",children:[o.profile_image_url?i.jsx("img",{src:o.profile_image_url,alt:o.name,className:"w-full h-full object-cover",loading:"lazy"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] flex items-center justify-center",children:i.jsx(Yt,{className:"w-12 h-12 text-[#1a5858] dark:text-white"})})}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("div",{className:"px-3 py-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-full text-xs font-semibold text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:"Available"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:o.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm font-medium rounded-full",children:o.specialty}),i.jsx(Gl,{className:"w-4 h-4 text-amber-500"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:o.description||"Licensed mental health professional dedicated to providing compassionate care and evidence-based therapy."}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(ea,{className:"w-4 h-4"}),i.jsx("span",{children:"Secure & confidential booking"})]})})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 lg:p-8 border border-gray-100 dark:border-gray-700",children:[K===1&&i.jsxs("div",{className:"animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#b0e7e7]/20 to-[#8adcdc]/20 dark:from-[#2d9e9e]/20 dark:to-[#1a5858]/20 flex items-center justify-center",children:i.jsx(Je,{className:"w-5 h-5 text-[#1a5858] dark:text-[#8adcdc]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Select Date & Time"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Choose a convenient slot for your session"})]})]}),d.length===0?i.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-6 border border-amber-200 dark:border-amber-700 text-center mb-8 animate-fadeIn",children:[i.jsx(Je,{className:"w-12 h-12 text-amber-400 dark:text-amber-500 mx-auto mb-3"}),i.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"No Scheduled Sessions"}),i.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"This doctor hasn't scheduled any sessions yet."}),i.jsx(bt,{to:"/",className:"inline-block mt-4 px-4 py-2 bg-white dark:bg-gray-700 text-amber-700 dark:text-amber-300 font-medium rounded-lg border border-amber-300 dark:border-amber-600 hover:bg-amber-50 dark:hover:bg-gray-600 transition-colors text-sm",children:"View Other Doctors"})]}):i.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Xe(b,"MMMM yyyy")}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>w(gN(b)),className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 transition-colors",children:i.jsx(Yu,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),i.jsx("button",{type:"button",onClick:()=>w(py(b,1)),className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 transition-colors",children:i.jsx(Ba,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>i.jsx("div",{className:"text-center text-xs font-bold text-gray-400 dark:text-gray-500 py-2 uppercase tracking-wider",children:j},j))}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:ne.map((j,B)=>{const V=je(j),J=fN(j,X),ee=p===Xe(j,"yyyy-MM-dd"),he=Sg(j);return i.jsxs("button",{type:"button",disabled:V==="past"||V==="none",onClick:()=>{v(Xe(j,"yyyy-MM-dd")),m(null),E({type:"",text:""})},className:`
                                relative aspect-square rounded-xl flex flex-col items-center justify-center transition-all border
                                ${J?"opacity-100":"opacity-30"}
                                ${V==="past"||V==="none"?"bg-gray-50 dark:bg-gray-700 border-transparent cursor-not-allowed text-gray-300 dark:text-gray-500":ee?"bg-[#1a5858] dark:bg-[#2d9e9e] border-[#1a5858] dark:border-[#2d9e9e] text-white shadow-md scale-105 z-10":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 hover:border-[#b0e7e7] dark:hover:border-[#2d9e9e] hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}
                              `,children:[he&&i.jsx("span",{className:`absolute top-1.5 text-[8px] font-black uppercase tracking-tighter ${ee?"text-white":"text-[#1a5858] dark:text-[#8adcdc]"}`,children:"Today"}),i.jsx("span",{className:`text-sm font-bold ${ee?"text-white":"text-gray-900 dark:text-white"}`,children:Xe(j,"d")}),V!=="past"&&V!=="none"&&i.jsx("div",{className:`mt-1 w-1.5 h-1.5 rounded-full ${ee?"bg-[#b0e7e7] dark:bg-[#8adcdc]":V==="available"?"bg-emerald-500":"bg-red-400"}`})]},B)})}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 dark:border-gray-700 flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Available"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-400"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Fully Booked"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-200 dark:bg-gray-600"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"No Sessions"})]})]})]}),p&&i.jsxs("div",{className:"mb-8 animate-fadeIn",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($t,{className:"w-4 h-4"}),i.jsx("span",{children:"Choose Time Slot"})]})}),gt.length===0?i.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-700/50 rounded-2xl p-12 text-center border-2 border-dashed border-gray-100 dark:border-gray-600",children:[i.jsx($t,{className:"w-12 h-12 text-gray-300 dark:text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No available time slots on this date"}),i.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Please select another date from the calendar"})]}):i.jsxs("div",{className:"space-y-8",children:[R.text&&i.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 animate-fadeIn ${R.type==="error"?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-100 dark:border-red-800":R.type==="success"?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800":"bg-[#b0e7e7]/10 dark:bg-[#2d9e9e]/20 text-[#1a5858] dark:text-[#8adcdc] border border-[#b0e7e7]/20 dark:border-[#2d9e9e]/30"}`,children:[R.type==="verifying"?i.jsx(gg,{className:"w-5 h-5 animate-spin"}):R.type==="error"?i.jsx(ma,{className:"w-5 h-5"}):i.jsx(nt,{className:"w-5 h-5"}),i.jsx("p",{className:"text-sm font-medium",children:R.text})]}),ke(gt).map(([j,B])=>i.jsxs("div",{className:"relative pl-8",children:[i.jsx("div",{className:"absolute left-[11px] top-8 bottom-0 w-0.5 bg-gray-100 dark:bg-gray-700"}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"absolute left-0 w-6 h-6 rounded-full bg-white dark:bg-gray-800 border-2 border-[#b0e7e7] dark:border-[#2d9e9e] flex items-center justify-center z-10",children:i.jsx(B.icon,{className:"w-3 h-3 text-[#1a5858] dark:text-[#8adcdc]"})}),i.jsx("h5",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-widest",children:B.label}),i.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-medium",children:[B.slots.length," slots"]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:B.slots.map(V=>{const J=g?.id===V.id,ee=V.is_available;return i.jsxs("button",{type:"button",onClick:()=>we(V),disabled:N,className:`p-4 rounded-2xl border-2 transition-all text-left group relative overflow-hidden ${J?"border-[#1a5858] dark:border-[#2d9e9e] bg-[#1a5858] dark:bg-[#2d9e9e] text-white shadow-lg scale-[1.02]":ee?"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 hover:border-[#b0e7e7] dark:hover:border-[#2d9e9e] hover:shadow-md":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 cursor-not-allowed opacity-60 grayscale"}`,children:[J&&i.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 bg-white/10 dark:bg-white/5 rounded-bl-full flex items-start justify-end p-2",children:i.jsx(nt,{className:"w-4 h-4 text-white"})}),i.jsx("div",{className:`text-base font-bold mb-1 ${J?"text-white":ee?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500"}`,children:V.start_time}),i.jsx("div",{className:"flex items-center gap-1.5",children:ee?i.jsxs("span",{className:`text-[10px] uppercase font-black tracking-tighter ${J?"text-white/80":"text-[#3ebdbd] dark:text-[#8adcdc]"}`,children:["Finish by ",V.end_time]}):i.jsx("span",{className:"text-[10px] uppercase font-black text-gray-400 dark:text-gray-500 tracking-tighter",children:"Already Booked"})})]},V.id)})})]},j))]})]}),i.jsxs("button",{type:"button",onClick:()=>g&&de(2),disabled:!g||N,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{children:"Continue to Details"}),i.jsx(vd,{className:"w-5 h-5"})]})]}),K===2&&i.jsxs("form",{onSubmit:Te,className:"animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#b0e7e7]/20 to-[#8adcdc]/20 dark:from-[#2d9e9e]/20 dark:to-[#1a5858]/20 flex items-center justify-center",children:i.jsx(Ql,{className:"w-5 h-5 text-[#1a5858] dark:text-[#8adcdc]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Your Information"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Fill in your details to complete booking"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name *"}),i.jsx("input",{type:"text",required:!0,value:C.first_name,onChange:j=>A({...C,first_name:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter first name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name *"}),i.jsx("input",{type:"text",required:!0,value:C.last_name,onChange:j=>A({...C,last_name:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter last name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Uj,{className:"w-4 h-4"}),i.jsx("span",{children:"Education Level *"})]})}),i.jsxs("select",{required:!0,value:C.education_level,onChange:j=>A({...C,education_level:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"",className:"bg-white dark:bg-gray-700",children:"Select education level"}),i.jsx("option",{value:"High School",className:"bg-white dark:bg-gray-700",children:"High School"}),i.jsx("option",{value:"Bachelor's Degree",className:"bg-white dark:bg-gray-700",children:"Bachelor's Degree"}),i.jsx("option",{value:"Master's Degree",className:"bg-white dark:bg-gray-700",children:"Master's Degree"}),i.jsx("option",{value:"Doctorate",className:"bg-white dark:bg-gray-700",children:"Doctorate"}),i.jsx("option",{value:"Other",className:"bg-white dark:bg-gray-700",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-4 h-4"}),i.jsx("span",{children:"Email Address *"})]})}),i.jsx("input",{type:"email",required:!0,value:C.email,onChange:j=>A({...C,email:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"your.email@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Ys,{className:"w-4 h-4"}),i.jsx("span",{children:"Phone Number *"})]})}),i.jsx("input",{type:"tel",required:!0,value:C.phone_number,onChange:j=>A({...C,phone_number:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-[#b0e7e7] dark:focus:ring-[#2d9e9e] focus:border-transparent outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-[#b0e7e7]/10 to-[#8adcdc]/10 dark:from-[#2d9e9e]/10 dark:to-[#1a5858]/10 rounded-xl p-5 border border-[#b0e7e7] dark:border-[#2d9e9e]",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Booking Summary"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Date:"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe(new Date(g.date),"EEEE, MMMM dd, yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Time:"}),i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[g.start_time," - ",g.end_time]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Doctor:"}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.name})]})]})]}),i.jsxs("div",{className:"flex gap-4 pt-4",children:[i.jsxs("button",{type:"button",onClick:()=>de(1),className:"flex items-center gap-2 px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsx(Yu,{className:"w-4 h-4"}),i.jsx("span",{children:"Back"})]}),i.jsx("button",{type:"submit",disabled:Z,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-[#b0e7e7] to-[#8adcdc] dark:from-[#2d9e9e] dark:to-[#1a5858] text-[#1a5858] dark:text-white font-semibold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:Z?i.jsxs(i.Fragment,{children:[i.jsx(gg,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{children:"Processing..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(nt,{className:"w-5 h-5"}),i.jsx("span",{children:"Confirm Booking"})]})})]})]})]})]})})]})]})]})}function zN(){return i.jsx(jj,{children:i.jsx(wj,{children:i.jsx(Cv,{basename:"/healthcare/",children:i.jsxs(lv,{children:[i.jsx(hr,{path:"/",element:i.jsx(MN,{})}),i.jsx(hr,{path:"/book/:doctorId",element:i.jsx(UN,{})}),i.jsx(hr,{path:"/login",element:i.jsx(Z_,{})}),i.jsx(hr,{path:"/unauthorized",element:i.jsx(W_,{})}),i.jsx(hr,{path:"/admin",element:i.jsx(hg,{allowedRoles:["admin"],children:i.jsx(xN,{})})}),i.jsx(hr,{path:"/staff",element:i.jsx(hg,{allowedRoles:["staff","admin"],children:i.jsx(DN,{})})}),i.jsx(hr,{path:"*",element:i.jsx(Pu,{to:"/",replace:!0})})]})})})})}cb.createRoot(document.getElementById("root")).render(i.jsx(S.StrictMode,{children:i.jsx(zN,{})}));
